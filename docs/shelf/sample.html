<html>

<head>
<title>MatrixEngine WebGL Sample</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1" />

<script type="text/javascript" src="js/matrixengine-bootstrap.js"></script>
<script>
function expandCanvas(canvas) {
    var b = document.body;
    var bodyWidth = Math.max(b.clientWidth , 64);
    var bodyHeight = Math.max(b.clientHeight , 64);
    var zoomer = window.devicePixelRatio;
    if(zoomer == undefined){
        if("MxeUtil" in window && MxeUtil.detectSmartPhone()){
            zoomer = window.screen.width/bodyWidth;
        }else{
            zoomer = 1.0;
        }
    }
    canvas.width=bodyWidth*zoomer;
    canvas.height=bodyHeight*zoomer;
    canvas.style.width=bodyWidth;
    canvas.style.height=bodyHeight;

};

function startMatrixEngine() {
    var canvas = document.getElementById("matrixengine-canvas");
    expandCanvas(canvas); //full screen
    matrixEngine = new MxePlayer(canvas);
    var mxeProject = new MxeProject();
    mxeProject.contentsFile = "js/matrixengine-contents.js";
    mxeProject.controllerFile = "js/matrixengine-controller-skeleton.js";
    matrixEngine.setProject(mxeProject);
    matrixEngine.start();
};

window.onresize = function() {
    var canvas = document.getElementById("matrixengine-canvas");
    expandCanvas(canvas);
};

window.onload = function() {
    bootMatrixEngine();
};

window.onloadmatrixengine = function() {
    startMatrixEngine();
};

</script>
</head>

<body width="100%" height="100%" style="position:relative; margin:0px; padding:0px">
    <canvas id="matrixengine-canvas" style="border: none;"></canvas>
</body>

</html>
