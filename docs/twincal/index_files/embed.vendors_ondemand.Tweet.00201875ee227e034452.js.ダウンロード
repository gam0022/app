(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{1003:function(e,t,n){n(10)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},1005:function(e,t,n){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},1006:function(e,t,n){"use strict";var r=n(10),i=n(107).every;r({target:"Array",proto:!0,forced:!n(117)("every")},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},1007:function(e,t,n){"use strict";var r=n(10),i=n(409).includes,a=n(237);r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},1008:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n(25),n(47),n(30),n(39),n(17),n(20),n(48);var r=n(1),i=n.n(r),a=n(0),o=n(26),s=n(385),c=n(127),u=n.n(c),l=n(747),d=n(5),p=n(387),f=n(34);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=u.a.a9edea48;function m(e){var t=e.displayBackgroundImage,n=void 0!==t&&t,r=e.errorMessage,i=e.iconPlayError,c=e.imageSrc,u=e.onReloadPress;return a.createElement(f.default,{style:[d.a.absoluteFill,n?null:_.blankOverlay]},n?a.createElement(a.Fragment,null,a.createElement(f.default,{style:_.backgroundImage},c&&a.createElement(p.a,{resizeMode:"cover",source:c,style:d.a.absoluteFill})),a.createElement(f.default,{style:_.overlay})):null,a.createElement(f.default,{style:_.errorContainer},a.createElement(f.default,null,i?a.createElement(l.IconPlayError,{style:_.playErrorIcon}):null),a.createElement(f.default,{focusable:!0},a.createElement(o.c,{style:n?_.errorMsgTextWhite:_.errorMsgTextGray},r)),u?a.createElement(s.a,{onPress:u,style:_.buttonContainer,type:"primary"},v):null))}var _=d.a.create((function(e){return{backgroundImage:y(y({},d.a.absoluteFillObject),{},{filter:"blur(5px)"}),overlay:y(y({},d.a.absoluteFillObject),{},{backgroundColor:e.colors.translucentBlack77}),blankOverlay:{backgroundColor:e.colors.gray0},buttonContainer:{justifyContent:"center",alignSelf:"center"},errorContainer:{justifyContent:"center",height:"100%",marginHorizontal:e.spaces.space32},errorMsgTextWhite:{color:e.colors.white,textAlign:"center",marginBottom:e.spaces.space20},errorMsgTextGray:{color:e.colors.gray600,textAlign:"center",marginBottom:e.spaces.space20},playErrorIcon:{fill:e.colors.gray600,height:e.spaces.space48,width:e.spaces.space48,marginHorizontal:"auto",paddingBottom:e.spaces.space20,textAlignVertical:"middle"}}}))},1009:function(e,t,n){"use strict";n(115),n(993),t.__esModule=!0,t.default=t.InitialState=t.updateAudioLevels=t.UPDATE_AUDIO_LEVELS=void 0;t.UPDATE_AUDIO_LEVELS="UPDATE_AUDIO_LEVELS";t.updateAudioLevels=function(e,t){return{type:"UPDATE_AUDIO_LEVELS",audioLevels:t,experienceId:e}};var r={guests:{},host:0};t.InitialState=r;t.default=function(e,t){switch(void 0===e&&(e=r),t.type){case"UPDATE_AUDIO_LEVELS":for(var n=t.audioLevels,i=n[0],a=n.slice(1),o={},s=0;s<a.length;s++)o[s]=a[s];return Object.assign({},e,{guests:o,host:i});default:return e}}},1010:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.updateGuestInfo=t.UPDATE_GUEST_INFO=void 0;t.UPDATE_GUEST_INFO="UPDATE_GUEST_INFO";t.updateGuestInfo=function(e,t){return{type:"UPDATE_GUEST_INFO",guestInfo:t,experienceId:e}};t.default=function(e,t){switch(void 0===e&&(e={}),t.type){case"UPDATE_GUEST_INFO":for(var n=t.guestInfo,r={},i=0;i<n.length;i++){var a=n[i],o=a.ParticipantIndex,s=a.ProfileUrl,c=a.SessionId,u=a.StreamName,l=a.UserId,d=a.UserName;r[i]={ParticipantIndex:o,ProfileUrl:s,SessionId:c,StreamName:u,UserId:l,UserName:d}}return r;default:return e}}},1011:function(e,t,n){"use strict";var r=n(742),i=n(13);n(993),t.__esModule=!0,t.default=t.resetGuestState=t.RESET_GUEST_STATE=t.teardownExperience=t.TEARDOWN_EXPERIENCE=t.initializeExperience=t.INITIALIZE_EXPERIENCE=void 0;var a=n(1583),o=i(n(1010)),s=r(n(1009));t.INITIALIZE_EXPERIENCE="INITIALIZE_EXPERIENCE";t.initializeExperience=function(e){return{type:"INITIALIZE_EXPERIENCE",experienceId:e}};t.TEARDOWN_EXPERIENCE="TEARDOWN_EXPERIENCE";t.teardownExperience=function(e){return{type:"TEARDOWN_EXPERIENCE",experienceId:e}};t.RESET_GUEST_STATE="RESET_GUEST_STATE";t.resetGuestState=function(e){return{type:"RESET_GUEST_STATE",experienceId:e}};var c={audioLevels:s.InitialState,guests:{}},u=(0,a.combineReducers)({audioLevels:s.default,guests:o.default});t.default=function(e,t,n){var r;if(void 0===e&&(e={}),void 0===n&&(n=u),void 0!==t.experienceId)switch(t.type){case"INITIALIZE_EXPERIENCE":case"RESET_GUEST_STATE":return Object.assign({},e,((r={})[t.experienceId]=c,r));case"TEARDOWN_EXPERIENCE":var i=Object.assign({},e);return delete i[t.experienceId],i;default:var a,o=n(e[t.experienceId],t);return Object.assign({},e,((a={})[t.experienceId]=o,a))}return e}},1012:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return _}));var r,i=n(36),a=n.n(i),o=n(1),s=n.n(o),c=(n(17),n(20),n(380),n(756)),u=n(754),l=n(841),d=n(774),p=n(782),f=n(773),h=n(753),y=(r={},s()(r,f.b,l.a.HLSJS_INSTANTIATED),s()(r,f.d,l.a.READY),s()(r,f.f,l.a.PLAYBACK_COMPLETE),s()(r,h.x,l.a.PAUSE),s()(r,h.y,l.a.PLAY),r),v={},m=function(e,t,n){void 0===v[e]&&(v[e]={}),void 0===v[e][t]&&(v[e][t]=[]),v[e][t].push(n)},_=function(e){delete v[e]};t.b=function(e){return function(t){return function(n){var r,i,o=n.playerId,s=n.type,f=e.getState().players[o],m=t(n),_=e.getState().players[o];if(o in v){var g=f.tracks.find((function(e){return"content"===e.displayType})),b=_.tracks.find((function(e){return"content"===e.displayType}));switch(s){case d.c:n.thrownError.message===u.a.LIVE_VIDEO_GEOBLOCK_ERROR?r=l.a.GEOBLOCK_ERROR:n.thrownError.message===u.a.LIVE_VIDEO_NO_COOKIES_ERROR&&(r=l.a.NO_COOKIES_ERROR);break;case h.B:!f.isMuted&&_.isMuted?r=l.a.MUTE:f.isMuted&&!_.isMuted&&(r=l.a.UNMUTE);break;case c.a:if(void 0!==g&&void 0!==b&&(g.isLive&&!b.isLive?r=l.a.LIVE_ENDED:!g.isLive&&b.isLive&&(r=l.a.LIVE_STARTED)),!r&&(f.eventTitle!==_.eventTitle||f.eventDescription!==_.eventDescription||f.eventUrl!==_.eventUrl)){var E=_.eventTitle,T=_.eventDescription,O=_.eventUrl;r=l.a.BROADCAST_EVENT_ASSOCIATION_UPDATED,i={eventTitle:E,eventDescription:T,eventUrl:O}}break;case h.i:f.liveClickthroughClicked!==_.liveClickthroughClicked&&(r=l.a.LIVE_CLICKTHROUGH);break;case p.d:var I=f.fullscreen.isFullscreen,S=_.fullscreen.isFullscreen;!I&&S?r=l.a.FULLSCREEN_ENTERED:I&&!S&&(r=l.a.FULLSCREEN_EXITED);break;default:r=y[s]}!function(e,t,n){t in v[e]&&a()(v[e][t])&&v[e][t].forEach((function(e){"function"==typeof e&&e(n)}))}(o,r,i),r===l.a.READY&&function(e,t){t in v[e]&&delete v[e][t]}(o,r)}return m}}}},1013:function(e,t,n){"use strict";var r=n(3),i=n.n(r),a=n(1),o=n.n(a),s=(n(40),n(128),n(399),n(69),n(102),n(103),n(129),function e(t){var n=this;i()(this,e),o()(this,"clearLogs",(function(){try{window.sessionStorage.removeItem(n.storageKey)}catch(e){}})),o()(this,"log",(function(t,r){if(e.debuggingEnabled){var i="".concat(t,": ").concat(r);n.logItemInSessionStorage(i)}})),o()(this,"logItemInSessionStorage",(function(e){try{var t=window.sessionStorage.getItem(n.storageKey),r=t?JSON.parse(t):[];r.push(e),window.sessionStorage.setItem(n.storageKey,JSON.stringify(r))}catch(e){}})),this.storageKey=e.generateStorageKey(t),this.clearLogs()});o()(s,"debuggingEnabled",!1),o()(s,"generateStorageKey",(function(e){return"".concat("TwitterVideoPlayerDebugLog",":").concat(e)})),o()(s,"getDebugFileLink",(function(e){var t=window.sessionStorage.getItem(s.generateStorageKey(e)),n=new window.Blob([JSON.parse(t).join("\n")],{type:"application/octet-stream"});return window.URL.createObjectURL(n)})),t.a=s},1014:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));n(25),n(47),n(30),n(39),n(17),n(20),n(48);var r=n(67),i=n.n(r),a=n(1),o=n.n(a),s=(n(380),n(71),n(40),n(764)),c=n(753);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e,t,n){return function(r){var i=t();r(p(e,i)),r(n?Object(s.f)(e):Object(c.O)(e))}},p=function(e,t){return{type:"AD_LOADED",playerId:e,adResponse:t}};t.c=function(e,t){switch(t.type){case"AD_LOADED":var n=e.tracks,r=t.adResponse;if(void 0===r.mediaInfo)return l(l({},e),{},{adLoaded:!0});var a=r.mediaInfo.variants.find((function(e){return 0===e.content_type.indexOf("application/x-mpegURL")}));if(void 0===a)return l(l({},e),{},{adLoaded:!0});var o,s=r.promotedContent||{};return r.mediaInfo.call_to_action&&(o={type:r.mediaInfo.call_to_action.type,url:r.mediaInfo.call_to_action.url}),l(l({},e),{},{currentTrackId:1,nextTrackIds:[0],tracks:[].concat(i()(n),[{id:1,displayType:"ad",cta:o,contentId:r.adId,contentType:"media_entity",publisherId:r.mediaInfo.publisher_id_str,durationMs:r.mediaInfo.duration_millis,shouldLoop:!1,shouldAutoAdvance:r.shouldAutoAdvance,impressionId:s.impressionId,disclosureType:s.disclosureType,dynamicPrerollType:r.dynamicPrerollType,rotation:0,variants:[{src:a.url,type:a.content_type}],currentVariantIndex:0,advertiserName:r.advertiserName,advertiserProfileImageUrl:r.advertiserProfileImageUrl,useRedesignedPrerollUx:r.useRedesignedPrerollUx}]),videoAnalyticsScribePassthrough:r.videoAnalyticsScribePassthrough,adLoaded:!0});default:return e}};var f={adLoaded:!1}},1015:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r=function(e,t){try{window.localStorage.setItem(e,t)}catch(e){}},i=function(e,t){try{return window.localStorage.getItem(e)}catch(e){return t}}},1016:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(25),n(47),n(30),n(39),n(17),n(20),n(48);var r=n(1),i=n.n(r);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e){return{type:"BANDWIDTH_ESTIMATE",bandwidthEstimate:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BANDWIDTH_ESTIMATE":return o(o({},e),{},{mostRecentBandwidthEst:t.bandwidthEstimate});default:return e}}},1017:function(e,t,n){"use strict";var r=n(412),i=n(557);e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},1026:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return S}));var r,i,a,o,s=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},c=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},u=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},l=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},d="function"==typeof WeakSet?new WeakSet:new Set,p=function(e,t,n){var r;return function(){t.value>=0&&(n||d.has(t)||"hidden"===document.visibilityState)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},f=-1,h=function(){return"hidden"===document.visibilityState?0:1/0},y=function(){u((function(e){var t=e.timeStamp;f=t}),!0)},v=function(){return f<0&&(f=h(),y(),l((function(){setTimeout((function(){f=h(),y()}),0)}))),{get timeStamp(){return f}}},m=function(e,t){var n,r=v(),i=s("FCP"),a=c("paint",(function(e){"first-contentful-paint"===e.name&&(a&&a.disconnect(),e.startTime<r.timeStamp&&(i.value=e.startTime,i.entries.push(e),d.add(i),n()))}));a&&(n=p(e,i,t),l((function(r){i=s("FCP"),n=p(e,i,t),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,d.add(i),n()}))}))})))},_={passive:!0,capture:!0},g=new Date,b=function(e,t){r||(r=t,i=e,a=new Date,O(removeEventListener),E())},E=function(){if(i>=0&&i<a-g){var e={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+i};o.forEach((function(t){t(e)})),o=[]}},T=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){b(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,_),removeEventListener("pointercancel",r,_)};addEventListener("pointerup",n,_),addEventListener("pointercancel",r,_)}(t,e):b(t,e)}},O=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,T,_)}))},I=function(e,t){var n,a=v(),f=s("FID"),h=function(e){e.startTime<a.timeStamp&&(f.value=e.processingStart-e.startTime,f.entries.push(e),d.add(f),n())},y=c("first-input",h);n=p(e,f,t),y&&u((function(){y.takeRecords().map(h),y.disconnect()}),!0),y&&l((function(){var a;f=s("FID"),n=p(e,f,t),o=[],i=-1,r=null,O(addEventListener),a=h,o.push(a),E()}))},S=function(e,t){var n,r=v(),i=s("LCP"),a=function(e){var t=e.startTime;t<r.timeStamp&&(i.value=t,i.entries.push(e)),n()},o=c("largest-contentful-paint",a);if(o){n=p(e,i,t);var f=function(){d.has(i)||(o.takeRecords().map(a),o.disconnect(),d.add(i),n())};["keydown","click"].forEach((function(e){addEventListener(e,f,{once:!0,capture:!0})})),u(f,!0),l((function(r){i=s("LCP"),n=p(e,i,t),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,d.add(i),n()}))}))}))}}},1558:function(e,t,n){n(10)({target:"Math",stat:!0},{sign:n(1559)})},1559:function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},1560:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var i=n(1561);t.Motion=r(i);var a=n(1563);t.StaggeredMotion=r(a);var o=n(1564);t.TransitionMotion=r(o);var s=n(1566);t.spring=r(s);var c=n(1005);t.presets=r(c);var u=n(837);t.stripStyle=r(u);var l=n(1567);t.reorderKeys=r(l)},1561:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var o=a(n(988)),s=a(n(837)),c=a(n(989)),u=a(n(990)),l=a(n(991)),d=a(n(992)),p=a(n(0)),f=a(n(101)),h=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,n=i.state,a=n.currentStyle,o=n.currentVelocity,s=n.lastIdealStyle,c=n.lastIdealVelocity;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var l=e[u];"number"==typeof l&&(t||(t=!0,a=r({},a),o=r({},o),s=r({},s),c=r({},c)),a[u]=l,o[u]=0,s[u]=l,c[u]=0)}t&&i.setState({currentStyle:a,currentVelocity:o,lastIdealStyle:s,lastIdealVelocity:c})},this.startAnimationIfNecessary=function(){i.animationID=l.default((function(e){var t=i.props.style;if(d.default(i.state.currentStyle,t,i.state.currentVelocity))return i.wasAnimating&&i.props.onRest&&i.props.onRest(),i.animationID=null,i.wasAnimating=!1,void(i.accumulatedTime=0);i.wasAnimating=!0;var n=e||u.default(),r=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+r,i.accumulatedTime>1e3/60*10&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();var a=(i.accumulatedTime-Math.floor(i.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),o=Math.floor(i.accumulatedTime/(1e3/60)),s={},l={},p={},f={};for(var h in t)if(Object.prototype.hasOwnProperty.call(t,h)){var y=t[h];if("number"==typeof y)p[h]=y,f[h]=0,s[h]=y,l[h]=0;else{for(var v=i.state.lastIdealStyle[h],m=i.state.lastIdealVelocity[h],_=0;_<o;_++){var g=c.default(1e3/60/1e3,v,m,y.val,y.stiffness,y.damping,y.precision);v=g[0],m=g[1]}var b=c.default(1e3/60/1e3,v,m,y.val,y.stiffness,y.damping,y.precision),E=b[0],T=b[1];p[h]=v+(E-v)*a,f[h]=m+(T-m)*a,s[h]=v,l[h]=m}}i.animationID=null,i.accumulatedTime-=o*(1e3/60),i.setState({currentStyle:p,currentVelocity:f,lastIdealStyle:s,lastIdealVelocity:l}),i.unreadPropStyle=null,i.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyle:f.default.objectOf(f.default.number),style:f.default.objectOf(f.default.oneOfType([f.default.number,f.default.object])).isRequired,children:f.default.func.isRequired,onRest:f.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,n=e.style,r=t||s.default(n),i=o.default(r);return{currentStyle:r,currentVelocity:i,lastIdealStyle:r,lastIdealVelocity:i}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(l.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&p.default.Children.only(e)},t}(p.default.Component);t.default=h,e.exports=t.default},1562:function(e,t,n){(function(t){(function(){var n,r,i,a,o,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-o)/1e6},r=t.hrtime,a=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),o=a-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n(42))},1563:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var o=a(n(988)),s=a(n(837)),c=a(n(989)),u=a(n(990)),l=a(n(991)),d=a(n(992)),p=a(n(0)),f=a(n(101));var h=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=i.state,n=t.currentStyles,a=t.currentVelocities,o=t.lastIdealStyles,s=t.lastIdealVelocities,c=!1,u=0;u<e.length;u++){var l=e[u],d=!1;for(var p in l)if(Object.prototype.hasOwnProperty.call(l,p)){var f=l[p];"number"==typeof f&&(d||(d=!0,c=!0,n[u]=r({},n[u]),a[u]=r({},a[u]),o[u]=r({},o[u]),s[u]=r({},s[u])),n[u][p]=f,a[u][p]=0,o[u][p]=f,s[u][p]=0)}}c&&i.setState({currentStyles:n,currentVelocities:a,lastIdealStyles:o,lastIdealVelocities:s})},this.startAnimationIfNecessary=function(){i.animationID=l.default((function(e){var t=i.props.styles(i.state.lastIdealStyles);if(function(e,t,n){for(var r=0;r<e.length;r++)if(!d.default(e[r],t[r],n[r]))return!1;return!0}(i.state.currentStyles,t,i.state.currentVelocities))return i.animationID=null,void(i.accumulatedTime=0);var n=e||u.default(),r=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+r,i.accumulatedTime>1e3/60*10&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var a=(i.accumulatedTime-Math.floor(i.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),o=Math.floor(i.accumulatedTime/(1e3/60)),s=[],l=[],p=[],f=[],h=0;h<t.length;h++){var y=t[h],v={},m={},_={},g={};for(var b in y)if(Object.prototype.hasOwnProperty.call(y,b)){var E=y[b];if("number"==typeof E)v[b]=E,m[b]=0,_[b]=E,g[b]=0;else{for(var T=i.state.lastIdealStyles[h][b],O=i.state.lastIdealVelocities[h][b],I=0;I<o;I++){var S=c.default(1e3/60/1e3,T,O,E.val,E.stiffness,E.damping,E.precision);T=S[0],O=S[1]}var w=c.default(1e3/60/1e3,T,O,E.val,E.stiffness,E.damping,E.precision),P=w[0],A=w[1];v[b]=T+(P-T)*a,m[b]=O+(A-O)*a,_[b]=T,g[b]=O}}p[h]=v,f[h]=m,s[h]=_,l[h]=g}i.animationID=null,i.accumulatedTime-=o*(1e3/60),i.setState({currentStyles:p,currentVelocities:f,lastIdealStyles:s,lastIdealVelocities:l}),i.unreadPropStyles=null,i.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyles:f.default.arrayOf(f.default.objectOf(f.default.number)),styles:f.default.func.isRequired,children:f.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=t||n().map(s.default),i=r.map((function(e){return o.default(e)}));return{currentStyles:r,currentVelocities:i,lastIdealStyles:r,lastIdealVelocities:i}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(l.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&p.default.Children.only(e)},t}(p.default.Component);t.default=h,e.exports=t.default},1564:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var o=a(n(988)),s=a(n(837)),c=a(n(989)),u=a(n(1565)),l=a(n(990)),d=a(n(991)),p=a(n(992)),f=a(n(0)),h=a(n(101));function y(e,t,n){var r=t;return null==r?e.map((function(e,t){return{key:e.key,data:e.data,style:n[t]}})):e.map((function(e,t){for(var i=0;i<r.length;i++)if(r[i].key===e.key)return{key:r[i].key,data:r[i].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}}))}function v(e,t,n,r,i,a,s,c,l){for(var d=u.default(r,i,(function(e,r){var i=t(r);return null==i||p.default(a[e],i,s[e])?(n({key:r.key,data:r.data}),null):{key:r.key,data:r.data,style:i}})),f=[],h=[],y=[],v=[],m=0;m<d.length;m++){for(var _=d[m],g=null,b=0;b<r.length;b++)if(r[b].key===_.key){g=b;break}if(null==g){var E=e(_);f[m]=E,y[m]=E;var T=o.default(_.style);h[m]=T,v[m]=T}else f[m]=a[g],y[m]=c[g],h[m]=s[g],v[m]=l[g]}return[d,f,h,y,v]}var m=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=v(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,e,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),n=t[0],a=t[1],o=t[2],s=t[3],c=t[4],u=0;u<e.length;u++){var l=e[u].style,d=!1;for(var p in l)if(Object.prototype.hasOwnProperty.call(l,p)){var f=l[p];"number"==typeof f&&(d||(d=!0,a[u]=r({},a[u]),o[u]=r({},o[u]),s[u]=r({},s[u]),c[u]=r({},c[u]),n[u]={key:n[u].key,data:n[u].data,style:r({},n[u].style)}),a[u][p]=f,o[u][p]=0,s[u][p]=f,c[u][p]=0,n[u].style[p]=f)}}i.setState({currentStyles:a,currentVelocities:o,mergedPropsStyles:n,lastIdealStyles:s,lastIdealVelocities:c})},this.startAnimationIfNecessary=function(){i.unmounting||(i.animationID=d.default((function(e){if(!i.unmounting){var t=i.props.styles,n="function"==typeof t?t(y(i.state.mergedPropsStyles,i.unreadPropStyles,i.state.lastIdealStyles)):t;if(function(e,t,n,r){if(r.length!==t.length)return!1;for(var i=0;i<r.length;i++)if(r[i].key!==t[i].key)return!1;for(i=0;i<r.length;i++)if(!p.default(e[i],t[i].style,n[i]))return!1;return!0}(i.state.currentStyles,n,i.state.currentVelocities,i.state.mergedPropsStyles))return i.animationID=null,void(i.accumulatedTime=0);var r=e||l.default(),a=r-i.prevTime;if(i.prevTime=r,i.accumulatedTime=i.accumulatedTime+a,i.accumulatedTime>1e3/60*10&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var o=(i.accumulatedTime-Math.floor(i.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),s=Math.floor(i.accumulatedTime/(1e3/60)),u=v(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,n,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),d=u[0],f=u[1],h=u[2],m=u[3],_=u[4],g=0;g<d.length;g++){var b=d[g].style,E={},T={},O={},I={};for(var S in b)if(Object.prototype.hasOwnProperty.call(b,S)){var w=b[S];if("number"==typeof w)E[S]=w,T[S]=0,O[S]=w,I[S]=0;else{for(var P=m[g][S],A=_[g][S],D=0;D<s;D++){var R=c.default(1e3/60/1e3,P,A,w.val,w.stiffness,w.damping,w.precision);P=R[0],A=R[1]}var C=c.default(1e3/60/1e3,P,A,w.val,w.stiffness,w.damping,w.precision),k=C[0],L=C[1];E[S]=P+(k-P)*o,T[S]=A+(L-A)*o,O[S]=P,I[S]=A}}m[g]=O,_[g]=I,f[g]=E,h[g]=T}i.animationID=null,i.accumulatedTime-=s*(1e3/60),i.setState({currentStyles:f,currentVelocities:h,lastIdealStyles:m,lastIdealVelocities:_,mergedPropsStyles:d}),i.unreadPropStyles=null,i.startAnimationIfNecessary()}})))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyles:h.default.arrayOf(h.default.shape({key:h.default.string.isRequired,data:h.default.any,style:h.default.objectOf(h.default.number).isRequired})),styles:h.default.oneOfType([h.default.func,h.default.arrayOf(h.default.shape({key:h.default.string.isRequired,data:h.default.any,style:h.default.objectOf(h.default.oneOfType([h.default.number,h.default.object])).isRequired}))]).isRequired,children:h.default.func.isRequired,willEnter:h.default.func,willLeave:h.default.func,didLeave:h.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return s.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=e.willEnter,i=e.willLeave,a=e.didLeave,c="function"==typeof n?n(t):n,u=void 0;u=null==t?c:t.map((function(e){for(var t=0;t<c.length;t++)if(c[t].key===e.key)return c[t];return e}));var l=null==t?c.map((function(e){return s.default(e.style)})):t.map((function(e){return s.default(e.style)})),d=null==t?c.map((function(e){return o.default(e.style)})):t.map((function(e){return o.default(e.style)})),p=v(r,i,a,u,c,l,d,l,d),f=p[0];return{currentStyles:p[1],currentVelocities:p[2],lastIdealStyles:p[3],lastIdealVelocities:p[4],mergedPropsStyles:f}},t.prototype.componentDidMount=function(){this.prevTime=l.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(y(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=l.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(d.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=y(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&f.default.Children.only(t)},t}(f.default.Component);t.default=m,e.exports=t.default},1565:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var r={},i=0;i<e.length;i++)r[e[i].key]=i;var a={};for(i=0;i<t.length;i++)a[t[i].key]=i;var o=[];for(i=0;i<t.length;i++)o[i]=t[i];for(i=0;i<e.length;i++)if(!Object.prototype.hasOwnProperty.call(a,e[i].key)){var s=n(i,e[i]);null!=s&&o.push(s)}return o.sort((function(e,n){var i=a[e.key],o=a[n.key],s=r[e.key],c=r[n.key];if(null!=i&&null!=o)return a[e.key]-a[n.key];if(null!=s&&null!=c)return r[e.key]-r[n.key];if(null!=i){for(var u=0;u<t.length;u++){var l=t[u].key;if(Object.prototype.hasOwnProperty.call(r,l)){if(i<a[l]&&c>r[l])return-1;if(i>a[l]&&c<r[l])return 1}}return 1}for(u=0;u<t.length;u++){l=t[u].key;if(Object.prototype.hasOwnProperty.call(r,l)){if(o<a[l]&&s>r[l])return 1;if(o>a[l]&&s<r[l])return-1}}return-1}))},e.exports=t.default},1566:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){return r({},s,t,{val:e})};var i,a=n(1005),o=(i=a)&&i.__esModule?i:{default:i},s=r({},o.default.noWobble,{precision:.01});e.exports=t.default},1567:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){0};e.exports=t.default},1568:function(e,t,n){"use strict";n(47),n(232),n(795),n(380),n(17),n(389),n(71),n(1569),n(103),n(100),n(88),n(115),n(1570),n(1571),n(1572),n(548),n(233),n(1573),n(1003),n(993),n(25),n(69),n(383),n(21),n(72),n(102),n(20),n(129),n(1574);var r,i,a,o,s=n(7),c=n.n(s),u=n(176),l=n.n(u),d=n(1),p=n.n(d),f=n(80),h=n.n(f);function y(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m="AD_SKIP_EVENT",_="CAPTIONS_TOGGLED_EVENT",g="CONFIG_LOADED_EVENT",b="CTA_CLICK_EVENT",E="CTA_IMPRESSION_EVENT",T="ERROR_EVENT",O="FULL_SCREEN_EVENT",I="GROUPM_VIEW_EVENT",S="HEARTBEAT_EVENT",w="HEARTBEAT_START_EVENT",P="INITIAL_CTA_IMPRESSION_EVENT",A="INITIAL_INTEND_TO_PLAY_EVENT",D="INTEND_TO_PLAY_EVENT",R="LOOP_EVENT",C="MRC_AUDIBLE_VIEW_EVENT",k="MRC_VIEW_EVENT",L="MUTE_EVENT",M="ONE_SEC_VIEW_EVENT",N="SIX_SEC_VIEW_EVENT",j="SHORT_FORM_COMPLETE_EVENT",x="PAUSE_EVENT",U="PLAY_EVENT",B="PLAY_FROM_TAP_EVENT",F="PLAYBACK_25_EVENT",V="PLAYBACK_50_EVENT",W="PLAYBACK_75_EVENT",G="PLAYBACK_95_EVENT",H="PLAYBACK_COMPLETE_EVENT",Y="PLAYBACK_ERROR_EVENT",z="PLAYBACK_LAPSE_EVENT",K="PLAYBACK_START_EVENT",q="REPLAY_EVENT",J="REWIND_EVENT",Q="SHRINK_EVENT",X="STARTUP_ERROR_EVENT",$="TEARDOWN_EVENT",Z="TICK_EVENT",ee="TRACK_FINISHED_EVENT",te="UNMUTE_EVENT",ne="VIDEO_SESSION_EVENT",re="VIDEO_QUALITY_VIEW_EVENT",ie="VIDEO_VIEW_EVENT",ae="VIEW_THRESHOLD_EVENT",oe="ad",se="content",ce="broadcast",ue="gif",le="live",de="media_entity",pe="partner_video",fe="periscope",he="vine",ye="vmap",ve={event:"url",go_to:"url",image:"url",url:"url",shop:"url",see_more:"url",visit:"url",visit_site:"url",watch:"url",watch_now:"watch"};function me(e){return ge(e,e.source.trackId)}function _e(e){return ge(e,e.currentTrackId)}function ge(e,t){return e.tracks.find((function(e){return t===e.id}))}function be(e){return e.tracks.find((function(e){return oe===e.displayType}))}function Ee(e){return Boolean(e)&&e.isPlaying&&!e.isScrubbing&&!e.isMuted}var Te=((r={})[ie]="creativeView",r[F]="firstQuartile",r[V]="midpoint",r[W]="thirdQuartile",r[H]="complete",r[U]="resume",r[x]="pause",r[J]="rewind",r[T]="adError",r),Oe=function(){function e(e){var t=this;Object.keys(Te).forEach((function(n){e.on(n,(function(e){t.fireBeacon(Te[n],e)}))})),e.on(K,this.onPlaybackStart.bind(this))}var t=e.prototype;return t.onPlaybackStart=function(e){this.fireBeacon("start",e),this.fireBeacon("adImpression",e)},t.fireBeacon=function(e,t){var n=_e(t);if(void 0!==n&&void 0!==n.beacons&&void 0!==n.beacons[e])for(var r,i=y(n.beacons[e]);!(r=i()).done;){var a=r.value;(new window.Image).src=a}},e}(),Ie=function(){function e(e){this.analytics=e,this.analytics.on(Z,this.onTickEvent.bind(this))}return e.prototype.onTickEvent=function(e){var t=e.areCaptionsShown,n=this.currentCaptionsState;n!==t&&((!1===n&&!0===t||!0===n&&!1===t)&&this.analytics.emit(_,e,t),this.currentCaptionsState=t)},e}(),Se=function(){function e(e){this.analytics=e,this.hasFiredOnTrackMap={},this.analytics.on(E,this.onCtaImpressionEvent.bind(this))}return e.prototype.onCtaImpressionEvent=function(e){var t=e.currentTrackId;this.hasFiredOnTrackMap[t]||(this.hasFiredOnTrackMap[t]=!0,this.analytics.emit(P,e))},e}(),we=function(){function e(e){this.analytics=e,this.hasStarted=!1,this.hasFired=!1,this.analytics.on(K,this.onPlaybackStartEvent.bind(this)),this.analytics.on(D,this.onShowEvent.bind(this)),this.analytics.on(T,this.onErrorEvent.bind(this))}var t=e.prototype;return t.onPlaybackStartEvent=function(){this.hasStarted=!0},t.onShowEvent=function(){this.intentToPlayTime=new Date},t.onErrorEvent=function(e,t){var n=this.constructClientMediaEventError(e,t);if(!this.hasStarted&&!this.hasFired){var r,i=void 0!==this.intentToPlayTime?new Date-this.intentToPlayTime:void 0;n&&(r={latency_millis:i,error:n}),this.analytics.emit(X,e,Object.assign({latency:i},t),r),this.hasFired=!0}this.analytics.emit(Y,e,t,n)},t.constructClientMediaEventError=function(e,t){var n=t&&t.media_details&&t.media_details.media_error||{};return{is_fatal:n.is_fatal,category:n.category,message:n.message,retry_count:n.retry_count}},e}(),Pe=function(){function e(e){this.bufferingCount=0,this.bufferingDurationMs=0,this.bufferingBeginTimeMs=void 0,e.on(Z,this.onTickEvent.bind(this)),e.on(w,this.onHeartbeatStart.bind(this)),e.on(S,this.onHeartbeat.bind(this))}var t=e.prototype;return t.onHeartbeat=function(e){this.reset(e)},t.onHeartbeatStart=function(e){this.reset(e)},t.onTickEvent=function(e){var t=_e(e);void 0!==t&&(t.isBuffering&&null==this.bufferingBeginTimeMs?(this.bufferingBeginTimeMs=Date.now(),this.bufferingCount++):t.isBuffering||null==this.bufferingBeginTimeMs||(this.bufferingDurationMs+=Date.now()-this.bufferingBeginTimeMs,this.bufferingBeginTimeMs=void 0))},t.getBufferTime=function(e){var t=_e(e);if(void 0!==t){var n=this.bufferingDurationMs;return t.isBuffering&&null!=this.bufferingBeginTimeMs&&(n+=Date.now()-this.bufferingBeginTimeMs),n}},t.reset=function(e){var t=_e(e);void 0!==t&&(this.bufferingBeginTimeMs=t.isBuffering?Date.now():void 0,this.bufferingCount=t.isBuffering?1:0,this.bufferingDurationMs=0)},e}();function Ae(e){return"number"!=typeof e||Number.isNaN(e)||e===1/0||e===-1/0?"string"==typeof e?e:void 0:e.toString()}var De=function(){function e(e){this.analytics=e,this.bufferingDurationListener=new Pe(e),this.lastKnownDataUsageBytes=0,this.audibleDuration=0,this.bitrateHistory=[],this.latencyHistory=[],this.previousTickTimestamp,this.analytics.on(Z,this.onTickEvent.bind(this)),this.analytics.on(U,this.onPlayEvent.bind(this)),this.analytics.on(K,this.onPlaybackStartEvent.bind(this)),this.analytics.on(ee,this.onTrackFinishedEvent.bind(this)),this.analytics.on(T,this.onErrorEvent.bind(this)),this.analytics.on(x,this.onPauseEvent.bind(this)),this.analytics.on($,this.onTeardownEvent.bind(this)),this.analytics.on(R,this.onLoopEvent.bind(this)),this.analytics.on(m,this.onAdSkip.bind(this))}var t=e.prototype;return t.onTickEvent=function(e){var t=_e(e);if(void 0!==t){if(this.updateTimesOnTick(t,e),this.updatePerfMetrics(t),e.isScrubbing?this.stopPolling():e.isPlaying&&this.startPolling(e),void 0!==this.lastKnownPlayerState){var n=this.lastKnownPlayerState.percentVisible,r=e.percentVisible;(n>0&&0===r||0===n&&r>0)&&(this.stopPolling(),this.startPolling(e))}this.lastKnownPlayerState=e,this.previousTickTimestamp=Date.now()}},t.onPlayEvent=function(e){this.hasPlaybackStarted&&this.startPolling(e),this.lastKnownPlayerState=e},t.onPlaybackStartEvent=function(e){this.startPolling(e),this.lastKnownPlayerState=e,this.hasPlaybackStarted=!0},t.onTrackFinishedEvent=function(e){this.hasPlaybackStarted=!1,void 0!==_e(e)&&(this.stopPolling(),this.lastKnownPlayerState=e)},t.onErrorEvent=function(e,t){t&&t.media_details&&t.media_details.media_error&&t.media_details.media_error.is_fatal&&(this.stopPolling(),this.lastKnownPlayerState=e)},t.onPauseEvent=function(e,t){this.stopPolling(),this.lastKnownPlayerState=e},t.onTeardownEvent=function(e,t){this.stopPolling(!0),this.lastKnownPlayerState=e},t.onLoopEvent=function(e){this.startPolling(e)},t.onAdSkip=function(){this.stopPolling()},t.updateTimesOnTick=function(e,t){var n;void 0!==(n=e.contentType===ce||e.contentType===le||e.contentType===fe?e.absoluteTimeMs:e.currentTimeMs)&&(Ee(t)&&void 0!==this.lastTimeMs&&(this.audibleDuration+=n-this.lastTimeMs),this.lastTimeMs=n,void 0===this.startTimeMs&&(this.startTimeMs=n))},t.startPolling=function(e){var t=me(e);void 0===this.intervalId&&void 0!==t&&t.contentType!==he&&(this.analytics.emit(w,e),this.onHeartbeatStart(e))},t.stopPolling=function(e){(this.intervalId||e)&&(this.onHeartbeat(),this.lastTimeMs=void 0,this.startTimeMs=void 0),void 0!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0)},t.onHeartbeatStart=function(e){this.intervalId=setInterval(this.onHeartbeat.bind(this),e.heartbeatIntervalMs||5e3),this.lastTimeMs=void 0,this.startTimeMs=void 0,this.bitrateHistory=[],this.latencyHistory=[]},t.updatePerfMetrics=function(e){if(this.previousTickTimestamp){var t=Date.now()-this.previousTickTimestamp;e.currentBitrate&&this.bitrateHistory.push({value:e.currentBitrate,weight:t}),e.liveLatencyMs&&this.latencyHistory.push({value:e.liveLatencyMs,weight:t})}},t.onHeartbeat=function(){var e=this.lastKnownPlayerState;if(e){var t=_e(e),n=this.getProgramDateTimeMs();if(void 0!==n&&void 0!==t){var r=t.currentBitrate?{sampled_bitrate:t.currentBitrate}:{},i=0;e.dataUsageBytes&&(i=e.dataUsageBytes-this.lastKnownDataUsageBytes,this.lastKnownDataUsageBytes=e.dataUsageBytes);var a,o,s={data_usage_bytes:i},c=this.bufferingDurationListener.bufferingCount,u=this.bufferingDurationListener.getBufferTime(e),l=Math.floor(100*e.percentVisible),d=Object.assign({buffering_duration_millis:u,video_visibility:l},{start_program_date_time_millis:n.start_program_date_time_millis,end_program_date_time_millis:n.end_program_date_time_millis},r,s),p={buffering_duration_millis:Ae(u),buffering_count:c,percent_in_view:l,sampled_bits_per_second:t.currentBitrate,data_usage_bytes:Ae(s.data_usage_bytes),start_program_date_time_millis:Ae(n.start_program_date_time_millis),end_program_date_time_millis:Ae(n.end_program_date_time_millis),audible_duration_millis:Ae(n.audible_duration_millis),bandwidth_estimate_bps:Ae(e.bandwidthEstimateBps),bitrate_metrics:(a=this.bitrateHistory,o=Ce(a),o&&{min_bps:Math.round(o.min),max_bps:Math.round(o.max),avg_bps:Math.round(o.avg)}),live_or_non_live_heartbeat_metrics:Re(t.isLive,this.latencyHistory)};this.analytics.emit(S,e,d,p)}}},t.getProgramDateTimeMs=function(){if(void 0!==this.startTimeMs&&void 0!==this.lastTimeMs){var e=this.startTimeMs,t=this.lastTimeMs,n=this.audibleDuration;return this.startTimeMs=this.lastTimeMs,this.audibleDuration=0,{start_program_date_time_millis:Math.round(e),end_program_date_time_millis:Math.round(t),audible_duration_millis:Math.round(n)}}return{}},e}();function Re(e,t){var n=Ce(t);return e?{live_heartbeat_metrics:{latency_metrics:n&&{min_ms:Math.round(n.min),max_ms:Math.round(n.max),avg_ms:Math.round(n.avg)}}}:{non_live_heartbeat_metrics:{}}}function Ce(e){if(e&&e.length){var t=function(e){if(!e||0===e.length)return[Math.min(),Math.max()];for(var t,n=1/0,r=-1/0,i=y(e);!(t=i()).done;){var a=t.value;n=Math.min(n,a),r=Math.max(r,a)}return[n,r]}(e.map((function(e){return e.value})));return{min:t[0],max:t[1],avg:function(e){var t=e.reduce((function(e,t){return e+t.weight}),0);return e.reduce((function(e,t){return e+t.value*t.weight}),0)/t}(e)}}}var ke=function(){function e(e){this.analytics=e,this.hasFiredOnTrackMap={},this.analytics.on(D,this.onIntendToPlayEvent.bind(this)),this.analytics.on(q,this.onIntendToPlayEvent.bind(this)),this.analytics.on(ee,this.onTrackFinishedEvent.bind(this))}var t=e.prototype;return t.onIntendToPlayEvent=function(e){this.hasFiredOnTrackMap[e.currentTrackId]||(this.hasFiredOnTrackMap[e.currentTrackId]=!0,this.analytics.emit(A,e))},t.onTrackFinishedEvent=function(e){var t=_e(e);t&&(t.shouldLoop||(this.hasFiredOnTrackMap[e.currentTrackId]=!1))},e}(),Le=function(){function e(e){this.analytics=e,this.analytics.on(ee,this.onTrackFinishedEvent.bind(this))}return e.prototype.onTrackFinishedEvent=function(e){var t=_e(e);void 0!==t&&t.shouldLoop&&this.analytics.emit(R,e)},e}(),Me={home:"HomeTimeline",list:"Lists",live_broadcast:"BroadcastPage",live_event_timeline:"EventPage",me:"UserTimeline",moments:"Moments",permalink:"TweetCard",profile:"UserTimeline",search:"Search"},Ne=function(e){return"/api/v2/"+e};function je(e,t,n,r){return{start:{method:e,path:Ne(t)},ping:{method:e,path:Ne(n)},stop:{method:e,path:Ne(r)}}}var xe,Ue={public:{live:je("GET","startPublic","pingPublic","stopPublic"),replay:je("GET","replayViewedPublic","pingReplayViewedPublic","endReplayViewedPublic")},auth:{live:je("POST","startWatching","pingWatching","stopWatching"),replay:je("POST","replayViewed","pingReplayViewed","endReplayViewed")}},Be=function(){function e(e,t){if(this.httpClient=e,this.authToken=null==t?void 0:t.periscopeAuthToken,this.lifecycles=this.authToken?Ue.auth:Ue.public,(null==t?void 0:t.scribeContext)&&(null==t?void 0:t.periscopeComponent)){var n=t.scribeContext,r=t.periscopeComponent;this.pageContext=this.getPageContext(n),this.componentContext=r}}var t=e.prototype;return t.getPageContext=function(e){var t=e.page;return"permalink_overlay"===e.section?"TweetCard":Me[t]||""},t.call=function(e,t){var n=Date.now(),r={"X-Idempotence":xe=n<=xe?xe+1:n,"X-Attempt":1,"X-Periscope-User-Agent":"Twitter/video-analytics","content-type":"application/json"},i=Object.assign({},t);this.authToken&&(i.cookie=this.authToken);var a=e.method,o=e.path,s={};return"POST"===a?s.data=i:s.params=i,this.httpClient.dispatch(Object.assign({headers:r,host:"https://proxsee.pscp.tv",method:a,path:o},s))},t.videoStartWatching=function(e,t,n){var r=this;return new Promise((function(i,a){("string"!=typeof e||e.length<1)&&a(new Error("Cannot videoStartWatching. lifecycleToken not valid, lifecycleToken="+e));var o=t?r.lifecycles.replay.start:r.lifecycles.live.start,s={life_cycle_token:e,auto_play:!!n};r.pageContext&&(s.page=r.pageContext),r.componentContext&&(s.component=r.componentContext),r.call(o,s).then((function(e){var t=JSON.parse(e.body).session;t?i(t):a("No valid Session")}),a)}))},t.videoPingWatching=function(e,t){var n=this;return new Promise((function(r,i){("string"!=typeof e||e.length<1)&&i(new Error("Cannot videoPingWatching. session not valid, session="+e));var a=t?n.lifecycles.replay.ping:n.lifecycles.live.ping;n.call(a,{session:e}).then((function(e){JSON.parse(e.body).success?r():i("Ping request failed")}),i)}))},t.videoStopWatching=function(e,t){var n=this;return new Promise((function(r,i){("string"!=typeof e||e.length<1)&&i(new Error("Cannot videoStopWatching. session not valid, session="+e));var a=t?n.lifecycles.replay.stop:n.lifecycles.live.stop;n.call(a,{session:e}).then((function(e){JSON.parse(e.body).success?r():i("StopWatching request failed")}),i)}))},e}();var Fe=function(){function e(e){this.api=e,this.handleStartWatching=this.handleStartWatching.bind(this),this.updateSession=this.updateSession.bind(this),this.startPingWatching=this.startPingWatching.bind(this),this.isVideoPreview=!1,this.isReplay=!0}var t=e.prototype;return t.updateSession=function(e){this.session=e},t.setStartWatchingTimer=function(){this.startWatchingTimer=setTimeout(this.handleStartWatching,3e3)},t.clearStartWatchingTimer=function(){this.startWatchingTimer&&clearTimeout(this.startWatchingTimer)},t.handleStartWatching=function(){if(!this.isWatching){this.stopPingWatching();var e=this.api.videoStartWatching(this.lifecycleToken,this.isReplay,this.isVideoPreview).then(this.updateSession).then(this.startPingWatching);return this.isWatching=!0,e}},t.startPingWatching=function(){var e=this;this.stopPingWatching(),this.pingWatchingTimer=setInterval((function(){e.isWatching?e.api.videoPingWatching(e.session,e.isReplay):e.stopPingWatching()}),3e4)},t.stopPingWatching=function(){clearInterval(this.pingWatchingTimer)},t.updateLifecycleToken=function(e){void 0!==e&&e!==this.lifecycleToken&&(this.lifecycleToken=e,this.isWatching&&(this.stopWatching(),this.handleStartWatching()))},t.updateIsReplay=function(e){void 0!==e&&e!==this.isReplay&&(this.isReplay=e)},t.startWatching=function(){return this.isVideoPreview=!1,this.handleStartWatching()},t.startWatchingPreview=function(){this.isVideoPreview=!0,this.clearStartWatchingTimer(),this.setStartWatchingTimer()},t.stopWatching=function(){this.isWatching&&(this.stopPingWatching(),this.session&&this.api.videoStopWatching(this.session,this.isReplay),this.isWatching=!1)},t.destroy=function(){this.stopWatching(),this.clearStartWatchingTimer(),this.isVideoPreview=void 0,this.lifecycleToken=void 0,this.session=void 0,this.isReplay=void 0,this.isWatching=void 0,this.pingWatchingTimer=void 0},e}(),Ve=[g,U,x,ee,$],We=function(){function e(e,t){var n=this;this.analytics=e,this.lifecycleController=t,Ve.map((function(e){return n.analytics.on(e,n.possiblyHandleEvent.bind(n,e))}))}var t=e.prototype;return t.possiblyHandleEvent=function(e,t){if(this.shouldSendPeriscopeAnalytics(t)){var n=_e(t);switch(e){case g:this.updateLifecycleToken(t),this.updateReplayState(!n.isLive);break;case U:this.handleStartWatching(t);break;case x:this.handleStopWatching(t);break;case ee:this.handleStopWatching(t),this.updateReplayState(!0);break;case $:this.teardownPeriscopeLifecycle()}}},t.shouldSendPeriscopeAnalytics=function(e){var t=_e(e);return void 0!==t&&(t.contentType===fe||t.contentType===ce)},t.getLifecycleToken=function(e){return _e(e).lifecycleToken},t.updateLifecycleToken=function(e){var t=this.getLifecycleToken(e);this.lifecycleController.updateLifecycleToken(t)},t.updateReplayState=function(e){this.lifecycleController.updateIsReplay(e)},t.handleStartWatching=function(e){this.getLifecycleToken(e)&&(e.isPreview?this.lifecycleController.startWatchingPreview():this.lifecycleController.startWatching())},t.handleStopWatching=function(e){this.getLifecycleToken(e)&&this.lifecycleController.stopWatching()},t.teardownPeriscopeLifecycle=function(){this.lifecycleController.destroy(),this.lifecycleController=null},e}(),Ge=function(){function e(e){this.analytics=e,this.lapseMap={},this.analytics.on(Z,this.onTickEvent.bind(this)),this.analytics.on(ee,this.onTrackFinishedEvent.bind(this)),this.analytics.on(m,this.onAdSkipEvent.bind(this)),this.analytics.on(ie,this.onVideoViewEvent.bind(this))}var t=e.prototype;return t.onTrackFinishedEvent=function(e){var t=_e(e);if(void 0!==t){var n=this.lapseMap[t.id];if(void 0!==n){n.timePlayedToMs=0;var r=me(e);r&&r.contentType!==ue&&!t.shouldLoop&&(this.emit(n,e),n.viewFired=!1)}}},t.onAdSkipEvent=function(e){this.onTickEvent(e);var t=_e(e);if(void 0!==t){var n=this.lapseMap[t.id];this.emit(n,e)}},t.onVideoViewEvent=function(e){var t=_e(e);if(void 0!==t){var n=this.lapseMap[t.id];void 0===n&&(n=this.initializeLapseMapForTrack(t),this.lapseMap[t.id]=n),n.viewFired=!0}},t.onTickEvent=function(e){var t=_e(e);if(void 0!==t){var n=this.lapseMap[t.id];void 0===n&&(n=this.initializeLapseMapForTrack(t),this.lapseMap[t.id]=n),e.isScrubbing?n.timePlayedToMs=t.currentTimeMs:(this.updateTimingData(t,n),this.checkPlaybackLapse(n,e))}},t.initializeLapseMapForTrack=function(e){return{timePlayedMs:0,timePlayedToMs:e.currentTimeMs,viewFired:!1}},t.updateTimingData=function(e,t){var n=e.currentTimeMs-t.timePlayedToMs;t.timePlayedToMs=e.currentTimeMs,t.timePlayedMs+=n},t.checkPlaybackLapse=function(e,t){e.timePlayedMs>1e4&&this.emit(e,t)},t.emit=function(e,t){var n=me(t),r=e.viewFired,i=e.timePlayedMs;r&&i>0&&n&&n.contentType!==le&&(this.analytics.emit(z,t,{playback_lapse_ms:Math.round(i)}),e.timePlayedMs=0)},e}(),He=function(e){return t="AD_CTA_TO_ENGAGEMENT_MAPPING_ERROR",(n=new Error("Unable to map CTA type to engagement type for: "+e)).name=t,n;var t,n},Ye=function(){function e(){}return e.set=function(t){e.report=t},e}();p()(Ye,"report",(function(e){return console.warn(e)}));var ze=((i={})[K]="playback_start",i[F]="playback_25",i[V]="playback_50",i[W]="playback_75",i[G]="playback_95",i[H]="playback_complete",i[k]="mrc_view",i[I]="groupm_view",i[M]="1sec_view",i[N]="6sec_view",i[j]="short_form_complete",i[ie]="view",i[B]="play_from_tap",i[ae]="view_threshold",i),Ke=function(){function e(e,t){var n=this;this.promotedLogHandler=t,Object.keys(ze).forEach((function(t){e.on(t,(function(e,r){var i=_e(e);void 0!==i&&n.log(n.buildEventName(t,i),e,r)}))})),e.on(K,this.logImpression.bind(this)),e.on(b,this.onCtaClickEvent.bind(this)),e.on(ne,this.onVideoSessionEvent.bind(this))}var t=e.prototype;return t.buildEventName=function(e,t){var n=ze[e];return"video_"+t.displayType+"_"+n},t.log=function(e,t,n,r){void 0===n&&(n={});var i=_e(t),a=this.getPromotedEventData(t,i);if(void 0!==a.impression_id){var o=this.getAmplifyDetailsData(t,i,n),s=JSON.stringify({amplify_details:o}),c=r&&JSON.stringify(r),u=Object.assign(a,o,{event:e,card_event:s,engagement_metadata:c});this.promotedLogHandler.log(u)}},t.logImpression=function(e){var t=_e(e);this.isPromotedTrack(e,t)&&this.log("impression",e)},t.onCtaClickEvent=function(e){var t=_e(e),n=null==t?void 0:t.cta,r=ve[null==n?void 0:n.type];if(!r)return Ye.report(He(null==n?void 0:n.type));t.displayType===oe?this.log("video_"+t.displayType+"_cta_"+r+"_click",e):this.log("video_cta_"+r+"_click",e)},t.onVideoSessionEvent=function(e,t){void 0!==t&&this.log("video_session",e,{},t)},t.isPromotedTrack=function(e,t){return t&&t.impressionId&&t.disclosureType},t.getPromotedEventData=function(e,t){var n=t.disclosureType||e.disclosureType;return{impression_id:t.impressionId||e.impressionId,earned:"earned"===n}},t.getAmplifyDetailsData=function(e,t,n){var r=me(e),i=be(e)||{};return Object.assign({content_id:r.contentId,dynamic_preroll_type:i.dynamicPrerollType,preroll_uuid:i.contentId,preroll_owner_id:i.publisherId,video_uuid:t.contentId,video_type:t.displayType===se?"video":"ad",video_is_muted:e.isMuted,video_visibility:Math.floor(100*e.percentVisible)},n)},e}(),qe=function(){function e(e){this.analytics=e,this.analytics.on(Z,this.onTickEvent.bind(this))}return e.prototype.onTickEvent=function(e){var t=_e(e);void 0!==t&&(e.isScrubbing&&void 0===this.scrubbingStartTime?this.scrubbingStartTime=t.currentTimeMs:e.isScrubbing||void 0===this.scrubbingStartTime||(t.currentTimeMs<this.scrubbingStartTime&&this.analytics.emit(J,e),this.scrubbingStartTime=void 0))},e}(),Je=((a={})[ie]="video_view",a[B]="play_from_tap",a[ae]="view_threshold",a[C]="video_mrc_audible_view",a[k]="video_mrc_view",a[N]="video_6sec_view",a[j]="video_short_form_complete",a[K]="playback_start",a[F]="playback_25",a[V]="playback_50",a[W]="playback_75",a[G]="playback_95",a[H]="playback_complete",a[A]="intent_to_play",a[U]="play",a[x]="pause",a[q]="replay",a[R]="loop",a[L]="mute",a[te]="unmute",a[O]="full_screen",a[Q]="shrink",a[z]="playback_lapse",a[Y]="error",a[X]="playback_startup_error",a[re]="video_quality_view",a[m]="video_ad_skip",a),Qe=["playback_lapse","video_1sec_view","shrink","full_screen"].reduce((function(e,t){return e[t]=!0,e}),{}),Xe="tweet",$e="client_event",Ze="live_video_heartbeat_event",et=7,tt=13,nt=16,rt=26,it=28,at=1,ot=2,st=1,ct=2,ut=["appplayer","poll2choice_video","poll3choice_video","poll4choice_video","promo_video_convo","promo_video_website","video_direct_message"],lt=/^([0-9]{1,2})_([0-9]+)$/,dt=function(){function e(e,t,n){var r=this;this.scribeHandler=t,this.context=n||{},this.isAdFormatsCard=-1!==ut.indexOf(this.context.cardType),Object.keys(Je).forEach((function(t){e.on(t,(function(e,n,i){r.scribe(Je[t],e,n,i)}))})),e.on(b,this.onCtaClickEvent.bind(this)),e.on(P,this.onCtaImpressionEvent.bind(this)),e.on(S,this.onHeartbeatEvent.bind(this)),e.on(_,this.onCaptionsToggledEvent.bind(this))}var t=e.prototype;return t.onCaptionsToggledEvent=function(e,t){var n=t?"enable":"disable",r={page:"settings",section:"captions",element:"display_audio_transcriptions",action:n};this.scribe(n,e,{},{},$e,r)},t.onCtaClickEvent=function(e){var t=_e(e).cta,n=ve[null==t?void 0:t.type];if(!n)return Ye.report(He(null==t?void 0:t.type));this.scribe("cta_"+n+"_click",e)},t.onCtaImpressionEvent=function(e){var t=_e(e).cta,n=ve[null==t?void 0:t.type];if(!n)return Ye.report(He(null==t?void 0:t.type));this.scribe("cta_"+n+"_impression",e)},t.onHeartbeatEvent=function(e,t,n){var r=me(e);if(void 0!==r){var i;switch(r.contentType){case le:case ce:i=Ze;break;default:i=$e}this.scribe("heartbeat",e,t,n,i)}},t.scribe=function(e,t,n,r,i,a){void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i=$e),void 0===a&&(a=null);var o,s,c=me(t)||{},u=_e(t)||{},l=be(t)||{},d=t.session||{},p=(t.features||{}).isLiveTimecodeEnabled&&u.requestedTimecode>0?1e3*u.requestedTimecode:void 0;this.isActionSupportedInClientMediaEvent(e)&&(o={media_client_event_type:(s={},s[e]=r,s),session_state:{session_id:d.id,content_video_identifier:ft(this.getContentIdentifier(c),this.context.scribeContext),video_ads_passthrough_data:t.videoAnalyticsScribePassthrough,live_event_identifier:this.getLiveEventIdentifier(t,c.contentType),tweet_id:this.getTweetId(t.source,c.contentType)},playing_media_state:{video_type:u.displayType===se?ot:at,media_asset_url:this.getVariantUrl(u),media_timecode_millis:Ae(p),media_metadata:{broadcast_id:u.broadcastId,twitter_publisher_id:Ae(u.publisherId),publisher_identifier:ht(u.publisherId,u.periscopePublisherId,this.context.scribeContext)},broadcast_media_state:yt(u.contentType,u.isLive)},player_state:{is_muted:t.isMuted}});var f=Object.assign({},this.getBaseItem(t.source,t.eventId),{media_asset_url:this.getVariantUrl(u),video_uuid:u.contentId,video_owner_id:u.publisherId,video_type:u.displayType===se?"video":"ad",promoted_id:u.impressionId||t.impressionId,content_id:c.contentId,dynamic_preroll_type:l.dynamicPrerollType,preroll_uuid:l.contentId,preroll_owner_id:l.publisherId,publisher_id:c.publisherId,media_session_id:d.id,video_analytics_scribe_passthrough:t.videoAnalyticsScribePassthrough,client_media_event:o,media_timecode_millis:p,disclosure_type:u.disclosureType||t.disclosureType},n,this.getLexMetadata(t,c)),h=a||{element:this.getScribeElement(c),action:e};this.scribeHandler.log({namespace:h,category:i,data:{items:[f]}})},t.getContentIdentifier=function(e){var t=e.contentId,n=this.parseMediaKeyString(t);if(n)return{media_platform_identifier:n};switch(e.contentType){case de:case ue:case le:case ce:return this.getMediaPlatformIdentifierUsingDefaultCategory(e);case ye:return this.isAdFormatsCard?{media_platform_identifier:{media_category:this.getMediaEntityCategoryUsingPlaybackUrl(e),media_id:t}}:{amplify_card_identifier:{vmap_url:e.vmapUrl,content_id:t}};case he:case fe:case pe:default:return{unknown_identifier:{content_id:t}}}},t.parseMediaKeyString=function(e){var t=lt.exec(e)||[],n=t[1],r=t[2],i=+n;if(i&&r)return{media_category:i,media_id:r}},t.getMediaPlatformIdentifierUsingDefaultCategory=function(e){var t=this.defaultMediaCategory(e);return t?{media_platform_identifier:{media_category:t,media_id:e.contentId}}:{unknown_identifier:{content_id:e.contentId}}},t.getMediaEntityCategoryUsingPlaybackUrl=function(e){var t=this.getVariantUrl(e);if(t){if(-1!==t.indexOf("amplify_video"))return tt;if(-1!==t.indexOf("ext_tw_video"))return et}},t.defaultMediaCategory=function(e){switch(e.contentType){case ue:return nt;case le:return rt;case ce:return it;case de:return this.getMediaEntityCategoryUsingPlaybackUrl(e);default:return}},t.getLiveEventIdentifier=function(e,t){return e.eventId?{lex_event_identifier:{lex_event_id:e.eventId}}:t===le?{legacy_live_event_identifier:{legacy_live_event_id:e.source.id}}:void 0},t.getTweetId=function(e,t){return t===ce||t===le?e.tweetId:e.type===Xe?e.id:void 0},t.getScribeElement=function(e){switch(e.contentType){case he:return"vine_player";case ue:return"gif_player";case ye:return"platform_amplify_card";case le:case ce:return"live_video_player";case pe:return"partner_video_player";case fe:return"periscope_player";case de:default:return"video_player"}},t.getBaseItem=function(e,t){var n=this.context.baseScribeItem;return n||(e.type===Xe?{id:e.id,item_type:"0"}:e.tweetId?{id:e.tweetId,item_type:"0"}:t?{id:t,item_type:"28"}:void 0)},t.getLexMetadata=function(e,t){var n=this.context.scribeContext||{},r={},i={};return t.broadcastId&&(r.is_replay_broadcast=!t.isLive,i.tweet_id=e.source.tweetId,"live_event_timeline"===n.page&&"tweet"!==n.component?r.host_broadcast_id=t.broadcastId:r.target_broadcast_id=t.broadcastId),e.eventId&&("live_event_timeline"===n.page&&"tweet"!==n.component?i.host_event_id=e.eventId:i.target_event_id=e.eventId),{live_broadcast_details:r,live_video_event_details:i}},t.getVariantUrl=function(e){var t=e.variants&&e.variants[e.currentVariantIndex];return t&&t.src},t.isActionSupportedInClientMediaEvent=function(e){return!Qe[e]},e}();function pt(e){return e&&"messages"===e.page}function ft(e,t){return pt(t)?{scrubbed_identifier:{}}:e}function ht(e,t,n){return pt(n)?{scrubbed_publisher_identifier:{}}:e&&t?{twitter_periscope_publisher_identifier:{twitter_id:Ae(e),periscope_id:t}}:e?{twitter_publisher_identifier:{id:Ae(e)}}:t?{periscope_publisher_identifier:{id:t}}:{unknown_publisher_identifier:{}}}function yt(e,t){if(e===ce||e===le||e===fe)return{broadcast_state:t?st:ct}}var vt=function(){function e(e){this.analytics=e,this.analytics.on(q,this.onReplayEvent.bind(this)),this.analytics.on(ee,this.onTrackFinishedEvent.bind(this)),this.analytics.on(A,this.onInitialIntendToPlayEvent.bind(this))}var t=e.prototype;return t.onInitialIntendToPlayEvent=function(e){this.resetLatencyStartDate(e.intentToPlayTime)},t.onReplayEvent=function(){this.resetLatencyStartDate()},t.onTrackFinishedEvent=function(e){this.resetLatencyStartDate(),this.trackId!==e.currentTrackId&&(this.trackId=e.currentTrackId)},t.resetLatencyStartDate=function(e){this.latencyStartDate=e||new Date},t.getLatencyData=function(){if(void 0!==this.latencyStartDate)return{latency:new Date-this.latencyStartDate}},e}(),mt=[{progress:.25,event:F},{progress:.5,event:V},{progress:.75,event:W},{progress:.95,event:G},{progress:1,event:H}],_t=function(){function e(e){this.analytics=e,this.eventMap={},this.playbackLatencyListener=new vt(e),this.analytics.on(ee,this.onTrackFinishedEvent.bind(this)),this.analytics.on(Z,this.onTickEvent.bind(this))}var t=e.prototype;return t.onTrackFinishedEvent=function(e){var t=_e(e);void 0!==t&&(t.shouldLoop||(this.eventMap[e.currentTrackId]={}))},t.onTickEvent=function(e){var t=_e(e);if(void 0!==t&&t.durationMs){var n=this.eventMap[t.id];void 0===n&&(n={},this.eventMap[t.id]=n),this.checkAllTentpoles(t,n,e)}},t.checkAllTentpoles=function(e,t,n){if(n.isPlaying){var r=e.durationMs,i=e.currentTimeMs,a=this.playbackLatencyListener.getLatencyData()||{},o={latency_millis:a.latency,cache_info:{notCached:{}}};this.emitOnce(K,t,n,a,o),e.isLive||this.checkProgressTentpoles(r,i,t,n)}},t.checkProgressTentpoles=function(e,t,n,r){var i=this;mt.forEach((function(a){var o=a.progress*e;t>=o-1e3&&t<=o+1e3&&i.emitOnce(a.event,n,r)}))},t.emitOnce=function(e,t,n,r,i){t[e]||(this.analytics.emit(e,n,r,i),t[e]=!0)},e}(),gt=[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100],bt=((o={})[he]=2,o[ue]=3,o[ye]=1,o[de]=1,o[le]=1,o[fe]=5,o[ce]=1,o),Et=function(){function e(e){this.analytics=e,this.sessionDataStore={},this.analytics.on(Z,this.onTickEvent.bind(this)),this.analytics.on(O,this.onFullscreenEvent.bind(this)),this.analytics.on(Q,this.onShrinkEvent.bind(this)),this.analytics.on(ee,this.onTrackFinishedEvent.bind(this)),this.analytics.on(m,this.onTrackInterrupt.bind(this)),this.analytics.on($,this.onTrackInterrupt.bind(this))}var t=e.prototype;return t.onTickEvent=function(e){var t=_e(e);if(void 0!==t){var n=this.getOrCreateNewSessionDataForTrack(t,e);e.isScrubbing?n.currentTimeMs=t.currentTimeMs:this.updateViewData(t,n,e)}},t.onFullscreenEvent=function(e){var t=_e(e);void 0!==t&&(this.getOrCreateNewSessionDataForTrack(t,e).isFullscreenMode=!0)},t.onShrinkEvent=function(e){var t=_e(e);void 0!==t&&(this.getOrCreateNewSessionDataForTrack(t,e).isFullscreenMode=!1)},t.onTrackFinishedEvent=function(e){var t=_e(e);if(void 0!==t){var n=this.sessionDataStore[t.id];if(void 0!==n)if(t.shouldLoop)n.currentTimeMs=0;else{if(n.timeWatchedMs>0){var r=this.constructVideoSessionDetails(n,t);this.emitVideoSessionEvent(e,r)}this.sessionDataStore[t.id]=void 0}}},t.onTrackInterrupt=function(e){var t=_e(e);if(void 0!==t){var n=this.sessionDataStore[t.id];if(void 0!==n){if(n.timeWatchedMs>0){var r=this.constructVideoSessionDetails(n,t);this.emitVideoSessionEvent(e,r)}this.sessionDataStore[t.id]=void 0}}},t.getOrCreateNewSessionDataForTrack=function(e,t){var n=this.sessionDataStore[e.id];return void 0===n&&(n={sizesInfoAtTheStart:t.sizesInfo,currentTimeMs:e.currentTimeMs,isFullscreenMode:!1,timeWatchedMs:0,timeWatchedFullscreenMs:0,timeWatchedWithAudioMs:0,timeWatchedFullscreenWithAudioMs:0,watchedMsByInViewPct:this.generateNewAggregateHistogram(),watchedWithAudioMsByInViewPct:this.generateNewAggregateHistogram(),watchedMsByViewportPct:this.generateNewAggregateHistogram(),maxContinuousWatchedMsByInViewPct:this.generateNewMaxContinuousHistogram(),maxContinuousWatchedWithAudioMsByInViewPct:this.generateNewMaxContinuousHistogram()},this.sessionDataStore[e.id]=n),n},t.generateNewAggregateHistogram=function(){for(var e,t={},n=y(gt);!(e=n()).done;){t[e.value]=0}return t},t.generateNewMaxContinuousHistogram=function(){for(var e,t={},n=y(gt);!(e=n()).done;){t[e.value]={current:0,max:0}}return t},t.resetContinuousViewDataForHistogram=function(e){for(var t,n=y(gt);!(t=n()).done;){var r=t.value;this.resetContinuousViewDataForBucket(e[r])}},t.resetContinuousViewDataForBucket=function(e){e.max=Math.max(e.current,e.max),e.current=0},t.updateViewData=function(e,t,n){var r=e.currentTimeMs-t.currentTimeMs,i=t.isFullscreenMode?1:n.percentVisible,a=t.isFullscreenMode?1:n.percentOfViewportOccupied;t.currentTimeMs=e.currentTimeMs,r<0||(t.timeWatchedMs+=r,this.updateAggregateHistogram(t.watchedMsByInViewPct,i,r),this.updateAggregateHistogram(t.watchedMsByViewportPct,a,r),this.updateMaxContinuousHistogram(t.maxContinuousWatchedMsByInViewPct,i,r),n.isMuted?this.resetContinuousViewDataForHistogram(t.maxContinuousWatchedWithAudioMsByInViewPct):(t.timeWatchedWithAudioMs+=r,this.updateAggregateHistogram(t.watchedWithAudioMsByInViewPct,i,r),this.updateMaxContinuousHistogram(t.maxContinuousWatchedWithAudioMsByInViewPct,i,r)),t.isFullscreenMode&&(t.timeWatchedFullscreenMs+=r,n.isMuted||(t.timeWatchedFullscreenWithAudioMs+=r)))},t.updateAggregateHistogram=function(e,t,n){if(0!==t)for(var r,i=100*t,a=y(gt);!(r=a()).done;){var o=r.value;i>=o&&(e[o]+=n)}},t.updateMaxContinuousHistogram=function(e,t,n){if(0!==t)for(var r,i=100*t,a=y(gt);!(r=a()).done;){var o=r.value;i>=o?e[o].current+=n:e[o].current>0&&this.resetContinuousViewDataForBucket(e[o])}else this.resetContinuousViewDataForHistogram(e)},t.constructVideoSessionDetails=function(e,t){return{video_details:{is_preroll_video:t.displayType===oe,video_length:Math.round(t.durationMs),time_watched:Math.round(e.timeWatchedMs),time_watched_fullscreen:Math.round(e.timeWatchedFullscreenMs),time_watched_with_audio:Math.round(e.timeWatchedWithAudioMs),time_watched_fullscreen_with_audio:Math.round(e.timeWatchedFullscreenWithAudioMs),time_watched_100_with_audio:Math.round(e.watchedWithAudioMsByInViewPct[100]),video_type:bt[t.contentType],watched_ms_by_in_view_pct:this.constructAggregateHistogramPayload(e.watchedMsByInViewPct),watched_with_audio_ms_by_in_view_pct:this.constructAggregateHistogramPayload(e.watchedWithAudioMsByInViewPct),watched_ms_by_viewport_pct:this.constructAggregateHistogramPayload(e.watchedMsByViewportPct),max_continuous_watched_ms_by_in_view_pct:this.constructMaxContinuousHistogramPayload(e.maxContinuousWatchedMsByInViewPct),max_continuous_watched_with_audio_ms_by_in_view_pct:this.constructMaxContinuousHistogramPayload(e.maxContinuousWatchedWithAudioMsByInViewPct),sizes_info_at_the_start:{viewport_size:e.sizesInfoAtTheStart.viewportSize,ad_size:e.sizesInfoAtTheStart.mediaSize}}}},t.constructAggregateHistogramPayload=function(e){for(var t,n={},r=y(gt);!(t=r()).done;){var i=t.value;n[i]=Math.round(e[i])}return{histogram:n}},t.constructMaxContinuousHistogramPayload=function(e){for(var t,n={},r=y(gt);!(t=r()).done;){var i=t.value,a=e[i];n[i]=Math.round(Math.max(a.current,a.max))}return{histogram:n}},t.emitVideoSessionEvent=function(e,t){this.analytics.emit(ne,e,t)},e}(),Tt=[ie,B,ae,M,I,C,k,re,N,j],Ot=[M,C,k,re],It=function(){function e(e,t){this.analytics=e,this.context=t,this.eventMap={},this.analytics.on(Z,this.onTickEvent.bind(this)),this.analytics.on(ee,this.onTrackFinishedEvent.bind(this)),this.analytics.on(x,this.onPauseEvent.bind(this)),this.analytics.on(H,this.onPlaybackComplete.bind(this))}var t=e.prototype;return t.onTrackFinishedEvent=function(e){var t=_e(e);if(void 0!==t){var n=this.eventMap[t.id];void 0!==n&&(t.shouldLoop?n.timePlayedToMs=0:this.eventMap[t.id]=void 0)}},t.onPlaybackComplete=function(e){var t=_e(e);if(void 0!==t){var n=this.eventMap[t.id];void 0!==n&&this.context&&this.context.enableShortFormCompleteLogging&&this.emitOnce(j,n,e)}},t.onPauseEvent=function(e){this.resetContinuousViewEventTimingData(e)},t.onTickEvent=function(e){var t=_e(e);if(void 0!==t){var n=this.eventMap[t.id];if(void 0===n){n={timePlayedToMs:t.currentTimeMs};for(var r,i=y(Tt);!(r=i()).done;){n[r.value]={timePlayedMs:0,visibilityWeightedTimePlayedMs:0,fired:!1}}this.eventMap[t.id]=n}e.isScrubbing?(n.timePlayedToMs=t.currentTimeMs,this.resetContinuousViewEventTimingData(e)):(this.updateTimingData(t,n,e),this.checkViewEvents(t,n,e)),this.checkPlayFromTap(n,e)}},t.updateTimingData=function(e,t,n){var r=e.currentTimeMs-t.timePlayedToMs;t.timePlayedToMs=e.currentTimeMs;var i=n.percentVisible;i>=1&&(t[ae].timePlayedMs+=r),i>=1?t[M].timePlayedMs+=r:t[M].timePlayedMs=0,i>=.5&&Ee(n)?t[C].timePlayedMs+=r:t[C].timePlayedMs=0,i>=.5?t[k].timePlayedMs+=r:t[k].timePlayedMs=0,i>=1&&!n.isMuted&&(t[I].timePlayedMs+=r),i>=.5?t[re].timePlayedMs+=r:t[re].timePlayedMs=0,t[N].timePlayedMs+=r,i>=.5&&(t[N].visibilityWeightedTimePlayedMs+=i*r),t[j].timePlayedMs+=r},t.resetContinuousViewEventTimingData=function(e){var t=this.eventMap[e.currentTrackId];if(void 0!==t)for(var n,r=y(Ot);!(n=r()).done;){t[n.value].timePlayedMs=0}},t.checkViewEvents=function(e,t,n){var r;t[ae].timePlayedMs>=(!(r=e).isLive&&r.durationMs>0&&!r.shouldLoop?Math.min(r.durationMs-500,3e3):3e3)&&(this.emitOnce(ae,t,n),this.emitOnce(ie,t,n)),t[M].timePlayedMs>=1e3&&this.emitOnce(M,t,n),t[I].timePlayedMs>=function(e){return!e.isLive&&e.durationMs>0?.5*e.durationMs:Number.MAX_SAFE_INTEGER}(e)&&this.emitOnce(I,t,n),t[C].timePlayedMs>=2e3&&this.emitOnce(C,t,n),t[k].timePlayedMs>=2e3&&this.emitOnce(k,t,n),t[re].timePlayedMs>=function(e){return!e.isLive&&e.durationMs>0?Math.min(.95*e.durationMs,1e4):1e4}(e)&&this.emitOnce(re,t,n);var i=t[N];i.timePlayedMs>=function(e){return!e.isLive&&e.durationMs>0?Math.min(.95*e.durationMs,6e3):6e3}(e)&&i.visibilityWeightedTimePlayedMs>=function(e){return!e.isLive&&e.durationMs>0?Math.min(.5*e.durationMs,3e3):3e3}(e)&&this.emitOnce(N,t,n),this.context&&this.context.enableShortFormCompleteLogging&&t[j].timePlayedMs>=15e3&&this.emitOnce(j,t,n)},t.checkPlayFromTap=function(e,t){t.isPlaying&&!t.isPreview&&(this.emitOnce(B,e,t),this.emitOnce(ie,e,t))},t.emitOnce=function(e,t,n){t[e].fired||(this.analytics.emit(e,n),t[e].fired=!0)},e}(),St=function(e){function t(t,n,r,i){var a;(a=e.call(this)||this).scribeListener=new dt(c()(a),t,i),a.promotedLogListener=new Ke(c()(a),n),a.tentpoleListener=new _t(c()(a)),a.viewListener=new It(c()(a),i),a.playbackLapseListener=new Ge(c()(a)),a.errorListener=new we(c()(a)),a.beaconListener=new Oe(c()(a)),a.rewindListener=new qe(c()(a)),a.heartbeatListener=new De(c()(a)),a.loopListener=new Le(c()(a)),a.intendToPlayListener=new ke(c()(a)),a.videoSessionListener=new Et(c()(a)),a.ctaImpressionListener=new Se(c()(a)),a.captionsListener=new Ie(c()(a));var o=new Be(r,i),s=new Fe(o);return a.lifecycleListener=new We(c()(a),s),a}l()(t,e);var n=t.prototype;return n.onTickEvent=function(e){this.emit(Z,e)},n.onReplay=function(e){var t=_e(e);void 0!==t&&(t.shouldLoop||this.emit(q,e))},n.onTrackFinished=function(e){this.emit(ee,e)},n.onIntendToPlay=function(e){this.emit(D,e)},n.onPlay=function(e){this.emit(U,e)},n.onPause=function(e){this.emit(x,e)},n.onMute=function(e){this.emit(L,e)},n.onUnmute=function(e){this.emit(te,e)},n.onFullScreen=function(e){this.emit(O,e)},n.onShrink=function(e){this.emit(Q,e)},n.onAdSkip=function(e){this.emit(m,e)},n.onCtaImpression=function(e){this.emit(E,e)},n.onCtaClick=function(e){this.emit(b,e)},n.onConfigLoaded=function(e){this.emit(g,e)},n.onError=function(e,t){this.emit(T,e,t)},n.onTeardown=function(e){this.emit($,e)},t}(h.a);t.a=St},1569:function(e,t,n){n(10)({target:"Array",stat:!0},{isArray:n(148)})},1570:function(e,t,n){n(10)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},1571:function(e,t,n){var r=n(66),i=Date.prototype,a=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&r(i,"toString",(function(){var e=o.call(this);return e==e?a.call(this):"Invalid Date"}))},1572:function(e,t,n){n(10)({target:"Function",proto:!0},{bind:n(553)})},1573:function(e,t,n){n(10)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},1574:function(e,t,n){var r=n(10),i=n(16),a=n(239),o=[].slice,s=function(e){return function(t,n){var r=arguments.length>2,i=r?o.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(a)},{setTimeout:s(i.setTimeout),setInterval:s(i.setInterval)})},1575:function(e,t,n){"use strict";(function(e){n(47),n(30),n(39),n(48);var r=n(3),i=n.n(r),a=n(4),o=n.n(a),s=n(1),c=n.n(s),u=(n(17),n(20),n(71),n(383),n(69),n(25),n(753)),l=n(754),d=n(841),p=n(815),f=n(1591),h=n(1013),y=n(773),v=n(758),m=n(774),_=n(1589),g=n(1590),b=n(814),E=n(1600),T=n(849),O=n(1576),I=n.n(O),S=n(1602),w=n(1012),P=n(756),A=n(781),D=n(764),R=n(994),C=n(782);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(){function t(n){var r=this,a=n.source,o=void 0===a?{}:a,s=n.videoConfig,l=n.domElement,O=n.httpClient,S=n.twitterAuthedHttpClient,k=n.options,M=void 0===k?{}:k;i()(this,t),c()(this,"teardown",(function(){r.broadcastUpdater&&r.broadcastUpdater.cancelUpdate(),r.unsubscribeCalls.forEach((function(e){e()})),r.unsubscribeCalls=[],Object(w.c)(r.id),r.source=void 0,r.session=void 0,void 0!==r.hydraExperienceId&&E.a.dispatch(Object(R.teardownExperience)(r.hydraExperienceId)),r.video&&r.video.teardown(),E.a.dispatch(Object(T.c)(r.id)),Object(A.h)(r.id),r.logger.clearLogs(),r.rejectPlayerReadyPromise()})),c()(this,"play",(function(){return r.initiallyMuted?r.playPreview():r.playerReadyPromise.then((function(){r._dispatch(u.O(r.id))})),r})),c()(this,"pause",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.N(r.id))})),r})),c()(this,"replay",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.Q(r.id))})),r})),c()(this,"mute",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.M(r.id))})),r})),c()(this,"unmute",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.S(r.id))})),r})),c()(this,"scrubToFraction",(function(e){return r.playerReadyPromise.then((function(){r._dispatch(u.R(r.id,e))})),r})),c()(this,"setVolume",(function(e){return r.playerReadyPromise.then((function(){r._dispatch(u.T(r.id,e))})),r})),c()(this,"setPlaybackTimeRange",(function(e){var t=e.startTimeS,n=e.endTimeS;return r.playerReadyPromise.then((function(){t<=0&&n>=r.video.getVideoTag().duration?r._dispatch(u.F(r.id)):r._dispatch(u.P(r.id,t,n))})),r})),c()(this,"fullScreen",(function(e){var t=e||r.domElement;return E.a.dispatch(Object(C.f)(r.id,t,r.video.getVideoTag())),r})),c()(this,"exitFullScreen",(function(){return E.a.dispatch(Object(C.g)(r.id)),r})),c()(this,"hideControls",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.I(r.id))})),r})),c()(this,"showControls",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.U(r.id))})),r})),c()(this,"playPreview",(function(){return r.playerReadyPromise.then((function(){r._dispatch(Object(D.f)(r.id)),r.initiallyMuted&&(r.initiallyMuted=!1)})),r})),c()(this,"pausePreview",(function(){return r.playerReadyPromise.then((function(){r._dispatch(Object(D.e)(r.id))})),r})),c()(this,"objectFitVideo",(function(e){return-1!==v.c.indexOf(e)&&r.video&&(r.video.objectFitVideo=e),r})),c()(this,"toggleCaptions",(function(){return r.playerReadyPromise.then((function(){var e=E.a.getState(),t=e&&e.players&&e.players[r.id],n=!(!t||!t.areCaptionsShown);r._dispatch(n?u.K(r.id,!0):u.L(r.id,!0))})),r})),c()(this,"nextTrack",(function(){return r.playerReadyPromise.then((function(){r._dispatch(Object(y.n)(r.id))})),r})),c()(this,"triggerError",(function(e){var t=new Error(e||"synthetic");return E.a.dispatch(Object(m.h)(r.id,t)),r})),c()(this,"reload",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.requestedTimecode,n=e.autoPlay,i=void 0!==n&&n;r.playerReadyPromise=new Promise((function(e,t){r.resolvePlayerReadyPromise=e,r.rejectPlayerReadyPromise=t})).catch((function(){}));var a=E.a.getState()||{players:{}},o=a.players[r.id],s=-1;if(o){if(void 0!==t)r.playerOptions.requestedTimecode=t;else if(0===o.currentTrackId){var c=Object(p.b)(o);s=c.currentTimeMs/1e3}var l=o.isPreview,d=o.isPlaying,f=o.isMuted,h=d||i;r.playerReadyPromise.then((function(){l?h?r._dispatch(Object(D.f)(r.id)):r._dispatch(Object(D.e)(r.id)):(h&&r._dispatch(u.O(r.id)),f&&r._dispatch(u.M(r.id)))}))}return r.video&&r.video.teardownPlayer(),E.a.dispatch(r._reloadPlayer(r.id,r.source,r.videoConfig,r.session,r.resolvePlayerReadyPromise,r.rejectPlayerReadyPromise,L(L({},r.playerOptions),{},{reloadTimecode:s}),r.logger)),r})),c()(this,"on",(function(e,t){return Object.keys(d.a).forEach((function(n){d.a[n]===e&&Object(w.a)(r.id,e,t)})),r})),c()(this,"updatePosition",(function(e){var t=e.percentVisible,n=e.percentOfViewportOccupied,i=e.sizesInfo;return r.playerReadyPromise.then((function(){r._dispatch(u.V(r.id,t,n,i))})),r})),c()(this,"callToActionClicked",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.D(r.id))})),r})),c()(this,"callToActionImpression",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.E(r.id))})),r})),c()(this,"liveClickthroughClicked",(function(){return r.playerReadyPromise.then((function(){r._dispatch(u.J(r.id))})),r})),c()(this,"subscribe",(function(e){var t=E.a.getState(),n=r._getPlayerState(t),i=r._getHydraState(t),a=E.a.subscribe((function(){var t=E.a.getState(),a=r._getPlayerState(t),o=r._getHydraState(t);void 0!==a&&(n!==a||i!==o)&&(n=a,i=o,e(a,o))}));return r.unsubscribeCalls.push(a),a})),c()(this,"onStoreUpdate",(function(e){var t=Object(p.b)(e),n="ad"===(null==t?void 0:t.displayType),i=e.errorInfo,a=i.adFailed,o=i.autoRetry,s=i.backoffMs,c=n&&a&&!1!==t.shouldAutoAdvance;(o||c)&&setTimeout((function(){r.reload()}),(c?0:s)||0)})),this.id=t.id,t.id+=1,this.unsubscribeCalls=[],this.source=o,this.videoConfig=s,this.session={id:I()()},this.playbackSessionId=M.playbackSessionId,this.initiallyMuted=M.initiallyMuted,this._reloadPlayer=P.j,this.playerReadyPromise=new Promise((function(e,t){r.resolvePlayerReadyPromise=e,r.rejectPlayerReadyPromise=t})).then(Promise.resolve()).catch((function(){})),M.autoplay&&this.play(),this.logger=new h.a(this.id),e.env.VIDEO_PLAYER_DEBUG&&(h.a.debuggingEnabled=!0),Object(A.f)(this.id,new _.a(new g.a(O)),new _.a(new g.a(S||O)),this.logger,new f.a,M.featureProvider),this.subscribe(this.onStoreUpdate),this.source.type!==b.a.BROADCAST&&this.source.type!==b.a.STATIC_BROADCAST||(this.hydraExperienceId=M.hydraExperienceId=E.a.dispatch(Object(R.registerExperience)())),this.options=M;var N=-1,j=this.playbackSessionId?Object(A.g)(this.playbackSessionId):void 0;j&&(this.options.videoEl=M.videoEl||j.videoEl,N=j.reloadTimecode);var x=this.options,U=x.bitrateCap,B=x.featureProvider,F=x.includeBroadcastEventAssociation,V=x.initiallyMutedCaptions,W=x.intentToPlayTime,G=x.maxLoopCount,H=x.promotedContext,Y=x.requestedTimecode,z=x.showGeolocationPrompt;this.playerOptions={bitrateCap:U,featureProvider:B,includeBroadcastEventAssociation:F,initiallyMutedCaptions:V,intentToPlayTime:W,maxLoopCount:G,promotedContext:H,reloadTimecode:N,requestedTimecode:Y,showGeolocationPrompt:z},E.a.dispatch(Object(P.g)(this.id,o,s,this.session,M.analytics,M.adProvider,this.resolvePlayerReadyPromise,this.rejectPlayerReadyPromise,this.playerOptions,this.logger)).then((function(e){r.broadcastUpdater=e})),l&&this.attach(l)}return o()(t,[{key:"attach",value:function(e){this.video||(this.domElement=e,this.video=new S.a(this.domElement,this.id,E.a,this.reload,this.logger,this.options))}},{key:"_getPlayerState",value:function(e){if(e.players)return e.players[this.id]}},{key:"_getHydraState",value:function(e){if(void 0!==this.hydraExperienceId&&e.hydraExperiences)return e.hydraExperiences[this.hydraExperienceId]}},{key:"_dispatch",value:function(e){var t=E.a.getState();this._getPlayerState(t)?E.a.dispatch(e):this.triggerError(l.a.MEDIA_TEARDOWN_ERROR)}}]),t}();c()(M,"id",0),t.a=M}).call(this,n(42))},1576:function(e,t,n){var r=n(1577),i=n(1578);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||i(o)}},1577:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},1578:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},1579:function(e,t,n){"use strict";var r=n(13);n(100),n(233),n(1580),n(1582),n(25),t.__esModule=!0,t.default=t.registerExperience=t.REGISTER_EXPERIENCE=void 0;var i=r(n(67)),a=n(1011);t.REGISTER_EXPERIENCE="REGISTER_EXPERIENCE";t.registerExperience=function(){return{type:"REGISTER_EXPERIENCE"}};t.default=function(e){return function(t){return function(n){switch(n.type){case"REGISTER_EXPERIENCE":var r=e.getState(),o=Object.keys(r.hydraExperiences||{}).map((function(e){return Number.parseInt(e,10)})),s=Math.max.apply(Math,(0,i.default)(o))+1;return Number.isFinite(s)||(s=0),e.dispatch((0,a.initializeExperience)(s)),s;default:return t(n)}}}}},1580:function(e,t,n){n(10)({target:"Number",stat:!0},{isFinite:n(1581)})},1581:function(e,t,n){var r=n(16).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},1582:function(e,t,n){var r=n(10),i=n(558);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},1583:function(e,t,n){"use strict";n(88),n(25),t.__esModule=!0,t.combineReducers=void 0;t.combineReducers=function(e){return function(t,n){return Object.keys(e).reduce((function(r,i){return r[i]=e[i](t[i],n),r}),{})}}},1584:function(e,t,n){var r=n(554),i=n(552),a=n(410),o=n(555);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.default=e.exports,e.exports.__esModule=!0},1585:function(e,t,n){"use strict";(function(e,r){var i,a=n(1587);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var o=Object(a.a)(i);t.a=o}).call(this,n(37),n(1586)(e))},1586:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},1587:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},1588:function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(37))},1589:function(e,t,n){"use strict";var r=n(3),i=n.n(r),a=n(4),o=n.n(a),s=(n(40),n(816)),c={},u=function(){function e(t){i()(this,e),this.httpClient=t}return o()(e,[{key:"dispatch",value:function(e){if("get"===e.method.toLowerCase()){var t=e.params?Object(s.b)(e.params):"",n=t?"?".concat(t):"",r="".concat(e.host).concat(e.path).concat(n);return c[r]||(c[r]=this.httpClient.dispatch(e).then((function(e){return delete c[r],e})).catch((function(e){throw delete c[r],e}))),c[r]}return this.httpClient.dispatch(e)}}]),e}();t.a=u},1590:function(e,t,n){"use strict";var r=n(3),i=n.n(r),a=n(4),o=n.n(a),s=(n(383),n(69),function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;i()(this,e),this.httpClient=t,this.backOffMSec=n}return o()(e,[{key:"dispatch",value:function(e){var t=this;return new Promise((function(n,r){t._dispatchOnce(0,n,r,e)}))}},{key:"_dispatchOnce",value:function(e,t,n,r){var i=this;this.httpClient.dispatch(r).then((function(a){i._handleResponse(e,t,n,r,a)})).catch((function(a){i._handleReject(e,t,n,r,a)}))}},{key:"_handleResponse",value:function(e,t,n,r,i){var a=this,o=!1;switch(i.status){case 404:case 425:case 429:case 500:case 502:case 503:case 504:case 508:o=!0}!o||e>=3?t(i):setTimeout((function(){a._dispatchOnce(e+1,t,n,r)}),this._backOffMSec(e))}},{key:"_handleReject",value:function(e,t,n,r,i){var a=this;e>=3?n(i):setTimeout((function(){a._dispatchOnce(e+1,t,n,r)}),this._backOffMSec(e))}},{key:"_backOffMSec",value:function(e){var t=this.backOffMSec,n=Math.pow(3,e)*t;return t+Math.random()*(n-t)}}]),e}());t.a=s},1591:function(e,t,n){"use strict";var r=n(3),i=n.n(r),a=n(4),o=n.n(a),s=function(){function e(){i()(this,e),this.byteAccumulator=0}return o()(e,[{key:"add",value:function(e){this.byteAccumulator+=e}},{key:"getAndReset",value:function(){var e=this.byteAccumulator;return this.byteAccumulator=0,e}}]),e}();t.a=s},1592:function(e,t){function n(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,c,"next",e)}function c(e){n(o,i,a,s,c,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},1593:function(e,t,n){e.exports=n(1594)},1594:function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,o),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l={};function d(){}function p(){}function f(){}var h={};h[i]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(I([])));v&&v!==t&&n.call(v,i)&&(h=v);var m=f.prototype=d.prototype=Object.create(h);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var r;this._invoke=function(i,a){function o(){return new t((function(r,o){!function r(i,a,o,s){var c=u(e[i],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(c.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=m.constructor=f,f.constructor=p,p.displayName=s(f,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},_(g.prototype),g.prototype[a]=function(){return this},e.AsyncIterator=g,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new g(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(m),s(m,o,"Generator"),m[i]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},1595:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return i}));var i=function(){function e(){}return e.isAvailable=function(){return void 0===r&&(r="function"==typeof document.queryCommandSupported&&document.queryCommandSupported("copy")),r},e.getString=function(){return Promise.resolve("")},e.setString=function(e){var t=!1,n=document.body;if(n){var r=document.createElement("span");r.textContent=e,r.style.opacity="0",r.style.position="absolute",r.style.whiteSpace="pre-wrap",r.style.userSelect="auto",n.appendChild(r);var i=window.getSelection();i.removeAllRanges();var a=document.createRange();a.selectNodeContents(r),i.addRange(a);try{document.execCommand("copy"),t=!0}catch(e){}i.removeAllRanges(),n.removeChild(r)}return t},e}()},1600:function(e,t,n){"use strict";var r=n(997),i=n(764),a=n(753),o=n(849),s=n(843),c=n(1014),u=n(756),l={},d=n(1016),p=(n(380),n(781)),f=n(774),h=n(773),y={},v=n(842),m=n(782),_=n(1012),g=(n(25),n(47),n(30),n(39),n(17),n(20),n(48),n(3)),b=n.n(g),E=n(4),T=n.n(E),O=n(1),I=n.n(O);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var w=function(){function e(t){var n=this;b()(this,e),I()(this,"onNativeFullscreenBegin",(function(){n.setFullscreen(!0)})),I()(this,"onNativeFullscreenEnd",(function(){n.setFullscreen(!1)})),I()(this,"onFullscreenChanged",(function(){var e=(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)===n.fullscreenTarget;e||(n.fullscreenTarget=void 0,n.removeDocumentListeners()),n.setFullscreen(e)})),I()(this,"expand",(function(e,t,r){t&&(n.expandTimeout=setTimeout((function(){n.setFullscreen(!1)}),1e3),n.fullscreenTarget&&(n.fullscreenTarget.removeEventListener("touchstart",n._swipeStart),n.fullscreenTarget.removeEventListener("transitionend",n._fullscreenTransitionEnd),n.setFullscreen(!1)),n.fullscreenTarget=t,n.playerId=e,n.addDocumentListeners(),t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitEnterFullscreen?(n.addElementListeners(t),t.webkitEnterFullscreen()):null!=r&&r.webkitEnterFullscreen?(n.fullscreenTarget=r,n.addElementListeners(r),r.webkitEnterFullscreen()):(n.removeDocumentListeners(),n.removeElementListeners(),n.nonFullscreenStyle=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.style),n.nonFullscreenPosition=t.getBoundingClientRect(),t.style.position="fixed",t.style.width="".concat(n.nonFullscreenPosition.right-n.nonFullscreenPosition.left,"px"),t.style.height="".concat(n.nonFullscreenPosition.bottom-n.nonFullscreenPosition.top,"px"),t.style.top="".concat(n.nonFullscreenPosition.top,"px"),t.style.left="".concat(n.nonFullscreenPosition.left,"px"),t.style.zIndex="100",window.requestAnimationFrame((function(){t.style.transition="width 0.25s, height 0.25s, top 0.25s, left 0.25s",t.style.width="100%",t.style.height="100%",t.style.top="0",t.style.left="0",t.addEventListener("transitionend",n._fullscreenTransitionEnd)}))))})),I()(this,"shrink",(function(e){e===n.playerId&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():n.fullscreenTarget.webkitExitFullscreen?n.fullscreenTarget.webkitExitFullscreen():(n.fullscreenTarget.style.width="".concat(n.nonFullscreenPosition.right-n.nonFullscreenPosition.left,"px"),n.fullscreenTarget.style.height="".concat(n.nonFullscreenPosition.bottom-n.nonFullscreenPosition.top,"px"),n.fullscreenTarget.style.top="".concat(n.nonFullscreenPosition.top,"px"),n.fullscreenTarget.style.left="".concat(n.nonFullscreenPosition.left,"px"),n.fullscreenTarget.style.transition="width 0.25s, height 0.25s, top 0.25s, left 0.25s",n.fullscreenTarget.addEventListener("transitionend",n._shrinkTransitionEnd),n.fullscreenTarget.removeEventListener("touchstart",n._swipeStart)))})),I()(this,"_swipeStart",(function(e){n.addSwipeListeners(),n.touchStart=e.touches[0]})),I()(this,"_swipeMove",(function(e){e.preventDefault();var t=e.touches[0].pageY-n.touchStart.pageY;n.swipeVector=Math.abs(t);var r=t/n.swipeVector*Math.min(n.swipeVector,n.swipeVector/(n.swipeVector+3*n.fullscreenTarget.clientHeight/4)*n.fullscreenTarget.clientHeight*1/2);n.fullscreenTarget.style.top="".concat(r,"px")})),I()(this,"_swipeEnd",(function(){n.removeSwipeListeners(),n.swipeVector>n.fullscreenTarget.clientHeight/4?n.shrink(n.playerId):n.fullscreenTarget.style.top="0"})),I()(this,"_fullscreenTransitionEnd",(function(){n.fullscreenTarget.style.transition="",n.fullscreenTarget.removeEventListener("transitionend",n._fullscreenTransitionEnd),n.fullscreenTarget.addEventListener("touchstart",n._swipeStart),n.setFullscreen(!0)})),I()(this,"_shrinkTransitionEnd",(function(){n.fullscreenTarget.removeEventListener("transitionend",n._shrinkTransitionEnd),n.fullscreenTarget.style.transition="",n.fullscreenTarget.style.position=n.nonFullscreenStyle.position,n.fullscreenTarget.style.width=n.nonFullscreenStyle.width,n.fullscreenTarget.style.height=n.nonFullscreenStyle.height,n.fullscreenTarget.style.top=n.nonFullscreenStyle.top,n.fullscreenTarget.style.left=n.nonFullscreenStyle.left,n.fullscreenTarget.style.zIndex=n.nonFullscreenStyle.zIndex,n.setFullscreen(!1),n.fullscreenTarget=void 0})),this.fullscreenTarget=void 0,this.playerId=void 0,this.onChange=t,this.isFullscreen=!1}return T()(e,[{key:"addDocumentListeners",value:function(){document.addEventListener("webkitfullscreenchange",this.onFullscreenChanged),document.addEventListener("mozfullscreenchange",this.onFullscreenChanged),document.addEventListener("MSFullscreenChange",this.onFullscreenChanged),document.addEventListener("fullscreenchange",this.onFullscreenChanged)}},{key:"removeDocumentListeners",value:function(){document.removeEventListener("webkitfullscreenchange",this.onFullscreenChanged),document.removeEventListener("mozfullscreenchange",this.onFullscreenChanged),document.removeEventListener("MSFullscreenChange",this.onFullscreenChanged),document.removeEventListener("fullscreenchange",this.onFullscreenChanged)}},{key:"addSwipeListeners",value:function(){document.addEventListener("touchend",this._swipeEnd),document.addEventListener("touchmove",this._swipeMove)}},{key:"addElementListeners",value:function(e){e.addEventListener("webkitbeginfullscreen",this.onNativeFullscreenBegin),e.addEventListener("webkitendfullscreen",this.onNativeFullscreenEnd)}},{key:"removeElementListeners",value:function(){var e=this.fullscreenTarget;e&&(e.removeEventListener("webkitbeginfullscreen",this.onNativeFullscreenBegin),e.removeEventListener("webkitendfullscreen",this.onNativeFullscreenEnd),e.removeEventListener("transitionend",this._fullscreenTransitionEnd),e.removeEventListener("transitionend",this._shrinkTransitionEnd))}},{key:"removeSwipeListeners",value:function(){document.removeEventListener("touchend",this._swipeEnd),document.removeEventListener("touchmove",this._swipeMove)}},{key:"setFullscreen",value:function(e){clearTimeout(this.expandTimeout),this.onChange(this.playerId,e),e||(this.cleanup(),this.fullscreenTarget=void 0,this.playerId=void 0)}},{key:"cleanup",value:function(){clearTimeout(this.expandTimeout),this.removeDocumentListeners(),this.removeElementListeners(),this.removeSwipeListeners()}}]),e}(),P=(n(413),n(1015));function A(e){Object(P.b)("captions",e)}n(384);var D=n(758),R=n(996),C=R.a.BUFFERING_COMPLETED,k=R.a.BUFFERING_REQUESTED,L=R.a.IDLE,M=R.a.PREBUFFERING_COMPLETED,N=function(e,t){Object.keys(t).forEach((function(n){n=parseInt(n,10);var r=(null==t?void 0:t[n])||{},i=r.bufferingStatus,a=r.targetDuration;!(i===C)&&void 0!==i&&!(i===M)&&a&&e.dispatch(Object(R.f)(n,k,D.b*a))}))};function j(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var x=j();x.withExtraArgument=j;var U=x,B=n(1588),F="object"==typeof self&&self&&self.Object===Object&&self,V=(B.a||F||Function("return this")()).Symbol,W=Object.prototype,G=W.hasOwnProperty,H=W.toString,Y=V?V.toStringTag:void 0;var z=function(e){var t=G.call(e,Y),n=e[Y];try{e[Y]=void 0;var r=!0}catch(e){}var i=H.call(e);return r&&(t?e[Y]=n:delete e[Y]),i},K=Object.prototype.toString;var q=function(e){return K.call(e)},J=V?V.toStringTag:void 0;var Q=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":J&&J in Object(e)?z(e):q(e)};var X=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var $=function(e){return null!=e&&"object"==typeof e},Z=Function.prototype,ee=Object.prototype,te=Z.toString,ne=ee.hasOwnProperty,re=te.call(Object);var ie=function(e){if(!$(e)||"[object Object]"!=Q(e))return!1;var t=X(e);if(null===t)return!0;var n=ne.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&te.call(n)==re},ae=n(1585),oe="@@redux/INIT";function se(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function ce(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var le=n(994),de=n.n(le),pe=[function(e){return function(t){return function(n){switch(n.type){case u.c:l[n.playerId]=function(){return"function"==typeof n.adProvider?n.adProvider():{}};break;case o.a:delete l[n.playerId];break;case a.p:case i.c:var d,p,f=e.getState().players[n.playerId],h=null==f||null===(d=f.features)||void 0===d?void 0:d[s.e];if(f&&!f.adLoaded&&l[n.playerId]&&!h&&(null===(p=f.errorInfo)||void 0===p||!p.adFailed))return t(Object(c.d)(n.playerId,l[n.playerId],n.type===i.c));break;case u.b:var y,v=e.dispatch(Object(r.b)(n.playerId,s.e)),m=e.getState().players[n.playerId];if(l[n.playerId]&&v&&m&&(null===(y=m.errorInfo)||void 0===y||!y.adFailed)){var _=l[n.playerId]();e.dispatch(Object(c.b)(n.playerId,_))}}return t(n)}}},function(e){return function(t){return function(n){switch(n.type){case i.c:var r=Object(v.c)(e,n.playerId)||{},o=r.initiallyMutedCaptions,s=r.userSpecifiedCaptions;o&&!s&&e.dispatch(Object(a.L)(n.playerId,!1));break;case a.p:case a.r:case a.t:case a.u:case a.s:case m.b:var c=Object(v.c)(e,n.playerId)||{},u=c.isPreview,l=c.userSpecifiedCaptions;u&&!l&&e.dispatch(Object(a.K)(n.playerId,!1))}return t(n)}}},r.a,function(e){var t=new w((function(t,n){e.dispatch(Object(m.h)(t,n))}));return function(n){return function(r){var i=e.getState().players[r.playerId],a=r.type;return!i||a!==m.b&&a!==m.c||(a===m.b?(e.dispatch(Object(m.h)(r.playerId,!0)),t.expand(r.playerId,r.containerEl,r.videoEl)):t.shrink(r.playerId)),n(r)}}},function(e){return function(t){return function(n){switch(n.type){case u.c:switch(e.dispatch(Object(a.T)(n.playerId,(i=parseFloat(Object(P.a)("volume")),isNaN(i)?1:i))),function(){var e,t=Object(P.a)("captions");if("ENABLED"===(e=t)||"DISABLED"===e)return t}()){case"ENABLED":e.dispatch(Object(a.L)(n.playerId,!0));break;case"DISABLED":e.dispatch(Object(a.K)(n.playerId,!0))}break;case a.B:(r=n.volume)>=0&&null!==r&&Object(P.b)("volume",r);break;case a.m:n.isUserSet&&A("ENABLED");break;case a.l:n.isUserSet&&A("DISABLED")}var r,i;return t(n)}}},function(e){return function(t){return function(n){var r,o=e.getState().players,c=o[n.playerId],u=c||{},l=u.bufferingStatus,d=u.targetDuration,p=null==c||null===(r=c.features)||void 0===r?void 0:r[s.d];switch(n.type){case i.b:case a.o:p&&void 0!==l&&N(e,o);break;case i.c:case a.p:if(p&&void 0!==l){var f=l===C;if(d){var h=d*D.b;e.dispatch(Object(R.h)(n.playerId,h))}f||function(e,t,n){Object.keys(t).forEach((function(r){r=parseInt(r,10);var i=(null==t?void 0:t[r])||{},a=i.bufferingStatus,o=i.controls,s=i.isPlaying,c=void 0!==a,u=a===C,l=a===M,d="PLAY_REQUESTED"===(null==o?void 0:o.playState)||s;!u&&!d&&c&&r!==n&&!l&&e.dispatch(Object(R.f)(r,L,0))}))}(e,o,n.playerId)}break;case R.c:if(p){var y,m=n.bufferingStatus===C,_="PLAY_REQUESTED"===(null==c||null===(y=c.controls)||void 0===y?void 0:y.playState)||(null==c?void 0:c.isPlaying);m&&_&&N(e,o)}break;case R.d:if(n.targetDuration&&p){var g=Object(v.b)(o,(function(e){var t;return((null==e?void 0:e.isPlaying)||"PLAY_REQUESTED"===(null==e||null===(t=e.controls)||void 0===t?void 0:t.playState))&&void 0!==(null==e?void 0:e.bufferingStatus)&&(null==e?void 0:e.bufferingStatus)!==C}));if(void 0===g||g.playerId===n.playerId){var b=n.targetDuration*D.b;e.dispatch(Object(R.h)(n.playerId,b))}else g.playerId!==n.playerId&&e.dispatch(Object(R.f)(n.playerId,L,0))}else if(n.targetDuration){var E=n.targetDuration*D.b;e.dispatch(Object(R.h)(n.playerId,E))}}return t(n)}}},function(e){return function(t){return function(n){if(void 0!==n.playerId&&Object(p.d)(n.playerId,(function(e){e.log("redux",n.type)})),n.type===u.c)return y[n.playerId]=n.analytics,t(n);var r=e.getState().players[n.playerId];if(!r)return t(n);var s=t(n),c=e.getState().players[n.playerId],l=y[n.playerId];if(void 0!==l){switch(n.type){case h.e:case a.A:l.onTickEvent(c);break;case h.f:l.onTrackFinished(r),c.currentTrackId!==r.currentTrackId&&l.onIntendToPlay(c);break;case h.c:var d,v=r.tracks.find((function(e){return e.id===r.currentTrackId}));"ad"!==v.displayType||v.playbackCompleted||!r||null!==(d=r.errorInfo)&&void 0!==d&&d.adFailed||l.onAdSkip(r),c.currentTrackId!==r.currentTrackId&&l.onIntendToPlay(c);break;case a.p:case i.c:l.onIntendToPlay(c);break;case a.r:l.onReplay(c);break;case a.B:r.isMuted&&!c.isMuted?l.onUnmute(r):!r.isMuted&&c.isMuted&&l.onMute(r);break;case a.b:l.onCtaClick(r);break;case a.c:l.onCtaImpression(r);break;case o.a:l.onTeardown(r),delete y[n.playerId];break;case u.b:l.onConfigLoaded(c);break;case f.a:case f.c:var m,_=c.errorInfo,g=_.autoRetry?_.count:void 0;m=n.type===f.a||n.type===f.c?n.thrownError.message:n.error,l.onError(r,{error_code:n.type,error_message:m,media_details:{media_error:{category:n.type,is_fatal:n.isFatal,message:m,retry_count:g}}})}c&&c.isPlaying!==r.isPlaying&&(c.isPlaying?l.onPlay(c):l.onPause(c))}return s}}},_.b,le.hydraMiddleware,U];t.a=function e(t,n,r){var i;if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var a=t,o=n,s=[],c=s,u=!1;function l(){c===s&&(c=s.slice())}function d(){return o}function p(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return l(),c.push(e),function(){if(t){t=!1,l();var n=c.indexOf(e);c.splice(n,1)}}}function f(e){if(!ie(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,o=a(o,e)}finally{u=!1}for(var t=s=c,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:oe}),(i={dispatch:f,subscribe:p,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");a=e,f({type:oe})}})[ae.a]=function(){var e,t=p;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[ae.a]=function(){return this},e},i}(function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var a=Object.keys(n),o=void 0;try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:oe}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+oe+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){o=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var c=a[s],u=n[c],l=e[c],d=u(l,t);if(void 0===d){var p=se(c,t);throw new Error(p)}i[c]=d,r=r||d!==l}return r?i:e}}({players:o.b,hydraExperiences:de.a,allPlayers:d.b}),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var a,o=e(n,r,i),s=o.dispatch,c={getState:o.getState,dispatch:function(e){return s(e)}};return a=t.map((function(e){return e(c)})),s=ce.apply(void 0,a)(o.dispatch),ue({},o,{dispatch:s})}}}.apply(void 0,pe))},1602:function(e,t,n){"use strict";n(389),n(102),n(47),n(232),n(795),n(103),n(129),n(25),n(30),n(39),n(17),n(20),n(48);var r=n(3),i=n.n(r),a=n(4),o=n.n(a),s=n(1),c=n.n(s),u=(n(383),n(69),n(40),n(128),n(235),n(21),n(115),n(548),n(380),n(753)),l=n(1016),d=n(754),p=n(815),f=n(997),h=n(781),y=n(758),v=(n(62),n(7)),m=n.n(v),_=n(18),g=n.n(_),b=n(22),E=n.n(b),T=n(11),O=n.n(T);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var i=O()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E()(this,n)}}var S=n(774),w=n(816),P=n(773),A=n(996),D=(n(71),n(995)),R=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=t();return n>0?i.catch((function(i){return new Promise((function(i){setTimeout((function(){i(e(t,n-1,2*r))}),r)}))})):i},C="application/x-mpegURL",k=function(e){var t;switch(e){case"0.13.2":t=R((function(){return n.e(47).then(n.bind(null,1609))}));case"0.14.17":default:t=R((function(){return n.e(48).then(n.bind(null,1610))}))}return t.then((function(e){return e.default}))},L=function(){var e=window.MediaSource||window.WebKitMediaSource,t=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return n&&r},M=function(e){var t=document.createElement("video");return t.canPlayType&&t.canPlayType(e)};n(175);function N(e){return"captions"===e.kind&&e.cues&&e.cues.length>0||"subtitles"===e.kind}function j(e,t){if(t&&e){var n=t.split("-")[0];return e.toLowerCase()===n.toLowerCase()}}var x,U=n(1015),B=n(994),F=n(843);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=1,Y=2,z=3,K=4,q="captions",J="metadata",Q="subtitles",X="disabled",$="hidden",Z="showing",ee=function(){function e(t,n,r,a,o){var s=this,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};i()(this,e),c()(this,"onLoadStart",(function(){s.playerRenderPromise||s.dispatchPlayerReady()})),this.domElement=t,this.playerId=n,this.hydraExperienceId=u.hydraExperienceId,this.store=r,this.reload=a,this.showControls=u.showControls,this.objectFitVideo=u.objectFitVideo,this.playerHandlesRotations=u.playerHandlesRotations,this.language=u.language,this.precache=u.precache,this.videoEl=u.videoEl,this.accessibilityLabel=u.accessibilityLabel,this.id3Disabled=!1,this.activeCues={},this.shouldRetryAutoplayMuted=u.shouldRetryAutoplayMuted,this.enablePiP=u.enablePiP||!1,Object(D.c)()||(this.hlsjsVersion=r.dispatch(Object(f.b)(n,F.b)),this.smartBufferingExperimentEnabled=this.store.dispatch(Object(f.b)(this.playerId,F.d)),this.hlsJsSegmentsToPrebuffer=y.b),this.isHlsWorkerEnabled=r.dispatch(Object(f.b)(n,F.c))||!1,this.liveAdDomainRegex=/t.lv.twimg.com$|ton.twitter.com$/,this.logger=o,this.onLoadedMetadata=this.onLoadedMetadata.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onCanPlay=this.onCanPlay.bind(this),this.onPlay=this.onPlay.bind(this),this.onPlaying=this.onPlaying.bind(this),this.onPause=this.onPause.bind(this),this.onVolumeChange=this.onVolumeChange.bind(this),this.onSeeked=this.onSeeked.bind(this),this.onSeeking=this.onSeeking.bind(this),this.onEnded=this.onEnded.bind(this),this.onError=this.onError.bind(this),this.onHlsJsError=this.onHlsJsError.bind(this),this.onId3CueWithInfo=this.onId3CueWithInfo.bind(this),this.onId3CueWithData=this.onId3CueWithData.bind(this),this.onFragmentLoading=this.onFragmentLoading.bind(this),this.onFragmentParsingInitSegment=this.onFragmentParsingInitSegment.bind(this),this.onLevelSwitching=this.onLevelSwitching.bind(this),this.onLevelLoaded=this.onLevelLoaded.bind(this),this.onBufferAppended=this.onBufferAppended.bind(this),this.onBufferEOS=this.onBufferEOS.bind(this),this.onBufferStart=this.onBufferStart.bind(this),this.onManifestParsed=this.onManifestParsed.bind(this),this.render=this.render.bind(this),this.dispatchPlayerReady=this.dispatchPlayerReady.bind(this),this.hlsJsPlay=this.hlsJsPlay.bind(this),this.shouldUseBitratePersistence=this.shouldUseBitratePersistence.bind(this),this.unsubscribeFromStore=this.store.subscribe(this.render),this.playPromise=Promise.resolve(),this.renderVideoTag(),this.render()}return o()(e,[{key:"teardownPlayer",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.trackDataUsage();var t=this.hlsJs;if(t){t.detachMedia();var n=function(){t.destroy()};this.hlsJs=void 0,this.playPromise.then(n).catch(n)}if(this.videoTag){this.stopListeningForId3Tags(),this.videoTag.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.videoTag.removeEventListener("timeupdate",this.onTimeUpdate),this.videoTag.removeEventListener("canplay",this.onCanPlay),this.videoTag.removeEventListener("play",this.onPlay),this.videoTag.removeEventListener("playing",this.onPlaying),this.videoTag.removeEventListener("pause",this.onPause),this.videoTag.removeEventListener("volumechange",this.onVolumeChange),this.videoTag.removeEventListener("seeked",this.onSeeked),this.videoTag.removeEventListener("seeking",this.onSeeking),this.videoTag.removeEventListener("ended",this.onEnded),this.videoTag.removeEventListener("error",this.onError),this.videoTag.removeEventListener("waiting",this.onBufferStart),this.videoTag.removeEventListener("loadstart",this.onLoadStart),this.videoTag.textTracks&&(this.videoTag.textTracks.onaddtrack=void 0);try{this.videoTag.pause(),this.videoTag.removeAttribute("src"),this.videoTag.removeAttribute("poster"),this.videoTag.load()}catch(e){}this.videoTag.parentNode&&this.videoTag.parentNode.removeChild(this.videoTag),this.videoTag=void 0}this.renderedTrackId=void 0,this.hasEndedOnce=!1,this.activeCues=void 0,e&&(this.renderVideoTag(),this.activeCues={})}},{key:"teardown",value:function(){this.teardownPlayer(!1),this.domElement.parentNode&&this.domElement.parentNode.removeChild(this.domElement),this.unsubscribeFromStore()}},{key:"getVideoTag",value:function(){return this.videoTag}},{key:"renderVideoTag",value:function(){this.videoTag=this.videoEl||document.createElement("video"),this.videoTag.setAttribute("preload","none"),this.videoTag.setAttribute("playsinline",""),this.showControls&&this.videoTag.setAttribute("controls",""),this.accessibilityLabel&&this.videoTag.setAttribute("aria-label",this.accessibilityLabel),this.enablePiP||this.videoTag.setAttribute("disablePictureInPicture",""),this.videoTag.style.width="100%",this.videoTag.style.height="100%",this.videoTag.style.position="absolute",this.videoTag.style.backgroundColor="black",this.videoTag.addEventListener("loadstart",this.onLoadStart,!1),this.videoTag.addEventListener("loadedmetadata",this.onLoadedMetadata),this.videoTag.addEventListener("timeupdate",this.onTimeUpdate),this.videoTag.addEventListener("play",this.onPlay),this.videoTag.addEventListener("pause",this.onPause),this.videoTag.addEventListener("volumechange",this.onVolumeChange),this.videoTag.addEventListener("seeked",this.onSeeked),this.videoTag.addEventListener("seeking",this.onSeeking),this.videoTag.addEventListener("ended",this.onEnded),this.videoTag.addEventListener("error",this.onError),this.videoTag.addEventListener("playing",this.onPlaying),this.videoTag.addEventListener("waiting",this.onBufferStart),this.videoTag.addEventListener("canplay",this.onCanPlay),this.videoTag.textTracks&&(this.videoTag.textTracks.onaddtrack=this.handleTrackAdded.bind(this)),this.hasEndedOnce=!1}},{key:"onLoadedMetadata",value:function(){this.checkInitialSeek()}},{key:"onTimeUpdate",value:function(){var e,t,n;if(void 0===this.dateTimeAnchor&&void 0!==this.videoTag.getStartDate){var r=this.videoTag.getStartDate();r&&(this.dateTimeAnchor={streamTimeMs:0,absoluteTimeMs:r.getTime()})}var i,a=1e3*this.videoTag.currentTime;void 0!==this.dateTimeAnchor&&(i=a-this.dateTimeAnchor.streamTimeMs+this.dateTimeAnchor.absoluteTimeMs);var o=0,s=this.videoTag.currentSrc;if(s){var c=this.getCurrentTrack();if(void 0===c)return;var u=c.variants;if(void 0===u)return;for(var d=0;d<u.length;d++)if(u[d].src===s){o=d;break}}this.store.dispatch(Object(P.q)(this.playerId,a,i,1e3*this.videoTag.duration,this.hasCaptions(),o));var p=null===(e=this.hlsJs)||void 0===e?void 0:e.bandwidthEstimate;void 0!==p&&!isNaN(p)&&this.store.dispatch(Object(l.a)(p)),this.trackDataUsage();var f=null===(t=this.getPlayerState())||void 0===t||null===(n=t.controls)||void 0===n?void 0:n.playbackTimeRange;if(f){var h=this.clipScrubTime(f.startTimeS),y=this.clipScrubTime(f.endTimeS),v=window.isFinite(h)&&window.isFinite(y)&&h<y,m=this.videoTag.currentTime<h||this.videoTag.currentTime>y;v&&m&&!this.seeking&&(this.videoTag.currentTime=h)}}},{key:"trackDataUsage",value:function(){var e=this;Object(h.b)(this.playerId,(function(t){var n=t.getAndReset();n>0&&e.store.dispatch(u.H(e.playerId,n))}))}},{key:"checkInitialSeek",value:function(){var e=this.videoTag,t=this.getInitialTimeCode();this.isSeekable(t)&&!this.hasInitialSeeked&&t>-1&&(this.hasInitialSeeked=!0,e.currentTime=t)}},{key:"onCanPlay",value:function(){this.checkInitialSeek(),this.onBufferEnd()}},{key:"onPlay",value:function(){var e=this.videoTag.duration;this.isLooping||this.isLive&&(this.hlsJs?this.hlsJs.liveSyncPosition&&(this.videoTag.currentTime=this.hlsJs.liveSyncPosition):e&&window.isFinite(e)&&(this.videoTag.currentTime=e))}},{key:"onPlaying",value:function(){this.videoTag.paused||(this.isEnded=!1,this.reloadTimecode=void 0,this.store.dispatch(u.X(this.playerId)),this.onBufferEnd(),this.onTimeUpdate())}},{key:"onPause",value:function(){this.videoTag.ended||this.store.dispatch(u.W(this.playerId)),this.onBufferEnd()}},{key:"onVolumeChange",value:function(){this.store.dispatch(u.ab(this.playerId,this.videoTag.muted,this.videoTag.volume)),Object(U.b)("volume",this.videoTag.volume)}},{key:"onSeeking",value:function(){this.seeking||this.isLooping||(this.seeking=!0,this.store.dispatch(u.Z(this.playerId))),this.store.dispatch(Object(B.resetGuestState)(this.hydraExperienceId)),this.hasInitialSeeked=!0}},{key:"onSeeked",value:function(){this.seeking=!1,this.isEnded=!1,this.isLooping=!1,this.store.dispatch(u.Y(this.playerId)),this.onBufferEnd(),this.updateRotation()}},{key:"updateRotation",value:function(){var e,t,n,r=(this.getId3Track()||{}).cues||[],i=r.length,a=this.videoTag.currentTime;for(e=0;e<i&&r[e].startTime<=a;e++)"TXXX"===(t=r[e]).value.key&&"JSONMetadata"===t.value.info&&(n=t);if(n)try{var o=JSON.parse(n.value.data),s=this.normalizeRotation(o.rotation),c=this.getCurrentTrack();void 0!==s&&s!==c.rotation&&this.store.dispatch(Object(P.p)(this.playerId,s))}catch(e){}}},{key:"onEnded",value:function(){this.onBufferEnd(),this.isEnded=this.hasEndedOnce=!0,this.store.dispatch(Object(P.r)(this.playerId));var e=this.getCurrentTrack();if(void 0!==e){var t=e.shouldLoop;if(this.shouldLoop=t,this.shouldLoop){this.isLooping=!0;var n=this.videoTag.play()||Promise.resolve();this.playPromise=n.catch((function(){}))}var r=this.getCurrentTrack(),i=r.isLive,a=r.isLiveTimecode;i&&(a&&this.reload({requestedTimecode:-1,autoPlay:!0}),this.reload()),this.hasInitialSeeked=!1}}},{key:"onHlsJsError",value:function(e,t,n){if(n.fatal){var r=n.response&&n.response.code;this.teardownPlayer(),403===r?"broadcast"===e||"live"===e||"periscope"===e?this.store.dispatch(Object(S.h)(this.playerId,new Error(d.a.LIVE_VIDEO_GEOBLOCK_ERROR))):this.store.dispatch(Object(S.h)(this.playerId,new Error(d.a.MEDIA_GEOBLOCK_ERROR))):(r=r?":".concat(r):"",this.store.dispatch(Object(S.h)(this.playerId,new Error("".concat(n.type,":").concat(n.details).concat(r)))))}}},{key:"onError",value:function(e,t){if(this.videoTag.error){var n;switch(this.videoTag.error.code){case H:n=d.a.MEDIA_ABORTED;break;case Y:n=d.a.MEDIA_NETWORK_ERROR;break;case z:n=d.a.MEDIA_DECODE_ERROR;break;case K:n=d.a.MEDIA_SRC_INVALID_ERROR;break;default:n=d.a.MEDIA_UNKNOWN_CODE_ERROR}this.store.dispatch(Object(S.h)(this.playerId,new Error(n))),this.teardownPlayer()}}},{key:"normalizeRotation",value:function(e){var t=90*Math.floor((Math.floor(e)+45)/90)%360;return 270===t?-90:t}},{key:"isMissingDataProp",value:function(e){var t,n,r=W(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("TXXX"===i.value.key){t=i;break}}}catch(e){r.e(e)}finally{r.f()}return t&&""===t.value.data&&/\[.*\]|\{.*\}$/.test(t.value.info)}},{key:"onId3CueWithInfo",value:function(e){var t=/(\[|\{)/,n=e.currentTarget.activeCues,r=this.activeCues;this.activeCues={};var i,a=W(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.value,c=s.key,u=s.info,l=[o.startTime,c,u].join("|");if(this.activeCues[l]=!0,!r[l]&&"TXXX"===c){var d=u.search(t);if(-1!==d){var p=u.slice(0,d),f=u.slice(d);this.parseId3Data(p,f)}}}}catch(e){a.e(e)}finally{a.f()}}},{key:"onId3CueWithData",value:function(e){var t=e.currentTarget.activeCues,n=this.activeCues;this.activeCues={};var r,i=[],a=W(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.value,c=s.key,u=s.info,l=s.data,d=[o.startTime,c,u,l].join("|");this.activeCues[d]=!0,n[d]||("TXXX"===c&&this.parseId3Data(u,l),o.value&&i.push(o.value))}}catch(e){a.e(e)}finally{a.f()}this.store.dispatch(Object(P.l)(this.playerId,i))}},{key:"parseId3Data",value:function(e,t){try{var n=JSON.parse(t);if("JSONMetadata"===e){var r=this.normalizeRotation(n.rotation);this.store.dispatch(Object(P.p)(this.playerId,r)),this.store.dispatch(Object(P.m)(this.playerId,n))}else"HydraAudioLevel"===e?this.store.dispatch(Object(B.updateAudioLevels)(this.hydraExperienceId,n)):"HydraParticipants"===e&&this.store.dispatch(Object(B.updateGuestInfo)(this.hydraExperienceId,n))}catch(e){}}},{key:"onBufferAppended",value:function(e,t){if(0===this.pendingSegments){var n=this.getPlayerState(),r=n.controls,i=n.hasPlaybackStarted,a=n.nextTrackIds,o=(null==r?void 0:r.playState)===u.k.PLAY_REQUESTED;if(this.bufferedSegments+=1,!i&&!o&&this.hlsJs){this.prebufferedSegments+=1;var s=a&&0!==a.length;this.prebufferedSegments!==this.expectedSegments||s?(this.prebufferedSegments===y.b||this.prebufferedSegments===this.expectedSegments&&s)&&(this.maximumBufferLength=this.hlsJs.config.maxMaxBufferLength=0,this.store.dispatch(Object(A.f)(this.playerId,A.a.PREBUFFERING_COMPLETED,0))):this.store.dispatch(Object(A.f)(this.playerId,A.a.BUFFERING_COMPLETED))}}this.pendingSegments=null==t?void 0:t.pending}},{key:"onBufferEOS",value:function(e,t){var n=this.getPlayerState(),r=n.bufferingStatus,i=n.nextTrackIds,a=r===A.a.BUFFERING_COMPLETED,o=i&&0!==i.length;this.bufferedSegments!==this.expectedSegments||a||o||!this.hlsJs||this.store.dispatch(Object(A.f)(this.playerId,A.a.BUFFERING_COMPLETED))}},{key:"onFragmentLoading",value:function(e,t){void 0!==t&&void 0!==t.frag&&t.frag.programDateTime&&(this.dateTimeAnchor={streamTimeMs:1e3*t.frag.start,absoluteTimeMs:te(t.frag.programDateTime)})}},{key:"onFragmentParsingInitSegment",value:function(e,t){if(void 0!==t&&void 0!==t.frag&&void 0!==t.frag.level&&void 0!==this.hlsJs){var n=this.hlsJs.levels[t.frag.level];void 0!==n&&void 0!==n.details&&void 0!==n.details.programDateTime&&void 0!==n.details.fragments&&void 0!==n.details.fragments[0]&&(this.dateTimeAnchor={streamTimeMs:1e3*n.details.fragments[0].start,absoluteTimeMs:te(n.details.programDateTime)})}}},{key:"onLevelSwitching",value:function(e,t){if(this.hlsJs&&this.hlsJs.levels){var n=this.hlsJs.levels[t.level].bitrate;void 0!==n&&this.store.dispatch(Object(P.g)(this.playerId,n))}}},{key:"onLevelLoaded",value:function(e,t){if(this.hlsJs&&!this.maximumBufferLength){var n,r,i,a=null==t||null===(n=t.details)||void 0===n?void 0:n.targetduration;if(this.expectedSegments=null==t||null===(r=t.details)||void 0===r||null===(i=r.fragments)||void 0===i?void 0:i.length,a){var o=a*this.hlsJsSegmentsToPrebuffer;this.maximumBufferLength=this.hlsJs.config.maxMaxBufferLength=o,this.store.dispatch(Object(A.g)(this.playerId,a))}}}},{key:"onBufferStart",value:function(){var e=this,t=!this.hasEndedOnce||this.videoTag&&this.videoTag.currentTime>=2;this.shouldLoop&&!t||(this.buffering=!0,setTimeout((function(){e.buffering&&e.store.dispatch(Object(P.i)(e.playerId))}),20))}},{key:"onBufferEnd",value:function(){this.buffering&&(this.buffering=!1,this.store.dispatch(Object(P.h)(this.playerId)))}},{key:"getCaptionsTrack",value:function(e){var t=e||this.videoTag.textTracks||[],n=this.language;return n?function(e,t){for(var n,r,i=e.length,a=0;a<i;a++){var o=e[a],s=o.language;if(N(o)){if(s&&t&&s.toLowerCase()===t.toLowerCase())return o;!r&&j(s,t)?r=o:n||s||(n=o)}}return r||n}(t,n):function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];if(N(r))return r}}(t)}},{key:"getSubtitlesTrack",value:function(){return this.getCaptionsTrack(function(e){for(var t=e.length,n=[],r=0;r<t;r++){var i=e[r];"captions"!==i.kind&&n.push(i)}return n}(this.videoTag.textTracks))}},{key:"getId3Track",value:function(){for(var e=0;e<this.videoTag.textTracks.length;e++){var t=this.videoTag.textTracks[e];if(t.kind===J)return t}}},{key:"handleTrackAdded",value:function(e){var t=e.track,n=q,r=J,i=Q;t.kind===r?this.startListeningForId3Tags():t.mode=t.kind===n?$:X,!Object(D.c)()||t.kind!==n&&t.kind!==i||(this.id3Disabled=!0,this.stopListeningForId3Tags())}},{key:"startListeningForId3Tags",value:function(){var e=this.getId3Track();if(void 0!==e&&!this.id3Disabled){var t=e.cues;void 0===this.missingDataProp&&t&&(this.missingDataProp=this.isMissingDataProp(t)),e.oncuechange=this.missingDataProp?this.onId3CueWithInfo:this.onId3CueWithData,e.mode=$}}},{key:"stopListeningForId3Tags",value:function(){var e=this.getId3Track();void 0!==e&&(e.oncuechange=null,e.mode=X)}},{key:"handleControlUpdate",value:function(e){var t=this;switch(e.muteState){case u.j.MUTE_REQUESTED:this.videoTag.muted=!0;break;case u.j.UNMUTE_REQUESTED:this.videoTag.muted=!1}switch(e.playState){case u.k.PAUSE_REQUESTED:var n=function(){t.videoTag&&(t.videoTag.pause(),t.stopListeningForId3Tags())};this.videoTag.paused?n():this.playPromise.then(n);break;case u.k.PLAY_REQUESTED:var r=this.hlsJs?this.hlsJsPlay():this.videoTag.play()||Promise.resolve();this.playPromise=r.catch((function(e){t.videoTag&&t.videoTag.paused&&(t.shouldRetryAutoplayMuted&&e instanceof DOMException&&"NotAllowedError"===e.name?(t.shouldRetryAutoplayMuted=!1,t.store.dispatch(u.M(t.playerId))):t.store.dispatch(u.C(t.playerId)))})),this.startListeningForId3Tags()}if(e.captionsState&&this.hasCaptions()&&this.videoTag.readyState>=2){var i=this.getCaptionsTrack();switch(e.captionsState){case u.f.CAPTIONS_ON_REQUESTED:if(this.isUserRequestedCaptions())i.mode=Z,this.store.dispatch(u.G(this.playerId,!0));else{var a=this.getSubtitlesTrack();a&&(a.mode=Z,this.store.dispatch(u.G(this.playerId,!0)))}break;case u.f.CAPTIONS_OFF_REQUESTED:i.mode=i.kind===q?$:X,this.store.dispatch(u.G(this.playerId,!1))}}if(!this.seeking){var o=this.clipScrubTime(this.videoTag.duration*e.scrubToFraction);window.isFinite(o)&&(this.videoTag.currentTime=o)}e.volume>=0&&(this.videoTag.volume=e.volume)}},{key:"clipScrubTime",value:function(e){return Math.max(0,Math.min(this.videoTag.duration-.5,e))}},{key:"hlsJsPlay",value:function(){var e=this;return new Promise((function(t){if(e.videoTag&&(e.videoTag.readyState>=3||e.isEnded))t();else{e.videoTag.addEventListener("canplay",(function n(){e.videoTag&&e.videoTag.readyState>=3&&(t(),e.videoTag.removeEventListener("canplay",n))}))}})).then((function(){return e.checkInitialSeek(),e.videoTag.play()||Promise.resolve()}))}},{key:"xhrSetup",value:function(e,t,n){var r=new w.a(t).getHostname(),i=r&&this.liveAdDomainRegex.test(r),a=n===x.ResourceTypes.KEY;(i||a)&&(e.withCredentials=!0)}},{key:"hasCaptions",value:function(){return void 0!==this.getCaptionsTrack()}},{key:"renderVideoVariant",value:function(){var e=this.getCurrentTrack(),t=e.contentType,n=e.variants,r=this.getPlayerState().features.bitrateCap,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enableSafariMse,r=void 0!==n&&n,i=e.find((function(e){return 0===e.type.indexOf("video/mp4")})),a=e.find((function(e){return 0===e.type.indexOf(C)}));if(!a)return{useMse:!1,selectedVariant:i};var o=M(C),s=L();if(Object(D.c)()&&s&&!r&&(s=!1),s)return{useMse:!0,selectedVariant:a};var c=o?a:i;return{useMse:!1,selectedVariant:c}}(n),a=i.useMse,o=i.selectedVariant;return o?a?this.renderHlsJs(o,r,t):this.renderHtml5(o):(this.store.dispatch(Object(S.h)(this.playerId,new Error(d.a.MEDIA_NOT_SUPPORTED))),Promise.resolve())}},{key:"renderHlsJs",value:function(e,t,n){var r=this,a=this.getInitialTimeCode();return this.bufferedSegments=this.expectedSegments=this.pendingSegments=this.prebufferedSegments=0,k(this.hlsjsVersion).then((function(o){x=o;var s,u,l={autoStartLoad:!0,enableWorker:r.isHlsWorkerEnabled,fragLoadingMaxRetry:6,fragLoadingRetryDelay:500,fragLoadingTimeOut:2e4,levelLoadingMaxRetry:4,levelLoadingTimeOut:2e4,loader:(s=r.playerId,u=x,function(e){g()(n,e);var t=I(n);function n(e){var r;i()(this,n);var a=(r=t.call(this,e)).load.bind(m()(r));return r.load=function(e,t,n){var r=n.onSuccess;n.onSuccess=function(e,t,n){Object(h.b)(s,(function(e){e.add(t.total)})),r(e,t,n)},a(e,t,n)},r}return n}(u.DefaultConfig.loader)),manifestLoadingMaxRetry:4,manifestLoadingTimeOut:2e4,maxBufferHole:1.5,maxSeekHole:5,startLevel:-1,startPosition:a,xhrSetup:r.xhrSetup.bind(r),capLevelToPlayerSize:!t,debug:{trace:function(e){r.logger.log("HlsJs.trace",e)},debug:function(e){r.logger.log("HlsJs.debug",e)},log:function(e){r.logger.log("HlsJs.log",e)},warn:function(e){r.logger.log("HlsJs.warn",e)},info:function(e){r.logger.log("HlsJs.info",e)},error:function(e){r.logger.log("HlsJs.error",e)}}};r.hlsJs=new x(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},l)),r.smartBufferingExperimentEnabled&&(r.hlsJs.on(x.Events.BUFFER_APPENDED,r.onBufferAppended),r.hlsJs.on(x.Events.BUFFER_EOS,r.onBufferEOS)),r.hlsJs.on(x.Events.ERROR,r.onHlsJsError.bind(r,n)),r.hlsJs.on(x.Events.FRAG_LOADING,r.onFragmentLoading),r.hlsJs.on(x.Events.FRAG_PARSING_INIT_SEGMENT,r.onFragmentParsingInitSegment),r.hlsJs.on(x.Events.LEVEL_SWITCHING,r.onLevelSwitching),r.hlsJs.on(x.Events.LEVEL_LOADED,r.onLevelLoaded),r.hlsJs.on(x.Events.MANIFEST_PARSED,r.onManifestParsed.bind(r,t)),r.hlsJs.attachMedia(r.videoTag),r.hlsJs.loadSource(e.src),r.store.dispatch(Object(P.k)(r.playerId))})).catch((function(){r.store.dispatch(Object(S.h)(r.playerId,new Error("".concat(d.a.CONFIG_NETWORK_ERROR,":HlsJsChunk"))))}))}},{key:"renderHtml5",value:function(e){return this.videoTag.setAttribute("preload",this.precache?"auto":"none"),this.videoTag.setAttribute("src",e.src),this.videoTag.setAttribute("type",e.type),Promise.resolve()}},{key:"onManifestParsed",value:function(e,t,n){var r,i=n.levels,a=i.length;if(e){var o;for(o=1;o<i.length&&!(i[o].bitrate>e);o++);this.hlsJs.autoLevelCapping=o-1,a=o-1}var s=null===(r=this.store.getState().allPlayers)||void 0===r?void 0:r.mostRecentBandwidthEst;if(this.shouldUseBitratePersistence()&&void 0!==s){var c,u=a===i.length?i:i.slice(0,a);for(c=1;c<u.length&&!(i[c].bitrate>s);c++);this.hlsJs.startLevel=c-1}this.dispatchPlayerReady()}},{key:"dispatchPlayerReady",value:function(){this.store.dispatch(Object(P.o)(this.playerId))}},{key:"renderContainer",value:function(){var e=document.createElement("div");if(e.style.position="relative",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="transparent",e.style.overflow="hidden",e.appendChild(this.videoTag),Object(D.b)()){var t=document.createElement("style"),n=document.createTextNode("video::-webkit-media-controls { display: none !important; }");t.appendChild(n),e.appendChild(t)}this.domElement.innerHTML="",this.domElement.appendChild(e)}},{key:"getPlayerState",value:function(){return this.store.getState().players[this.playerId]||{}}},{key:"getCurrentTrack",value:function(){var e=this.getPlayerState();return Object(p.b)(e)}},{key:"getInitialTimeCode",value:function(){var e=this.reloadTimecode;if(void 0===this.getCurrentTrack())return-1;var t=this.getCurrentTrack(),n=t.isLive,r=t.isLiveTimecode,i=[e,t.requestedTimecode,t.replayEditedStartTime].find((function(e){return e>0||0===e}));return n&&!r||void 0===i?-1:i}},{key:"isUserRequestedCaptions",value:function(){return this.getPlayerState().userSpecifiedCaptions}},{key:"isSeekable",value:function(e){if(0===e||e>0)for(var t=this.videoTag.seekable,n=t.length,r=0;r<n;r++)if(t.start(r)<=e&&e<=t.end(r))return!0;return!1}},{key:"cleanupVideoElement",value:function(){if(this.hasCaptions()){var e=this.getCaptionsTrack();if(Array.isArray(e.cues))for(;e.cues.length;)e.removeCue(e.cues[0])}}},{key:"render",value:function(){var e=this,t=this.getPlayerState(),n=t.posterImage;if(void 0!==t.currentTrackId)if(t.error)this.teardownPlayer();else{var r=this.getCurrentTrack();if(this.renderedTrackId!==t.currentTrackId){this.cleanupVideoElement(),this.hlsJs&&(this.hlsJs.destroy(),this.hlsJs=void 0),n&&this.videoTag.setAttribute("poster",n);var i=r.isLive,a=r.shouldLoop,o=r.reloadTimecode;i||(this.reloadTimecode=o),this.hasInitialSeeked=!1,this.renderedTrackId=t.currentTrackId,this.playerRenderPromise=this.renderVideoVariant(),this.playerRenderPromise.then((function(){e.renderContainer(),e.isLive=i,e.shouldLoop=a,e.videoTag.volume=Object(U.a)("volume",1)||1,e.playerRenderPromise=void 0}))}if(r.playerReady){var s=t.fullscreen.isFullscreen,c=r.rotation;this.handleControlUpdate(t.controls),this.renderRotationAndScale(c,s)}this.hlsJs&&this.maximumBufferLength!==t.maximumBufferLength&&(this.maximumBufferLength=t.maximumBufferLength,this.hlsJs.config.maxMaxBufferLength=this.maximumBufferLength)}}},{key:"renderRotationAndScale",value:function(e,t){var n=this.videoTag,r=100,i=100,a=0,o=0,s=!1!==this.playerHandlesRotations;if(s&&(90===e||-90===e)){var c=n.parentNode||{},u=c.offsetWidth/c.offsetHeight;isFinite(u)&&(a=(100-(i=100*u))/2,o=(100-(r=100/u))/2)}n.style.width="".concat(r,"%"),n.style.height="".concat(i,"%"),n.style.top="".concat(a,"%"),n.style.left="".concat(o,"%"),s&&(t?(n.style.transform="rotate(".concat(e,"deg) scale(1.005)"),n.style.objectFit="contain"):(n.style.transform="rotate(".concat(e,"deg) scale(1.005)"),n.style.objectFit=this.objectFitVideo))}},{key:"shouldUseBitratePersistence",value:function(){return this.store.dispatch(Object(f.b)(this.playerId,F.a))}}]),e}();function te(e){return void 0!==e.getTime?e.getTime():e}t.a=ee},1603:function(e,t,n){"use strict";n(62);var r=n(3),i=n.n(r),a=n(4),o=n.n(a),s=n(7),c=n.n(s),u=n(18),l=n.n(u),d=n(22),p=n.n(d),f=n(11),h=n.n(f),y=n(1),v=n.n(y),m=n(0),_=n(840),g=n(758),b=n(101),E=n.n(b);E.a.string,E.a.func,E.a.object,E.a.bool,E.a.number,E.a.string,E.a.oneOf(["media_entity","gif","vmap"]),E.a.bool,E.a.object,E.a.node,E.a.shape({objectFitVideo:E.a.oneOf(g.c),playerHandlesRotations:E.a.bool}),E.a.number,E.a.string,E.a.shape({getValue:E.a.func}),E.a.bool,E.a.object,E.a.bool,E.a.bool,E.a.bool,E.a.instanceOf(Date),E.a.string,E.a.bool,E.a.number,E.a.object,E.a.string,E.a.string,E.a.bool,E.a.object,E.a.string,E.a.string,E.a.func,E.a.bool,E.a.bool,E.a.object,E.a.arrayOf(E.a.shape({src:E.a.string,type:E.a.string})),E.a.object,E.a.object,E.a.oneOfType([E.a.string,E.a.number]),E.a.string;function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var O={base:{height:"100%",position:"relative",transform:"translateZ(0)",width:"100%"},wrapper:{height:"100%",position:"absolute",width:"100%"}},I=function(e){l()(n,e);var t=T(n);function n(e){var r;return i()(this,n),r=t.call(this,e),v()(c()(r),"_setVideoRef",(function(e){e&&r.videoPlayer.attach(e)})),v()(c()(r),"_setContainerRef",(function(e){r.containerDomElement=e})),v()(c()(r),"_renderCustomOverlay",(function(){if(r.props.customOverlay)return r.props.customOverlay})),r.videoPlayer=_.a.createPlayer({source:r.props.videoId,videoConfig:{contentId:r.props.contentId,contentType:r.props.contentType,cta:r.props.cta,durationMs:r.props.durationMs,expandedUrl:r.props.expandedUrl,eventId:r.props.eventId,mediaAvailability:r.props.mediaAvailability,publisherId:r.props.publisherId,poster:r.props.poster,loop:r.props.loop,shouldLoadTranslations:r.props.shouldLoadTranslations,variants:r.props.variants,viewCount:r.props.viewCount,vmapUrl:r.props.vmapUrl},httpClient:r.props.httpClient,twitterAuthedHttpClient:r.props.twitterAuthedHttpClient,options:{accessibilityLabel:r.props.accessibilityLabel,autoplay:r.props.autoplay,adProvider:r.props.adProvider,analytics:r.props.analytics,bitrateCap:r.props.bitrateCap,featureProvider:r.props.featureProvider,hlsjsVersion:r.props.hlsjsVersion,includeBroadcastEventAssociation:r.props.includeBroadcastEventAssociation,initiallyMuted:r.props.initiallyMuted,initiallyMutedCaptions:r.props.initiallyMutedCaptions,intentToPlayTime:r.props.intentToPlayTime,language:r.props.language,maxLoopCount:r.props.maxLoopCount,objectFitVideo:r.props.displayOptions.objectFitVideo,playbackSessionId:r.props.playbackSessionId,playerHandlesRotations:r.props.displayOptions.playerHandlesRotations,precache:r.props.precache,promotedContext:r.props.promotedContext,requestedTimecode:r.props.requestedTimecode,showControls:!1,showGeolocationPrompt:r.props.geolocationPrompt,shouldRetryAutoplayMuted:r.props.shouldRetryAutoplayMuted,videoEl:r.props.videoEl}}),r.props.setPlayerApi&&r.props.setPlayerApi(r.videoPlayer),r}return o()(n,[{key:"componentWillUnmount",value:function(){try{this.videoPlayer.teardown()}catch(e){}}},{key:"render",value:function(){return m.createElement("div",{ref:this._setContainerRef,style:O.base},m.createElement("div",{ref:this._setVideoRef,style:O.wrapper}),this._renderCustomOverlay())}}]),n}(m.PureComponent);v()(I,"defaultProps",{displayOptions:{},variants:[]}),I.propTypes={};t.a=I},746:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"h",(function(){return l}));n(70);var r={AMPLIFY:"amplify",APP:"app",APPPLAYER:"appplayer",BROADCAST:"745291183405076480:broadcast",DIRECT_STORE_LINK_APP:"direct_store_link_app",IMAGE_DIRECT_MESSAGE:"2586390716:image_direct_message",LIVE_EVENT:"745291183405076480:live_event",MESSAGE_ME:"2586390716:message_me",MOMENT:"3260518932:moment",PERISCOPE_BROADCAST:"3691233323:periscope_broadcast",PLAYER:"player",POLL_2_CHOICE_TEXT:"poll2choice_text_only",POLL_3_CHOICE_TEXT:"poll3choice_text_only",POLL_4_CHOICE_TEXT:"poll4choice_text_only",POLL_2_CHOICE_IMAGE:"poll2choice_image",POLL_3_CHOICE_IMAGE:"poll3choice_image",POLL_4_CHOICE_IMAGE:"poll4choice_image",POLL_2_CHOICE_VIDEO:"poll2choice_video",POLL_3_CHOICE_VIDEO:"poll3choice_video",POLL_4_CHOICE_VIDEO:"poll4choice_video",PROMO_IMAGE_APP:"promo_image_app",PROMO_IMAGE_CONVO:"promo_image_convo",PROMO_VIDEO_CONVO:"promo_video_convo",PROMO_VIDEO_WEBSITE:"2586390716:promo_video_website",PROMO_WEBSITE:"promo_website",SUMMARY:"summary",SUMMARY_LARGE_IMAGE:"summary_large_image",UNIFIED_CARD:"unified_card",VIDEO_DIRECT_MESSAGE:"2586390716:video_direct_message"},i={BUTTON_GROUP:"button_group",BUTTON_GROUP_STATIC:"button_group_static",DESTINATION:"destination_default",DESTINATION_SECONDARY:"destination_secondary",DESTINATION_STATIC:"destination_static",DETAILS:"details_default",DETAILS_SECONDARY:"details_secondary",DETAILS_STATIC:"details_static",MEDIA:"media_default",MEDIA_SECONDARY:"media_secondary",MEDIA_STATIC:"media_static",IMAGE_ENTITY:"image_entity_default",IMAGE_ENTITY_SECONDARY:"image_entity_secondary",IMAGE_ENTITY_STATIC:"image_entity_static",VIDEO_ENTITY:"video_entity_default",VIDEO_ENTITY_SECONDARY:"video_entity_secondary",IFRAME_ENTITY:"iframe_entity",POLL:"poll",POLL_STATIC:"poll_static",SWIPEABLE_MEDIA_STATIC:"swipeable_media_static",TOPIC_DETAILS:"topic_details"},a={DEFAULT:"default",SECONDARY:"secondary",STATIC:"static",DATA_SAVER:"data_saver"},o={LABEL:"label",MOMENTS:"moments",PLAY:"play"},s={ACTION:"action",APP_STORE:"app_store",APP_STORE_WITH_DOCKED_MEDIA:"app_store_with_docked_media",BROADCAST:"broadcast",BROWSER:"browser",BROWSER_WITH_DOCKED_MEDIA:"browser_with_docked_media",BROWSER_WITH_MEDIA:"browser_with_media",EVENT:"event",MOMENT:"moment"},c=Object.freeze({APP_STORE_DETAILS:"app_store_details",MEDIA:"media",MEDIA_WITH_DETAILS_HORIZONTAL:"media_with_details_horizontal",DETAILS:"details",BUTTON_GROUP:"button_group",SWIPEABLE_MEDIA:"swipeable_media",TWITTER_LIST_DETAILS:"twitter_list_details",TOPIC_DETAILS:"topic_details"}),u="https://twitter.com",l=175},748:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(384),n(40);var r=n(0),i=n(765),a=n(759),o={composeDirectMessage:function(e){e.recipient,e.welcomeMessageId,e.messageText},composeTweet:function(e,t,n){},getCtaString:function(e){switch(e){case"play":return"Play";case"shop":return"Shop";case"book":return"Book";case"connect":return"Connect";case"order":return"Order";case"open":return"Open";case"learnMore":return"Learn More";case"install":default:return"Install"}},getMessageMeString:function(e){switch(e){case"message_me_card_cta_1":return"Message us";case"message_me_card_cta_3":return"Send us a private message";case"message_me_card_cta_4":return"Send me a private message";case"message_me_card_cta_2":default:return"Send a private message"}},getMobileOS:function(){return"android"},getBroadcastLink:function(e){return"https://twitter.com/i/broadcasts/".concat(e)},getEventLink:function(e){return"https://twitter.com/i/events/".concat(e)},getMomentLink:function(e){return"https://twitter.com/i/moments/".concat(e)},renderImage:function(e,t,n,o,s,c){var u=e.uri,l=e.width,d=e.height;return r.createElement(i.a,{accessibilityLabel:c,aspectMode:a.a.exact(t||1),cropCandidates:s,image:{url:u,width:l||1e3,height:d||1e3}})},renderTwemojiText:function(e){return e},renderRatingsLabel:function(e){var t=e.appStarRating,n=e.appNumRatings;return"".concat(t,"/5.0 stars – ").concat(n," ratings")},renderStartingTimeLabel:function(e){return"Starting ".concat(new Date(parseInt(e,10)).toLocaleString("default",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}))},renderTweetActionLabel:function(e){return"Tweet ".concat(e)},shouldLimitTextToSingleLine:function(){return!1},storeCardState:function(e,t){},storeCarouselIndex:function(e,t){}}},751:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n(62),n(25),n(47),n(30),n(39),n(17),n(20),n(48);var r=n(2),i=n.n(r),a=n(41),o=n.n(a),s=n(3),c=n.n(s),u=n(4),l=n.n(u),d=n(7),p=n.n(d),f=n(18),h=n.n(f),y=n(22),v=n.n(y),m=n(11),_=n.n(m),g=n(1),b=n.n(g),E=(n(40),n(0)),T=n(752),O=n(36),I=n.n(O),S=(n(100),n(545));function w(e){var t=P(e);return function(e){var n=P(e);return Object(S.a)(t,n)||(t=n),t}}function P(e){if(!e||"object"!==I()(e))return e;var t=JSON.parse(JSON.stringify(e));return delete t.dataUsageBytes,t.tracks=t.tracks.map((function(e){return"number"==typeof e.currentTimeMs&&delete e.currentTimeMs,e})),t}var A=n(1008),D=n(77),R=n.n(D),C=n(5),k=n(813);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var i=_()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}function j(e){var t=e.periodic,n=e.children,r=t?x.PeriodicContext.Consumer:x.Context.Consumer;return E.createElement(r,null,(function(e){var t=e.aspectRatio,r=e.guestsState,i=e.playerApi,a=e.playerState,o=e.containerRef;return i&&o&&a?n({aspectRatio:t,guestsState:r,playerApi:i,playerState:a,containerRef:o}):null}))}var x=function(e){h()(n,e);var t=N(n);function n(){var e;c()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"_cache",{stablePlayerState:w(null)}),b()(p()(e),"state",{hasError:null,guestsState:null,playerApi:null,playerState:null,stablePlayerState:null}),b()(p()(e),"_renderCustomOverlay",(function(){var t=e.props.children,n=e.state,r=n.guestsState,i=n.playerApi,a=n.stablePlayerState;return i&&t?"function"==typeof t?t({guestsState:r,playerApi:i,playerState:a,containerRef:e._containerRef}):t:null})),b()(p()(e),"_handleReload",(function(){return e.setState((function(){return{hasError:null}}))})),b()(p()(e),"_handlePlayerApi",(function(t){return function(n){var r=e.props.playerId;e.setState({playerApi:n}),e.props.onApiReady&&e.props.onApiReady(n),r&&t&&(e._unregister=t(r,n)),e._unsubscribe=n.subscribe((function(t,n){var r=e._cache.stablePlayerState(t);e.setState({stablePlayerState:r,playerState:t,guestsState:n}),e.props.onStateUpdate&&e.props.onStateUpdate(t,n)}))}})),e}return l()(n,[{key:"componentWillUnmount",value:function(){this._unregister&&this._unregister(),this._unsubscribe&&this._unsubscribe()}},{key:"componentDidUpdate",value:function(){if(!this._containerRef){var e=R.a.findDOMNode(this);e&&e instanceof HTMLElement&&(this._containerRef=e)}}},{key:"componentDidCatch",value:function(e,t){var n={error:e,info:t};console.error(n),this.setState((function(){return{hasError:n}}))}},{key:"render",value:function(){var e=this,t=this.state,r=t.guestsState,a=t.playerApi,s=t.playerState,c=t.stablePlayerState,u=this.props,l=u.aspectRatio,d=(u.children,u.objectFitVideo),p=(u.onApiReady,u.onStateUpdate,u.playerId,u.basePlayerClass),f=u.size,h=o()(u,["aspectRatio","children","objectFitVideo","onApiReady","onStateUpdate","playerId","basePlayerClass","size"]),y={aspectRatio:this.props.aspectRatio,guestsState:r,playerApi:a,playerState:s,containerRef:this._containerRef},v=M(M({},y),{},{playerState:c});return E.createElement(T.a,{ratio:l,style:[U.root,U[f]]},this.state.hasError?E.createElement(A.a,{onReloadPress:this._handleReload}):E.createElement(n.Context.Provider,{value:v},E.createElement(n.PeriodicContext.Provider,{value:y},E.createElement(k.a.RegistrationContext.Consumer,null,(function(t){var n=t.registerPlayer;return E.createElement(p,i()({},h,{customOverlay:e._renderCustomOverlay(),displayOptions:{objectFitVideo:d},setPlayerApi:e._handlePlayerApi(n)}))})))))}}]),n}(E.Component);b()(x,"Consumer",j),b()(x,"defaultProps",{aspectRatio:C.a.theme.aspectRatios.landscape,size:"fill"}),b()(x,"Context",E.createContext({aspectRatio:C.a.theme.aspectRatios.landscape,guestsState:null,playerApi:null,playerState:null,containerRef:null})),b()(x,"PeriodicContext",E.createContext({aspectRatio:C.a.theme.aspectRatios.landscape,guestsState:null,playerApi:null,playerState:null,containerRef:null}));var U=C.a.create({root:{position:"relative"},fill:{width:"100%",height:"100%"},small:{width:480,height:270},medium:{width:640,height:360},large:{width:800,height:450}});t.b=x},753:function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"p",(function(){return o})),n.d(t,"O",(function(){return s})),n.d(t,"o",(function(){return c})),n.d(t,"N",(function(){return u})),n.d(t,"r",(function(){return l})),n.d(t,"Q",(function(){return d})),n.d(t,"y",(function(){return p})),n.d(t,"X",(function(){return f})),n.d(t,"x",(function(){return h})),n.d(t,"W",(function(){return y})),n.d(t,"n",(function(){return v})),n.d(t,"M",(function(){return m})),n.d(t,"t",(function(){return _})),n.d(t,"S",(function(){return g})),n.d(t,"u",(function(){return b})),n.d(t,"T",(function(){return E})),n.d(t,"B",(function(){return T})),n.d(t,"ab",(function(){return O})),n.d(t,"q",(function(){return I})),n.d(t,"P",(function(){return S})),n.d(t,"d",(function(){return w})),n.d(t,"F",(function(){return P})),n.d(t,"s",(function(){return A})),n.d(t,"R",(function(){return D})),n.d(t,"z",(function(){return R})),n.d(t,"Y",(function(){return C})),n.d(t,"A",(function(){return k})),n.d(t,"Z",(function(){return L})),n.d(t,"h",(function(){return M})),n.d(t,"I",(function(){return N})),n.d(t,"v",(function(){return j})),n.d(t,"U",(function(){return x})),n.d(t,"m",(function(){return U})),n.d(t,"L",(function(){return B})),n.d(t,"l",(function(){return F})),n.d(t,"K",(function(){return V})),n.d(t,"e",(function(){return W})),n.d(t,"G",(function(){return G})),n.d(t,"w",(function(){return H})),n.d(t,"V",(function(){return Y})),n.d(t,"b",(function(){return z})),n.d(t,"D",(function(){return K})),n.d(t,"c",(function(){return q})),n.d(t,"E",(function(){return J})),n.d(t,"i",(function(){return Q})),n.d(t,"J",(function(){return X})),n.d(t,"a",(function(){return $})),n.d(t,"C",(function(){return Z})),n.d(t,"g",(function(){return ee})),n.d(t,"H",(function(){return te}));var r={PAUSE_REQUESTED:"PAUSE_REQUESTED",PLAY_REQUESTED:"PLAY_REQUESTED"},i={MUTE_REQUESTED:"MUTE_REQUESTED",UNMUTE_REQUESTED:"UNMUTE_REQUESTED"},a={CAPTIONS_ON_REQUESTED:"CAPTIONS_ON_REQUESTED",CAPTIONS_OFF_REQUESTED:"CAPTIONS_OFF_REQUESTED",CAPTIONS_RESET_REQUESTED:"CAPTIONS_RESET_REQUESTED"},o="REQUEST_PLAY",s=function(e){return{type:o,playerId:e}},c="REQUEST_PAUSE",u=function(e){return{type:c,playerId:e}},l="REQUEST_REPLAY",d=function(e){return{type:l,playerId:e}},p="VIDEO_PLAYED",f=function(e){return{type:p,playerId:e}},h="VIDEO_PAUSED",y=function(e){return{type:h,playerId:e}},v="REQUEST_MUTE",m=function(e){return{type:v,playerId:e}},_="REQUEST_UNMUTE",g=function(e){return{type:_,playerId:e}},b="REQUEST_VOLUME_CHANGE",E=function(e,t){return{type:b,volume:t,playerId:e}},T="VIDEO_VOLUME_CHANGED",O=function(e,t,n){return{type:T,isMuted:t,volume:n,playerId:e}},I="REQUEST_PLAYBACK_TIME_RANGE",S=function(e,t,n){return{type:I,startTimeS:t,endTimeS:n,playerId:e}},w="CANCEL_PLAYBACK_TIME_RANGE",P=function(e){return{type:w,playerId:e}},A="REQUEST_SCRUB_TO_FRACTION",D=function(e,t){return{type:A,fraction:t,playerId:e}},R="VIDEO_SEEKED",C=function(e){return{type:R,playerId:e}},k="VIDEO_SEEKING",L=function(e){return{type:k,playerId:e}},M="HIDE_CONTROLS",N=function(e){return{type:M,playerId:e}},j="SHOW_CONTROLS",x=function(e){return{type:j,playerId:e}},U="REQUEST_CAPTIONS_ON",B=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:U,isUserSet:t,playerId:e}},F="REQUEST_CAPTIONS_OFF",V=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:F,isUserSet:t,playerId:e}},W="CAPTIONS_TOGGLED",G=function(e,t){return{type:W,areCaptionsShown:t,playerId:e}},H="UPDATE_VISIBILITY",Y=function(e,t,n,r){return{type:H,playerId:e,percentVisible:t,percentOfViewportOccupied:n,sizesInfo:r}},z="CALL_TO_ACTION_CLICKED",K=function(e){return{type:z,playerId:e}},q="CALL_TO_ACTION_IMPRESSION",J=function(e){return{type:q,playerId:e}},Q="LIVE_CLICKTHROUGH_CLICKED",X=function(e){return{type:Q,playerId:e}},$="AUTOPLAY_DISABLED",Z=function(e){return{type:$,playerId:e}},ee="DATA_USAGE_COLLECTED",te=function(e,t){return{type:ee,playerId:e,bytes:t}}},754:function(e,t,n){"use strict";t.a={BROADCAST_REQUEST_ERROR:"BROADCAST_REQUEST_ERROR",BROADCAST_ENDED_NO_REPLAY:"BROADCAST_ENDED_NO_REPLAY",BROADCAST_NOT_FOUND:"BROADCAST_NOT_FOUND",CONFIG_USER_DATA_NETWORK_ERROR:"CONFIG_USER_DATA_NETWORK_ERROR",CONFIG_NETWORK_ERROR:"CONFIG_NETWORK_ERROR",DMCA_TAKEDOWN_ERROR:"DMCA_TAKEDOWN_ERROR",EUROPEAN_COPYRIGHT_VIOLATION:"EUROPEAN_COPYRIGHT_VIOLATION",LIVE_PARSE_ERROR:"LIVE_PARSE_ERROR",LIVE_STREAM_ACQUISITION_MISSING_CONTENT_ID:"LIVE_STREAM_ACQUISITION_MISSING_CONTENT_ID",LIVE_STREAM_ACQUISITION_NETWORK_ERROR:"LIVE_STREAM_ACQUISITION_NETWORK_ERROR",LIVE_VIDEO_GEOBLOCK_ERROR:"LIVE_VIDEO_GEOBLOCK_ERROR",LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR:"LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR",LIVE_VIDEO_GEOLOCATION_PROMPT:"LIVE_VIDEO_GEOLOCATION_PROMPT",LIVE_VIDEO_NO_COOKIES_ERROR:"LIVE_VIDEO_NO_COOKIES_ERROR",MEDIA_NOT_SUPPORTED:"MEDIA_NOT_SUPPORTED",MEDIA_SRC_INVALID_ERROR:"MEDIA_SRC_INVALID_ERROR",MEDIA_ABORTED:"MEDIA_ABORTED",MEDIA_NETWORK_ERROR:"MEDIA_NETWORK_ERROR",MEDIA_DECODE_ERROR:"MEDIA_DECODE_ERROR",MEDIA_GEOBLOCK_ERROR:"MEDIA_GEOBLOCK_ERROR",MEDIA_TEARDOWN_ERROR:"MEDIA_TEARDOWN_ERROR",MEDIA_UNKNOWN_CODE_ERROR:"MEDIA_UNKNOWN_CODE_ERROR",ORIGINAL_CONTEXT_DELETED:"ORIGINAL_CONTEXT_DELETED",UNSUPPORTED_TYPE:"UNSUPPORTED_TYPE",VMAP_NETWORK_ERROR:"VMAP_NETWORK_ERROR",VMAP_PARSE_ERROR:"VMAP_PARSE_ERROR"}},756:function(e,t,n){"use strict";n.d(t,"c",(function(){return G})),n.d(t,"e",(function(){return Y})),n.d(t,"a",(function(){return K})),n.d(t,"f",(function(){return q})),n.d(t,"b",(function(){return J})),n.d(t,"i",(function(){return X})),n.d(t,"g",(function(){return $})),n.d(t,"j",(function(){return Z})),n.d(t,"d",(function(){return ee}));n(25),n(47),n(39),n(17),n(20),n(48);var r=n(41),i=n.n(r),a=n(67),o=n.n(a),s=n(1),c=n.n(s),u=(n(380),n(30),n(40),n(774)),l=n(1013),d=n(817),p=(n(383),n(69),n(88),n(3)),f=n.n(p),h=n(4),y=n.n(h),v=n(842),m=n(815),_=n(754),g=n(59),b=n.n(g);n(21),n(115);var E=/^[0-9]{1,6}(\.[0-9]+)?$/,T=/^([0-9]{0,3}[hH])?([0-9]{0,2}[mM])?([0-9]{0,6}[sS])?$/,O=n(995),I=(n(72),n(105),n(54),n(814));function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P={features:{fatalErrorRetryMax:3},translations:{}},A=function(){function e(t,n){f()(this,e),this.httpClient=t,this.logger=n}return y()(e,[{key:"load",value:function(e,t){var n=this;if(!this.httpClient)return Promise.reject(_.a.MEDIA_TEARDOWN_ERROR);var r=e.videoConfig,a=i()(e,["videoConfig"]);return(r&&(r.vmapUrl||e.videoConfig.variants&&e.videoConfig.variants.length>0)?this.loadStaticConfigState(r,e.source):this.loadDynamicConfigState(e.source,r,t)).then((function(e){return n.convertConfigStateToPlayerState(e,a,t)}))}},{key:"loadStaticConfigState",value:function(e,t){var n=this,r=function(){try{return JSON.parse(window.sessionStorage.getItem("TwitterVideoPlayerUserConfig"))}catch(e){}}(),i={eventId:e.eventId,posterImage:e.poster,track:{contentId:e.contentId,contentType:e.contentType,cta:e.cta,durationMs:e.durationMs,expandedUrl:e.expandedUrl,mediaAvailability:e.mediaAvailability,publisherId:e.publisherId,shouldLoop:e.loop,variants:e.variants,viewCount:e.viewCount,vmapUrl:e.vmapUrl}};if(!e.shouldLoadTranslations||!this._shouldLoadStaticConfig(t))return Promise.resolve(w(w({},P),i));var a=this.httpClient.dispatch({method:"GET",path:"/1.1/videos/static/config.json",host:"https://api.twitter.com"}).then((function(e){if(200!==e.status)throw new Error("".concat(_.a.CONFIG_USER_DATA_NETWORK_ERROR,":").concat(e.status));var t=JSON.parse(e.body);return function(e){try{window.sessionStorage.setItem("TwitterVideoPlayerUserConfig",JSON.stringify(e))}catch(e){}}(t),t}),(function(){throw new Error(_.a.CONFIG_USER_DATA_NETWORK_ERROR)})).catch((function(e){return n.logger.log("ConfigurationLoader","failed to load static configuration: ".concat(e)),w({},P)}));return(r?Promise.resolve(r):a).then((function(e){var t=e.features,n=e.translations;return w(w({},i),{},{features:t,translations:n})}))}},{key:"loadDynamicConfigState",value:function(e,t,n){if(e.type===I.a.BROADCAST&&t&&!t.shouldLoadTranslations)return Promise.resolve(w({},P));try{return this.httpClient.dispatch({method:"GET",path:this.getApiEndpointForPlayerSource(e),host:"https://api.twitter.com",params:{bitrate_cap:n.bitrateCap}}).then((function(e){if(200!==e.status)throw new Error("".concat(_.a.CONFIG_NETWORK_ERROR,":").concat(e.status));var n=JSON.parse(e.body);return t&&t.poster&&(n.posterImage=t.poster),n}),(function(){throw new Error(_.a.CONFIG_NETWORK_ERROR)}))}catch(e){return Promise.reject(e)}}},{key:"convertConfigStateToPlayerState",value:function(e,t,n){var r,a,o=e.track,s=e.translations,c=i()(e,["track","translations"]),u=n.reloadTimecode,l=function(e){if(E.test(e))return+e;var t=T.exec(e);if(t&&t[0]){var n=b()(t,4),r=n[1],i=n[2],a=n[3],o=0;return r&&(o+=3600*+r.slice(0,-1)),i&&(o+=60*+i.slice(0,-1)),a&&(o+=+a.slice(0,-1)),o}}(n.requestedTimecode),d=l>0||0===l?l:-1;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e}(s),o&&(a=o.mediaAvailability,n.maxLoopCount&&(o.maxLoopCount=n.maxLoopCount,o.loopCounter=0),o.variants&&o.variants.length>0?r=o.variants:o.playbackUrl&&o.playbackType&&(r=[{src:o.playbackUrl,type:o.playbackType}])),Object(O.a)()&&(r=Object(m.a)(r));var p,f=Object(v.a)(a);if(f)switch(f){case _.a.ORIGINAL_CONTEXT_DELETED:case _.a.DMCA_TAKEDOWN_ERROR:throw new Error(f);case _.a.EUROPEAN_COPYRIGHT_VIOLATION:throw(p=new Error(f)).copyrightHolder=a.unavailability_info.copyright_violation.copyright_holder_name,p}return w(w(w({},t),c),{},{tracks:[w(w({},o),{},{id:0,displayType:"content",requestedTimecode:d,reloadTimecode:u,rotation:0,variants:r,currentVariantIndex:0})],currentTrackId:0,source:w(w({},t.source),{},{trackId:0}),mediaAvailability:a})}},{key:"getApiEndpointForPlayerSource",value:function(e){switch(e.type){case I.a.TWEET:var t=e.index>0?"/".concat(e.index):"";return"".concat("/1.1/videos/","tweet/config/").concat(e.id).concat(t,".json");case I.a.BROADCAST:return"".concat("/1.1/videos/","broadcast/config/").concat(e.id,".json");case I.a.DM:return"".concat("/1.1/videos/","dm/config/").concat(e.id,".json");default:throw new Error("".concat(_.a.UNSUPPORTED_TYPE,":").concat(e.type))}}},{key:"_shouldLoadStaticConfig",value:function(e){return e.type!==I.a.STATIC_BROADCAST}}]),e}(),D=n(816);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k="error",L="playback",M=function(){function e(t,n,r,i,a){f()(this,e),this.dispatch=t,this.httpClient=n,this.twitterAuthedHttpClient=r,this.playerId=i,this.showGeolocationPrompt=a}return y()(e,[{key:"load",value:function(e){if(!this.httpClient||!this.twitterAuthedHttpClient)return Promise.reject(_.a.MEDIA_TEARDOWN_ERROR);var t=e.tracks[0];return"live"!==t.contentType&&"broadcast"!==t.contentType?Promise.resolve(e):t.contentId?this.getUserPermission(t).then(this.getUserGeolocation.bind(this)).then(this.parseGeolocationData.bind(this)).then(this.acquireLiveStream.bind(this,e)).then(this.parseStreamAcquisitionResponse.bind(this)).then(this.setCookies.bind(this)).then(this.checkCookies.bind(this)).catch(this.handleRejectedPromises.bind(this)).then((function(n){var r=n.isLiveTimecode,i=n.playbackUrl,a=n.lifecycleToken,o=n.chatToken,s=n.broadcastShareUrl,c=n.restrictions;if(void 0!==c){if(void 0!==c.find((function(e){return"geoblocked"===e.restriction})))throw new Error(_.a.LIVE_VIDEO_GEOBLOCK_ERROR);var u=c.find((function(e){return"copyright-violation"===e.restriction}));if(void 0!==u){var l,d=u.copyright_violation_type;l=void 0!==d&&"TYPE_1"===d?_.a.EUROPEAN_COPYRIGHT_VIOLATION:_.a.LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR;var p=new Error(l);throw p.copyrightHolder=u.copyright_violation_copyright_holder_name,p}}return C(C({},e),{},{tracks:[C(C({},t),{},{isLive:"live"===t.contentType||t.isLive,isLiveTimecode:r,variants:[{src:i,type:"application/x-mpegURL"}],lifecycleToken:a,chatToken:o,broadcastShareUrl:s})]})})):Promise.reject(Error(_.a.LIVE_STREAM_ACQUISITION_MISSING_CONTENT_ID))}},{key:"getUserPermission",value:function(e){return e.isEventGeoblocked?this.showGeolocationPrompt?Promise.resolve({shouldGetGeolocation:!0}):"permissions"in navigator?navigator.permissions.query({name:"geolocation"}).then((function(e){var t="granted"===e.state;return Promise.resolve({shouldGetGeolocation:t})})):Promise.resolve({shouldGetGeolocation:!1}):Promise.resolve({shouldGetGeolocation:!1})}},{key:"getUserGeolocation",value:function(e){return e.shouldGetGeolocation&&"geolocation"in navigator?(this.dispatch(Object(u.g)(this.playerId)),new Promise((function(e){navigator.geolocation.getCurrentPosition((function(t){return e(t)}),(function(){return e()}))}))):Promise.resolve()}},{key:"parseGeolocationData",value:function(e){return Promise.resolve({latitude:e&&e.coords.latitude,longitude:e&&e.coords.longitude})}},{key:"acquireLiveStream",value:function(e,t){var n=this,r=this.getLiveStreamAcquisitionDetails(e,t),i=r.params,a=r.path,o=r.isLiveTimecode;return this.twitterAuthedHttpClient.dispatch({host:"https://api.twitter.com",method:"GET",params:i,path:a}).then((function(e){return e.status<200||e.status>=400?Promise.reject({type:k,reason:_.a.LIVE_STREAM_ACQUISITION_NETWORK_ERROR}):(n.dispatch(Object(u.f)(n.playerId)),Promise.resolve({body:e.body,isLiveTimecode:o}))}),(function(){return Promise.reject({type:k,reason:_.a.LIVE_STREAM_ACQUISITION_NETWORK_ERROR})}))}},{key:"getLiveStreamAcquisitionDetails",value:function(e,t){var n=t.latitude,r=t.longitude,i=e.client,a=e.source,o=a&&a.trackId||0,s=e.tracks[o],c={client:i,use_syndication_guest_id:"tfw"===i,lat:n,lng:r,cookie_set_host:new D.a(window.location.href).getHostname()},u=e.features&&e.features.isLiveTimecodeEnabled&&(s.requestedTimecode>0||0===s.requestedTimecode);return u&&(c.latest_replay_playlist=!0),{params:c,isLiveTimecode:u,path:"".concat("/1.1/live_video_stream/status/").concat(s.contentId)}}},{key:"parseStreamAcquisitionResponse",value:function(e){var t=JSON.parse(e.body);return t&&t.source&&t.source.noRedirectPlaybackUrl?Promise.resolve({cookieSetUrl:t.source.cookieSetUrl,isLiveTimecode:e.isLiveTimecode,playbackUrl:t.source.noRedirectPlaybackUrl,lifecycleToken:t.lifecycleToken,chatToken:t.chatToken,broadcastShareUrl:t.shareUrl,restrictions:t.restrictions}):Promise.reject({type:k,reason:_.a.LIVE_PARSE_ERROR})}},{key:"setCookies",value:function(e){var t=e.cookieSetUrl,n=i()(e,["cookieSetUrl"]);return t?this.httpClient.dispatch({method:"GET",path:t,host:"",withCredentials:!0}).then((function(){return Promise.resolve(e)}),(function(){return Promise.reject({type:L,payload:n})})):Promise.reject({type:L,payload:n})}},{key:"checkCookies",value:function(e){var t=new D.a(e.cookieSetUrl);return window.location.host===t.getHostname()?Promise.resolve(e):this.httpClient.dispatch({method:"GET",path:"https://t.lv.twimg.com/live_video_stream/cookie_check",host:"",withCredentials:!0}).then((function(t){return 400!==t.status?Promise.resolve(e):Promise.reject({type:k,reason:_.a.LIVE_VIDEO_NO_COOKIES_ERROR})}),(function(){return Promise.reject({type:k,reason:_.a.LIVE_VIDEO_NO_COOKIES_ERROR})}))}},{key:"handleRejectedPromises",value:function(e){if(e.type===L)return Promise.resolve(e.payload);var t=e.reason?new Error(e.reason):e;return Promise.reject(t)}}]),e}();n(1002),n(394);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(){function e(t){f()(this,e),this.httpClient=t}return y()(e,[{key:"load",value:function(e){var t=this;if(!this.httpClient)return Promise.reject(_.a.MEDIA_TEARDOWN_ERROR);var n=e.tracks[0];return"vmap"!==n.contentType?Promise.resolve(e):this.httpClient.dispatch({method:"GET",path:n.vmapUrl,host:"",withCredentials:!1}).then((function(r){if(r.status<200||r.status>=400)throw new Error(_.a.VMAP_NETWORK_ERROR);var i=t.parseVmap(r.body);return j(j({},e),{},{tracks:[j(j({},n),i)]})}),(function(){throw new Error(_.a.VMAP_NETWORK_ERROR)}))}},{key:"parseVmap",value:function(e){var t=(new window.DOMParser).parseFromString(e,"application/xml").getElementsByTagNameNS("http://twitter.com/schema/videoVMapV2.xsd","content")[0];if(void 0===t)throw new Error(_.a.VMAP_PARSE_ERROR);var n=t.getElementsByTagName("MediaFile")[0];if(void 0===n)throw new Error(_.a.VMAP_PARSE_ERROR);var r=n.textContent.trim().replace(/^http:\/\/amp\.twimg\.com\//,"https://amp.twimg.com/"),i=n.getAttribute("type")||function(e){var t=new D.a(e).getPath();return".m3u8"===t.slice(t.lastIndexOf("."))?"application/x-mpegURL":"video/mp4"}(r);return{publisherId:t.getAttribute("ownerId"),contentId:t.getAttribute("contentId"),variants:[{src:r,type:i}],cta:this.getCta(t)}}},{key:"getCta",value:function(e){var t=e.getElementsByTagNameNS("http://twitter.com/schema/videoVMapV2.xsd","cta_open_url")[0],n=e.getElementsByTagNameNS("http://twitter.com/schema/videoVMapV2.xsd","cta_watch_now")[0];return void 0!==t?{type:"url",url:t.getAttribute("url")}:void 0!==n?{type:"watch",url:n.getAttribute("url")}:void 0}}]),e}(),U=function(e,t,n,r,i,a,o){return[new A(n,o),new d.b(n,a),new x(t),new M(e,t,n,r,i)]},B=function(e,t,n,r){var i=Promise.resolve({source:e,videoConfig:t});return n.reduce((function(e,t){return e.then((function(e){return t.load(e,r)}))}),i)},F=n(781);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G="CONFIGURE_PLAYER",H=function(e,t,n,r,i,a,o,s,c){return{type:G,source:t,session:n,analytics:r,playerId:e,adProvider:i,videoConfig:a,promotedContext:o,initiallyMutedCaptions:s,intentToPlayTime:c}},Y="RELOADING_PLAYER",z=function(e,t,n){return{type:Y,playerId:e,source:t,session:n}},K="BROADCAST_UPDATED",q=function(e,t){return{type:K,updatedState:t,playerId:e}},J="CONFIGURATION_LOADED",Q=function(e,t){return{type:J,playerState:t,playerId:e}},X=function(e,t){return{type:"FEATURES_LOADED",features:t,playerId:e}},$=function(e,t,n,r,i,a,o,s){var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},l=arguments.length>9?arguments[9]:void 0;return function(p){return p(H(e,t,r,i,a,n,c.promotedContext,c.initiallyMutedCaptions,c.intentToPlayTime)),B(t,n,U(p,Object(F.c)(e),Object(F.e)(e),e,c.showGeolocationPrompt,c.includeBroadcastEventAssociation,l),c).then((function(t){if(p(Q(e,t)),o(),Object(d.c)(t)){var n=t.source.id,r=new d.a(p,Object(F.e)(e),e,n,c.includeBroadcastEventAssociation);return r.queueUpdate(t.isLive).catch((function(t){p(Object(u.d)(e,t))})),r}})).catch((function(t){p(Object(u.d)(e,t)),s()}))}},Z=function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0;return function(c){return c(z(e,t,r)),B(t,n,U(c,Object(F.c)(e),Object(F.e)(e),e,o.showGeolocationPrompt,o.includeBroadcastEventAssociation,s),o).then((function(t){c(Q(e,t)),i()})).catch((function(t){c(Object(u.d)(e,t)),a()}))}},ee=(t.h=function(e,t){switch(t.type){case G:case Y:return W(W(W({},e),t.promotedContext),{},{source:t.source,session:t.session,playerId:t.playerId,configuration:{loading:!0}});case J:var n=e.currentTrackId?e.currentTrackId:t.playerState.currentTrackId,r=[].concat(o()(t.playerState.tracks||[]),o()(e.tracks||[]));return t.playerState.features.isDebuggingEnabled&&(l.a.debuggingEnabled=!0),W(W(W({},e),t.playerState),{},{currentTrackId:n,features:W(W({},e.features),t.playerState.features),tracks:r,configuration:{loading:!1}});case"FEATURES_LOADED":return W(W({},e),{},{features:W(W({},e.features),t.features)});case K:var a=t.updatedState,s=a.cta,c=a.isLive,u=a.viewerCount,d=a.viewCount,p=i()(a,["cta","isLive","viewerCount","viewCount"]),f=function(e){var t=e.tracks;return{sourceTrack:t.find((function(t){return t.id===e.source.trackId})),otherTracks:t.filter((function(t){return t.id!==e.source.trackId}))}}(e),h=f.sourceTrack,y=f.otherTracks;return h&&(0===h.requestedTimecode||h.requestedTimecode>0)&&delete p.posterImage,W(W(W({},e),p),{},{tracks:[].concat(o()(y),[W(W({},h),{},{cta:s,isLive:c,viewerCount:u,viewCount:d})])});default:return e}},{configuration:{loading:!1,error:void 0},tracks:[]})},758:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));var r={EVENT:"event",VISIT:"url",WATCH:"watch",IMAGE:"image",WATCH_NOW:"watch_now",SHOP:"shop"},i=3,a=["cover","contain"]},763:function(e,t,n){"use strict";n(70),n(559),n(382);var r=n(0),i=n(26),a=n(5),o=n(34),s=Object.freeze({live:{backgroundColor:"red500",bold:!0,color:"whiteOnColor"}}),c=function(e){switch(e){case"red500":return l.bgRed;case"primary":return l.bgPrimary;case"gray600":return l.bgDeepGray;case"maskColor":return l.bgMaskColor;case"green500":return l.bgGreen;case"translucentBlack77":default:return l.bgTranslucentBlack}},u=function(e){switch(e){case"translucentBlack77":case"maskColor":return"white";default:return"whiteOnColor"}},l=a.a.create((function(e){return{badge:{alignSelf:"flex-start",alignItems:"center",height:e.spaces.space20,justifyContent:"center",paddingHorizontal:e.spaces.space4,borderRadius:e.borderRadii.small},badgeSquare:{width:e.spaces.space20,paddingHorizontal:0,overflow:"hidden"},bgPrimary:{backgroundColor:e.colors.primary},bgRed:{backgroundColor:e.colors.red500},bgMaskColor:{backgroundColor:e.colors.maskColor},bgTranslucentBlack:{backgroundColor:e.colors.translucentBlack77},bgDeepGray:{backgroundColor:e.colors.gray600},bgGreen:{backgroundColor:e.colors.green500}}}));t.a=function(e){var t=e.bold,n=e.children,a=e.background,d=void 0===a?"translucentBlack77":a,p=e.square,f=e.style,h=e.type,y=h?s[h]:{},v=c(y.backgroundColor||d),m=y.color||u(d),_=y.bold||t;return r.createElement(o.default,{pointerEvents:"none",style:[l.badge,p?l.badgeSquare:null,v,f]},r.createElement(i.c,{align:"center",color:m,size:"small",weight:_?"bold":void 0},n))}},764:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return h}));n(25),n(47),n(30),n(39),n(17),n(20),n(48);var r=n(1),i=n.n(r),a=(n(380),n(756)),o=n(782),s=n(753);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l="PLAY_PREVIEW",d=function(e){return{type:l,playerId:e}},p="PAUSE_PREVIEW",f=function(e){return{type:p,playerId:e}};t.d=function(e,t){switch(t.type){case a.c:return u(u({},e),{},{initiallyMutedCaptions:t.initiallyMutedCaptions});case l:return e.isPlaying?e:u(u({},e),{},{isPreview:!0,controls:u(u({},e.controls),{},{muteState:s.j.MUTE_REQUESTED})});case p:return u(u({},e),{},{isPreview:!0,controls:u(u({},e.controls),{},{muteState:s.j.MUTE_REQUESTED})});case s.p:case s.r:case s.t:case s.u:case s.s:case o.b:if(!e.isPreview)return e;var n=e.tracks.find((function(t){return t.id===e.currentTrackId}));if(!n)return e;var r="gif"===n.contentType?void 0:s.j.UNMUTE_REQUESTED;return u(u({},e),{},{isPreview:!1,controls:u(u({},e.controls),{},{muteState:r})});default:return e}};var h={isPreview:!1}},766:function(e,t,n){"use strict";var r=n(2),i=n.n(r),a=n(41),o=n.n(a),s=n(0),c=n(5),u=n(178),l=n(381),d=s.createContext(!1);t.a=function(e){var t=e.withOutsetFocusRing,n=e.withDarkerInteractiveBackground,r=void 0!==n&&n,a=e.withInteractiveStyling,p=void 0===a||a,f=e.withFocusWithinFocusRing,h=void 0!==f&&f,y=o()(e,["withOutsetFocusRing","withDarkerInteractiveBackground","withInteractiveStyling","withFocusWithinFocusRing"]),v=s.useContext(d),m=p?function(e){var t=e.isInAParentListItem,n=e.withDarkerInteractiveBackground,r=e.withOutsetFocusRing,i=e.withFocusWithinFocusRing;return u.a.generate({backgroundColor:c.a.theme.colors.transparent,color:c.a.theme.colors.primary,customFocusBackgroundColor:n?c.a.theme.colors.hoverBlack:c.a.theme.colors.gray0,customHoverBackgroundColor:t||n?c.a.theme.colors.hoverBlack:c.a.theme.colors.gray0,customPressedBackgroundColor:t?c.a.theme.colors.activeBlack:c.a.theme.colors.activeFaintGray,insetFocusRing:!r,withFocusWithinFocusRing:i})}({isInAParentListItem:v,withDarkerInteractiveBackground:r,withOutsetFocusRing:t,withFocusWithinFocusRing:h}):null;return s.createElement(d.Provider,{value:!0},s.createElement(l.a,i()({},y,{interactiveStyles:m})))}},771:function(e,t,n){"use strict";var r=n(2),i=n.n(r),a=n(41),o=n.n(a),s=n(0),c=n(763),u=n(5).a.create((function(e){return{root:{position:"absolute",bottom:e.spaces.space12},alignRight:{right:e.spaces.space12},alignLeft:{left:e.spaces.space12}}}));t.a=function(e){var t=e.align,n=e.style,r=o()(e,["align","style"]);return s.createElement(c.a,i()({style:[n,u.root,"right"===t?u.alignRight:u.alignLeft]},r))}},772:function(e,t,n){"use strict";n(386);var r=n(44),i={},a=["touchend","touchmove","touchstart"];t.a={isTouchSupported:function(){return r.canUseDOM&&a.some((function(e){return!!function(e,t){if(void 0!==i[e])return i[e];var n=document.createElement(t||"div"),r="on".concat(e),a=r in n;return a||(n.setAttribute(r,"return;"),a="function"==typeof n[r]),i[e]=a,a}(e)}))}}},773:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"q",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"r",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"n",(function(){return m})),n.d(t,"d",(function(){return _})),n.d(t,"o",(function(){return g})),n.d(t,"p",(function(){return b})),n.d(t,"b",(function(){return E})),n.d(t,"k",(function(){return T})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return w})),n.d(t,"i",(function(){return P})),n.d(t,"h",(function(){return A})),n.d(t,"g",(function(){return D})),n.d(t,"a",(function(){return M}));n(25),n(47),n(39),n(17),n(20),n(48);var r=n(67),i=n.n(r),a=n(1584),o=n.n(a),s=n(1),c=n.n(s),u=(n(380),n(30),n(183),n(115),n(40),n(753));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p="TICK",f=function(e,t,n,r,i,a){return{type:p,currentTimeMs:t,absoluteTimeMs:n,durationMs:r,playerId:e,hasCaptions:i,currentVariantIndex:a}},h="TRACK_FINISHED",y=function(e){return{type:h,playerId:e}},v="NEXT_TRACK",m=function(e){return{type:v,playerId:e}},_="PLAYER_READY",g=function(e){return{type:_,playerId:e}},b=function(e,t){return{type:"ROTATION_UPDATED",playerId:e,rotation:t}},E="HLSJS_READY",T=function(e){return{type:E,playerId:e}},O=new Date("Jan 01 1900 GMT").getTime(),I=new Date("Jan 01 1970 GMT").getTime()-O,S=function(e,t){return{type:"ID3_METADATA",playerId:e,metadata:t}},w=function(e,t){return{type:"ID3_TAG_DATA",playerId:e,id3Json:t,currentNtpTime:(Date.now()+I)/1e3}},P=function(e){return{type:"BUFFER_START",playerId:e}},A=function(e){return{type:"BUFFER_END",playerId:e}},D=function(e,t){return{type:"BITRATE_SWITCHED",playerId:e,bitrate:t}},R=function(e){var t=e.tracks;return{currentTrack:t.find((function(t){return t.id===e.currentTrackId})),otherTracks:t.filter((function(t){return t.id!==e.currentTrackId}))}},C=function(e,t){var n=R(e),r=n.currentTrack,i=n.otherTracks;return i.splice(e.currentTrackId,0,t(r)),d(d({},e),{},{tracks:i})},k=function(e,t){return C(e,(function(e){return d(d({},e),t)}))};t.j=function(e,t){switch(t.type){case p:return k(e,{durationMs:t.durationMs,currentTimeMs:t.currentTimeMs,absoluteTimeMs:t.absoluteTimeMs,hasCaptions:t.hasCaptions,currentVariantIndex:t.currentVariantIndex});case u.y:return d(d({},C(e,(function(e){return d(d({},e),{},{playbackCompleted:!1})}))),{},{tracksFinished:!1});case _:return k(e,{playerReady:!0});case"ROTATION_UPDATED":return k(e,{rotation:t.rotation});case"ID3_METADATA":var n=t.metadata,r=e;return n&&(r=k(r,{metadata:n})),r;case"ID3_TAG_DATA":var i=t.id3Json,a=t.currentNtpTime,o=i.ntp,s=e;if(o)s=k(s,{liveLatencyMs:1e3*(a-o)});return s;case"BITRATE_SWITCHED":return k(e,{currentBitrate:t.bitrate});case"BUFFER_START":return k(e,{isBuffering:!0});case"BUFFER_END":return k(e,{isBuffering:!1});case v:return L(e,!0);case h:var c=C(e,(function(e){return d(d({},e),{},{playbackCompleted:!0})}));return L(c);default:return e}};var L=function(e,t){var n,r=R(e).currentTrack,a=!1!==r.shouldAutoAdvance||t,s="ad"===r.displayType&&(null===(n=e.errorInfo)||void 0===n?void 0:n.adFailed);if(e.nextTrackIds.length>0&&a){var c=o()(e.nextTrackIds),l=c[0],p=c.slice(1),f=e.tracks,h=f.find((function(e){return e.id===l})),y=f.filter((function(e){return e.id!==l}));return d(d({},e),{},{currentTrackId:l,nextTrackIds:p,error:s?void 0:e.error,controls:d(d({},e.controls),{},{playState:s&&!e.isPlaying?void 0:u.k.PLAY_REQUESTED,captionsState:e.areCaptionsShown?u.f.CAPTIONS_ON_REQUESTED:u.f.CAPTIONS_OFF_REQUESTED}),intentToPlayTime:void 0,tracks:[].concat(i()(y),[d(d({},h),{},{playerReady:!1})])})}return d(d({},e),{},{intentToPlayTime:void 0,isPlaying:!!r.shouldLoop,tracksFinished:!r.shouldLoop&&0===e.nextTrackIds.length})},M={nextTrackIds:[]}},774:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return y})),n.d(t,"b",(function(){return g}));n(25),n(47),n(30),n(39),n(17),n(20),n(48);var r=n(1),i=n.n(r),a=(n(384),n(842)),o=n(754),s=n(756);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l="PLAYBACK_ERROR",d=function(e,t){return{type:l,playerId:e,thrownError:t,isFatal:!0}},p="CONFIGURATION_LOAD_ERROR",f=function(e,t){return{type:p,playerId:e,thrownError:t,isFatal:!0}},h=function(e){return{type:"ERROR_RESOLVED",playerId:e}},y=function(e){return{type:"GEOLOCATION_PROMPT",playerId:e}},v=function(e){switch(e.message){case o.a.BROADCAST_ENDED_NO_REPLAY:case o.a.BROADCAST_NOT_FOUND:case o.a.DMCA_TAKEDOWN_ERROR:case o.a.EUROPEAN_COPYRIGHT_VIOLATION:case o.a.ORIGINAL_CONTEXT_DELETED:case o.a.LIVE_VIDEO_GEOBLOCK_ERROR:case o.a.LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR:case o.a.LIVE_VIDEO_GEOLOCATION_PROMPT:case o.a.MEDIA_GEOBLOCK_ERROR:case o.a.MEDIA_NOT_SUPPORTED:return!1;default:return!0}},m=function(e){if(!v(e))return!1;switch(e.message){case o.a.LIVE_VIDEO_NO_COOKIES_ERROR:return!1;default:return!0}},_=function(e,t){var n,r=t.currentTrackId,i=t.errorInfo,a=t.tracks,o=i.count+1,s=v(e),c=m(e)&&o<=i.retryMax,u="ad"===(null==a||null===(n=a[r])||void 0===n?void 0:n.displayType)?!c||!s:t.errorInfo.adFailed;return{backoffMs:c?1e3*t.errorInfo.count:g.backoffMs,count:o,canRetry:s,autoRetry:c,adFailed:u}};t.e=function(e,t){switch(t.type){case s.b:var n=parseInt(e.features.fatalErrorRetryMax,10),r=isNaN(n)?g.errorInfo.retryMax:n;return u(u({},e),{},{errorInfo:u(u({},e.errorInfo),{},{retryMax:r})});case s.e:return u(u({},e),{},{error:void 0,errorInfo:u(u({},e.errorInfo),{},{autoRetry:!1,canRetry:!1})});case p:var i,c=t.thrownError,d=_(c,e);return c.message!==o.a.LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR&&c.message!==o.a.EUROPEAN_COPYRIGHT_VIOLATION||(i={copyrightHolder:c.copyrightHolder}),u(u({},e),{},{error:c.message,errorData:i,errorInfo:u(u({},e.errorInfo),d)});case l:var f=t.thrownError,h=Object(a.a)(e.mediaAvailability),y=h?new Error(h):f,b=_(y,e);return u(u({},e),{},{error:y.message,errorInfo:u(u({},e.errorInfo),b)});case"ERROR_RESOLVED":return u(u({},e),{},{error:void 0,errorInfo:u(u({},e.errorInfo),{},{autoRetry:!1,canRetry:!1})});case"GEOLOCATION_PROMPT":var E=new Error(o.a.LIVE_VIDEO_GEOLOCATION_PROMPT);return u(u({},e),{},{error:E.message,errorInfo:u(u({},e.errorInfo),{},{autoRetry:m(E),canRetry:v(E)})});default:return e}};var g={error:void 0,errorInfo:{adFailed:!1,autoRetry:!1,backoffMs:void 0,canRetry:!1,count:0,retryMax:0},errorData:void 0}},778:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));n(62);var r=n(2),i=n.n(r),a=n(41),o=n.n(a),s=n(3),c=n.n(s),u=n(4),l=n.n(u),d=n(7),p=n.n(d),f=n(18),h=n.n(f),y=n(22),v=n.n(y),m=n(11),_=n.n(m),g=n(1),b=n.n(g),E=(n(40),n(0)),T=n(127),O=n.n(T),I=n(747),S=n(178),w=n(381),P=n(5),A=n(34);n(101);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var i=_()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var R=function(e){return E.createElement("circle",i()({cx:"50%",cy:"50%",fill:"none",strokeWidth:2},e))},C=function(e){h()(n,e);var t=D(n);function n(){return c()(this,n),t.apply(this,arguments)}return l()(n,[{key:"_getProgressStyles",value:function(e,t){var n=2*Math.PI*t;return{strokeDashoffset:(1-e)*n,strokeDasharray:n}}},{key:"render",value:function(){var e=this.props,t=e.accessibilityLabel,n=e.color,r=e.progress,i=e.size,a=e.style,o=e.type,s=P.a.theme.colors,c=s[n],u="onMedia"===o?s.white:s.borderColor,l=Math.min(r,1),d=function(e){return"number"==typeof e?e:"large"===e?36:20}(i),p=d/2-1,f=this._getProgressStyles(l,p);return E.createElement(A.default,{accessibilityLabel:t,accessibilityRole:"progressbar",accessibilityValue:{max:100,min:0,now:Math.floor(100*l)},style:[k.root,a]},E.createElement(A.default,{style:[k.inner,{height:d,width:d}]},E.createElement("svg",{height:"100%",style:{overflow:"visible"},viewBox:"0 0 ".concat(d," ").concat(d),width:"100%"},R({r:p,stroke:u}),R({r:p,stroke:c,strokeLinecap:"round",style:f}))))}}]),n}(E.Component);b()(C,"defaultProps",{color:"primary",progress:0,size:"small",type:"normal"}),C.propTypes={};var k=P.a.create({root:{alignItems:"center",justifyContent:"center"},inner:{transform:[{rotate:"-90deg"}],transitionProperty:"height, width",transitionDuration:"0.15s"}}),L=C,M=n(31);function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var i=_()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var j=O.a.f17dfdb5,x=function(e){h()(n,e);var t=N(n);function n(){var e;c()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"state",{progress:0}),b()(p()(e),"_getInteractiveStyle",(function(){return"upNext"===e.props.type?S.a.generate({backgroundColor:P.a.theme.colors.transparent,color:P.a.theme.colors.white}):S.a.generate({backgroundColor:P.a.theme.colors.primary,color:P.a.theme.colors.white,customFocusRingColor:"rgba(255,255,255,0.5)"})})),b()(p()(e),"_animateProgress",(function(){var t=e.props,n=t.duration,r=t.onComplete;if(n&&r&&e._startTime){var i=Math.min(1,(Date.now()-e._startTime)/n);e.setState({progress:i}),1===i?r():e._frame=window.requestAnimationFrame(e._animateProgress)}})),e}return l()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.type,n=e.duration,r=e.onComplete;"upNext"===t&&n&&r&&(this._startTime=Date.now(),this._frame=window.requestAnimationFrame(this._animateProgress))}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this._frame)}},{key:"render",value:function(){var e=this.props,t=e.accessibilityLabel,n=e.duration,r=e.onComplete,a=e.onPress,s=e.size,c=e.type,u=o()(e,["accessibilityLabel","duration","onComplete","onPress","size","type"]);if(!("upNext"!==c||n&&r))return null;var l=this._getInteractiveStyle();return E.createElement(w.a,i()({},u,{accessibilityLabel:t,interactiveStyles:l,onPress:a,style:[this._getViewSizeStyles(s),"upNext"!==c&&U.videoButtonColor,"upNext"!==this.props.type&&U.border]}),"upNext"===c&&E.createElement(L,{color:"blue500",progress:this.state.progress,size:this._getProgressCircleSize(s),type:"onMedia"}),E.createElement(A.default,{style:U.iconWrapper},E.createElement(I.IconPlay,{style:[U.playIcon,M.default.getConstants().isRTL?U.rightAlignIcon:U.leftAlignIcon,"upNext"===c&&U.upNextIconSize]})))}},{key:"_getViewSizeStyles",value:function(e){return"small"===e?U.smallViewSize:U.root}},{key:"_getProgressCircleSize",value:function(e){return"small"===e?35:67}}]),n}(E.Component);b()(x,"defaultProps",{accessibilityLabel:j,size:"normal",type:"video"});var U=P.a.create((function(e){return{root:{borderRadius:e.borderRadii.infinite,height:67,width:67},smallViewSize:{borderRadius:e.borderRadii.infinite,height:35,width:35},videoButtonColor:{backgroundColor:e.colors.primary},iconWrapper:{justifyContent:"center",alignItems:"center",position:"absolute",height:"100%",width:"100%"},border:{borderColor:e.colors.white,borderWidth:e.borderWidths.large,borderStyle:"solid"},playIcon:{height:"calc(50% + ".concat(e.borderWidths.large,")"),width:"calc(50% + ".concat(e.borderWidths.large,")"),color:e.colors.white},leftAlignIcon:{paddingLeft:3},rightAlignIcon:{paddingRight:3},upNextIconSize:{height:"50%",width:"50%"}}}))},780:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(70),n(0);var r=Object.freeze({AUTO_SWIPE:"auto_swipe",USER_SWIPE:"user_swipe",CLICK:"click",OPEN_LINK:"open_link",CLICK_ID_EMBED:"click_id_embed",UC_APP_STORE_OPEN_LINK:"unified_card_app_store_open_link",SHOW:"show",OPEN_WEB_VIEW_CARD:"open_web_view_card",MESSAGE_ME_SHOW:"message_me_show",MESSAGE_ME_CLICK:"message_me_click",VOTE:"vote",REMINDER:"reminder"})},781:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return p}));n(380),n(115),n(30);var r={},i=function(e,t,n,i,a,o){r[e]={httpClient:t,twitterAuthedHttpClient:n,errorLogger:i,hlsJsDataUsageTracker:a,featureProvider:o}},a=function(e){delete r[e]},o=function(e){return r[e]&&r[e].httpClient},s=function(e){return r[e]&&r[e].twitterAuthedHttpClient},c=function(e,t){r[e]&&t(r[e].errorLogger)},u=function(e){return function(e){return r[e]||{}}(e).featureProvider},l=function(e,t){r[e]&&t(r[e].hlsJsDataUsageTracker)},d=[],p=function(e){if(!e)throw new SyntaxError("Missing parameter: playbackSessionId");var t=d.find((function(t){return t.playbackSessionId===e}));return d=d.filter((function(t){return t.playbackSessionId!==e})),t}},782:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return f}));n(25),n(47),n(30),n(39),n(17),n(20),n(48);var r=n(1),i=n.n(r);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s="REQUEST_FULLSCREEN",c=function(e,t,n){return{type:s,playerId:e,containerEl:t,videoEl:n}},u="REQUEST_SHRINK",l=function(e,t){return{playerId:e,type:u,element:t}},d="SET_FULLSCREEN_STATE",p=function(e,t){return{type:d,playerId:e,isFullscreen:t}};t.e=function(e,t){switch(t.type){case d:return o(o({},e),{},{fullscreen:o(o({},e.fullscreen),{},{isFullscreen:t.isFullscreen})});default:return e}};var f={fullscreen:{isFullscreen:!1}}},795:function(e,t,n){n(240)("iterator")},796:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(55);function i(e){return"string"==typeof e?e:r.a.createPath(r.a.createLocation({pathname:e.pathname,hash:e.hash,query:e.query},e.state))}},808:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n(62);var r=n(3),i=n.n(r),a=n(4),o=n.n(a),s=n(18),c=n.n(s),u=n(22),l=n.n(u),d=n(11),p=n.n(d),f=n(1),h=n.n(f),y=(n(30),n(17),n(20),n(0)),v=n(770),m=n(5),_=n(34);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var b=function(e){c()(n,e);var t=g(n);function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.color,r=e.size,i=e.style;if(void 0===t)return null;if(1===y.Children.count(t))return t;var a=y.Children.toArray(t).filter(Boolean),o=[];return a.forEach((function(e,t){t===a.length-1?o.push(e):o.push(e,y.createElement(v.a,{color:n,key:"middot-".concat(t),size:r}))})),y.createElement(_.default,{style:[E.middotGroup,i]},o)}}]),n}(y.Component);h()(b,"defaultProps",{color:"gray600"});var E=m.a.create((function(e){return{middotGroup:{alignItems:"baseline",flexDirection:"row",flexShrink:1}}}))},809:function(e,t,n){"use strict";n(25),n(47),n(30),n(39),n(17),n(20),n(48);var r=n(1),i=n.n(r),a=(n(100),n(380),n(98)),o=n(376);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={red:255,green:255,blue:255},l=function(e){if(!e||0===e.length)return null;var t=e.map((function(e){return c(c({},e),{},{hsv:a.d(e.rgb)})}));return t.find((function(e){return d(e.hsv)}))||t[0]},d=function(e){return e.saturation>.15&&e.value>.1},p=function(e){if(!e)return null;var t=e.hsv;return function(e){return e.hue>=11/360&&e.hue<.125}(t)&&(t.hue=5/360),t.saturation=Math.min(Math.max(t.saturation,0),.85),t.value=Math.min(Math.max(t.value,.15),.25),{hsv:t,rgb:a.c(t)}},f=function(e){if(!e)return null;var t=u,n=e.hsv,r=n.hue,i=n.saturation,o=n.value;if(h(t,e.rgb))return e.hsv.value=Math.max(o-.1,0),e;for(var s=0,c=o;c-s>.01;){var l=(s+c)/2,d={hue:r,saturation:i,value:l};h(t,a.c(d))?s=l:c=l}var p=i+(o-s),f={hue:r,saturation:Math.min(p,1),value:s};return{hsv:f,rgb:a.c(f)}},h=function(e,t){return(o.b(e)+.05)/(o.b(t)+.05)>=4.5};t.a={get:function(e){return f(l(e))},getForGallery:function(e){return p(l(e))}}},810:function(e,t,n){"use strict";var r=n(3),i=n.n(r),a=n(4),o=n.n(a),s=n(1),c=n.n(s),u=n(44),l=function(){function e(){i()(this,e),c()(this,"_reducedMotionEnabled",!1)}return o()(e,[{key:"reducedMotionEnabled",get:function(){return u.canUseDOM&&void 0===this._reducedMotionEnabled&&(this._reducedMotionEnabled=window.matchMedia&&window.matchMedia("(prefers-reduced-motion)").matches),this._reducedMotionEnabled}},{key:"setReducedMotion",value:function(e){this._reducedMotionEnabled=e}}]),e}();t.a=new l},811:function(e,t,n){"use strict";n(62),n(25),n(47),n(30),n(39),n(17),n(20),n(48);var r=n(2),i=n.n(r),a=n(3),o=n.n(a),s=n(4),c=n.n(s),u=n(7),l=n.n(u),d=n(18),p=n.n(d),f=n(22),h=n.n(f),y=n(11),v=n.n(y),m=n(1),_=n.n(m),g=(n(40),n(71),n(0)),b=n(44),E=n(5),T=(n(101),n(87)),O=n(34);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var w=function(e){p()(n,e);var t=S(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),_()(l()(e),"_ref",g.createRef()),_()(l()(e),"_handleRef",(function(t){e._ref.current=t,e.props.forwardedRef&&("function"==typeof e.props.forwardedRef?e.props.forwardedRef(t):e.props.forwardedRef.current=t)})),_()(l()(e),"_handleMessage",(function(t){var n,r,i=e.props,a=i.onMessage,o=i.reportError;if(a&&("string"!=typeof t.data||0!==t.data.indexOf("setImmediate$"))){if(t.origin!=="".concat(window.location.protocol,"//").concat(window.location.host))return o?o("Invalid cross-origin postMessage from ".concat(t.origin)):null;var s;if((null===(n=e._ref)||void 0===n||null===(r=n.current)||void 0===r?void 0:r.contentWindow)===t.source)if(t.stopImmediatePropagation(),"string"==typeof t.data&&"undefined"!==t.data){try{s=JSON.parse(t.data)}catch(e){return void(o&&o("Invalid postMessage data from ".concat(t.origin,": ").concat(t.data)))}a(s)}}})),e}return c()(n,[{key:"componentDidMount",value:function(){var e;this.props.onMessage&&(e=this._handleMessage,b.canUseDOM&&window.addEventListener("message",e,!1))}},{key:"componentWillUnmount",value:function(){var e;this.props.onMessage&&(e=this._handleMessage,b.canUseDOM&&window.removeEventListener("message",e,!1))}},{key:"render",value:function(){var e=this.props,t=e.allowForms,n=e.dangerouslyDisableSandbox,r=e.src,i=e.style,a=e.title,o=Object(T.default)("iframe",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({allow:"autoplay; fullscreen",allowFullScreen:!0,ref:this._handleRef,src:r,style:P.iframe,title:a},n?null:{sandbox:"allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts".concat(t?" allow-forms":"")}));return g.createElement(O.default,{style:[P.root,i]},o)}}]),n}(g.Component);w.propTypes={};var P=E.a.create((function(e){return{root:{overflow:"auto",WebkitOverflowScrolling:"touch"},iframe:{borderWidth:0,flexGrow:1}}}));t.a=g.forwardRef((function(e,t){return g.createElement(w,i()({forwardedRef:t},e))}))},813:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));n(62),n(25),n(47),n(30),n(39),n(17),n(20),n(48),n(550),n(551),n(232),n(233);var r=n(36),i=n.n(r),a=n(41),o=n.n(a),s=n(3),c=n.n(s),u=n(4),l=n.n(u),d=n(7),p=n.n(d),f=n(18),h=n.n(f),y=n(22),v=n.n(y),m=n(11),_=n.n(m),g=n(1),b=n.n(g),E=(n(40),n(383),n(69),n(100),n(0));function T(e){var t=function(e,t){if("object"!==i()(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i()(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i()(t)?t:String(t)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var i=_()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var w=function(e){h()(n,e);var t=S(n);function n(){var e;c()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"state",{playerApi:void 0,playerState:void 0,guestsState:void 0}),b()(p()(e),"_initializeState",(function(t){t&&(e._unsubscribe&&e._unsubscribe(),e.setState({playerApi:t}),e._unsubscribe=t.subscribe((function(t,n){return e.setState({playerState:t,guestsState:n})})))})),e}return l()(n,[{key:"componentDidMount",value:function(){this._initializeState(this.props.playerApi)}},{key:"componentDidUpdate",value:function(e){var t=this.props.playerApi;t!==e.playerApi&&this._initializeState(t)}},{key:"render",value:function(){return this.props.children(this.state)}}]),n}(E.Component),P=function(e){h()(n,e);var t=S(n);function n(){var e;c()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),b()(p()(e),"state",{players:{}}),b()(p()(e),"_mounted",!1),b()(p()(e),"_registerPlayer",(function(t,n){var r=new Promise((function(r){setTimeout((function(){e._mounted?e.setState((function(e){return{players:I(I({},e.players),{},b()({},t,n))}}),r):r()}))}));return function(){r.then((function(){return e._unregisterPlayer(t)}))}})),b()(p()(e),"_unregisterPlayer",(function(t){e._mounted&&e.setState((function(n){var r=e.state.players;r[t];return{players:o()(r,[t].map(T))}}))})),b()(p()(e),"_registrationContext",{registerPlayer:e._registerPlayer}),e}return l()(n,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){return E.createElement(n.RegistrationContext.Provider,{value:this._registrationContext},E.createElement(n.ProviderContext.Provider,{value:this.state},this.props.children))}}]),n}(E.Component);b()(P,"MetadataSubscriber",(function(e){var t=e.playerId,n=e.children;return E.createElement(P.ProviderContext.Consumer,null,(function(e){var r=e.players;return E.createElement(w,{playerApi:r&&r[t]},n)}))})),b()(P,"RegistrationContext",E.createContext({registerPlayer:void 0})),b()(P,"ProviderContext",E.createContext({players:{}}))},814:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(70);var r=Object.freeze({BROADCAST:"broadcast",DM:"dm",TWEET:"tweet",STATIC_BROADCAST:"static_broadcast"})},815:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return p}));var r=n(1),i=n.n(r),a=(n(380),n(30),n(105),n(21),n(72),n(100),n(69),n(25),n(47),n(39),n(17),n(20),n(48),n(816));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e,t){if(e.tracks)return e.tracks.find((function(e){return e.id===t}))},u=function(e){return c(e,e.currentTrackId)},l=function(e){return e.tracks?e.tracks.filter((function(t){return t.id!==e.currentTrackId})):[]},d=new RegExp(/^https:\/\/[\w-]+.twimg.com\/.+\.m3u8/),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(f)},f=function(e){var t=e.src;if(d.test(t)){var n=new a.a(t);n.addSearchParam("descending",!0),t=n.toString()}return s(s({},e),{},{src:t})}},816:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(3),i=n.n(r),a=n(4),o=n.n(a);n(128),n(100),n(25),n(40),n(399),n(69),n(102),n(103),n(129),n(89),n(21),n(235);function s(e){return Object.keys(e).map((function(t){var n=void 0===e[t]?"":encodeURIComponent(e[t]);return"".concat(encodeURIComponent(t),"=").concat(n)})).join("&")}var c=function(){function e(t){i()(this,e);try{this.parser=new URL(t)}catch(e){this.parser=document.createElement("a"),this.parser.href=t}}return o()(e,[{key:"getHostname",value:function(){return this.parser.hostname}},{key:"getPath",value:function(){return this.parser.pathname}},{key:"isSafe",value:function(){return!!this.parser.protocol.match(/^https?:$/)}},{key:"addSearchParam",value:function(e,t){this.parser.search?this.parser.search="".concat(this.parser.search,"&").concat(e,"=").concat(t):this.parser.search="?".concat(e,"=").concat(t)}},{key:"toString",value:function(){return this.parser.href}}]),e}();t.a=c},817:function(e,t,n){"use strict";n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return O}));var r=n(3),i=n.n(r),a=n(4),o=n.n(a),s=n(1),c=n.n(s),u=n(41),l=n.n(u),d=(n(128),n(383),n(69),n(40),n(47),n(232),n(384),n(25),n(30),n(39),n(17),n(20),n(48),n(756)),p=n(758),f=n(754),h=n(815),y=n(814);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{ids:e.join(","),include_events:t}},g=function(e,t,n){try{return e.dispatch({method:"GET",host:"https://api.twitter.com",path:"/1.1/broadcasts/show.json",params:_([t],n),withCredentials:!0}).then((function(e){if(200!==e.status)return Promise.reject("".concat(f.a.BROADCAST_REQUEST_ERROR,":").concat(e.status));var n=JSON.parse(e.body),r=n.broadcasts,i=n.events;if(!r||!r[t]||!r[t].broadcast_id)return Promise.reject(f.a.BROADCAST_NOT_FOUND);if("RUNNING"!==r[t].state&&!r[t].available_for_replay)return Promise.reject(f.a.BROADCAST_ENDED_NO_REPLAY);var a={broadcast:r[t]};return i&&i[t]&&i[t].length&&(a.associatedEvent=i[t][0]),a}),(function(e){return console.log(e),Promise.reject(f.a.BROADCAST_REQUEST_ERROR)}))}catch(e){return Promise.reject(e)}},b=function(e){var t=e.broadcast,n=e.associatedEvent,r=void 0===n?{}:n,i=t.state,a=t.total_watched,o=t.total_watching,s=t.image_url,c=t.start_ms,u=t.ping_ms,l=t.timedout_ms,d=t.end_ms,f=r.description,h=r.title,y=r.url,v=r.id,m="RUNNING"===i,_=s,g=parseInt(o,10)||0,b=parseInt(a,10)||0,E={isLive:m,viewerCount:m?g:b,posterImage:_,eventDescription:f,eventTitle:h,eventUrl:y,eventId:v};if(h&&y&&(E.cta={label:h,type:p.a.EVENT,url:y}),!m){var T=(d||l||u||c)-c;E.durationMs=T}return E},E=function(e){return e.source&&e.source.type===y.a.BROADCAST},T=function(){function e(t,n,r,a,o){i()(this,e),this.dispatch=t,this.httpClient=n,this.playerId=r,this.broadcastId=a,this.includeBroadcastEventAssociation=o,this.updaterTimeout=null}return o()(e,[{key:"queueUpdate",value:function(e){var t,n,r=this,i=e?15:30,a=new Promise((function(e,r){t=e,n=r}));return this.updaterTimeout=setTimeout((function(){var e,i,a;(e=r.httpClient,i=r.broadcastId,a=r.includeBroadcastEventAssociation,g(e,i,a).then((function(e){return b(e)}),(function(e){throw new Error(e)}))).then((function(e){null!=r.updaterTimeout&&(r.queueUpdate(e.isLive),r.dispatch(Object(d.f)(r.playerId,e))),t()}),(function(e){console.log(e),n(e)}))}),1e3*i),a}},{key:"cancelUpdate",value:function(){clearTimeout(this.updaterTimeout),this.updaterTimeout=null}}]),e}(),O=function(){function e(t,n){i()(this,e),this.httpClient=t,this.includeBroadcastEventAssociation=n}return o()(e,[{key:"load",value:function(e){return this.httpClient?function(e,t,n){if(!E(t))return Promise.resolve(t);var r=t.source.id;return g(e,r,n).then((function(e){var n,r,i,a,o,s,c,u,d,p,f=Object(h.d)(t,0),y=(n=e.broadcast,r=n.broadcast_id,i=n.media_key,a=n.profile_image_url,o=n.replay_edited_start_time,s=n.requires_fine_grain_geoblocking,c=n.twitter_user_id,u=n.user_id,d=n.unavailable_in_periscope,p=n.user_display_name,{broadcastId:r,contentId:i,contentType:"broadcast",displayType:"content",expandedUrl:"https://www.pscp.tv/w/".concat(r),isEventGeoblocked:s,playbackType:"application/x-mpegURL",publisherDisplayName:p,publisherId:c,periscopePublisherId:u,publisherProfileImageUrl:a,replayEditedStartTime:o,shouldLoop:!1,unavailableInPeriscope:d}),v=b(e),_=v.cta,g=v.durationMs,E=v.isLive,T=v.viewerCount,O=v.viewCount,I=l()(v,["cta","durationMs","isLive","viewerCount","viewCount"]);return t.posterImage&&delete I.posterImage,m(m(m({},t),I),{},{client:"web",tracks:[m(m(m({},f),y),{},{cta:_,durationMs:g,id:0,isLive:E,viewerCount:T,viewCount:O})],currentTrackId:0,source:m(m({},t.source),{},{trackId:0})})}),(function(e){throw new Error(e)}))}(this.httpClient,e,this.includeBroadcastEventAssociation):Promise.reject(f.a.MEDIA_TEARDOWN_ERROR)}}]),e}()},818:function(e,t,n){"use strict";n(383),n(69);var r=n(0),i=n(180),a=Object(i.a)({loader:function(){return n.e(49).then(n.bind(null,1601))},renderPlaceholder:function(){return r.createElement("div",null)}});t.a=a},831:function(e,t,n){"use strict";n.d(t,"a",(function(){return K}));n(62);var r=n(3),i=n.n(r),a=n(4),o=n.n(a),s=n(7),c=n.n(s),u=n(18),l=n.n(u),d=n(22),p=n.n(d),f=n(11),h=n.n(f),y=n(1),v=n.n(y),m=(n(40),n(0)),_=n(26),g=n(385),b=n(391),E=n(127),T=n.n(E),O=n(381),I=n(99),S=n(5),w=(n(25),n(47),n(30),n(39),n(17),n(20),n(48),n(1558),n(100),n(810)),P=n(414),A=n(496),D=n.n(A),R=n(772),C=n(31),k=n(34),L=n(740),M=n(1560);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var x={stiffness:267,damping:20},U=function(e){l()(n,e);var t=j(n);function n(e,r){var a;i()(this,n),a=t.call(this,e,r),v()(c()(a),"_handleResize",(function(){window.requestAnimationFrame((function(){return window.requestAnimationFrame((function(){return a._setDimensions(!0)}))}))})),v()(c()(a),"_handleLayout",(function(){a._setDimensions(!0)})),v()(c()(a),"_shouldRenderItem",(function(e){var t=a.props.shouldRenderAll,n=a.state,r=n.currentItem,i=n.itemsToShow,o=r+2*Math.ceil(i);return e<=r||e<o||!!t})),v()(c()(a),"_handleKeyPress",(function(e){a.props.locked||(39===e.keyCode?a._handleKeyRight(e):37===e.keyCode&&a._handleKeyLeft(e))})),v()(c()(a),"_handleKeyRight",(function(e){e&&e.stopPropagation(),a._goToItem(a.state.currentItem+(C.default.getConstants().isRTL?-1:1))})),v()(c()(a),"_handleKeyLeft",(function(e){e&&e.stopPropagation(),a._goToItem(a.state.currentItem-(C.default.getConstants().isRTL?-1:1))})),v()(c()(a),"_handleTouchStart",(function(e){if(!(e.touches&&e.touches.length>1)){var t=e.changedTouches[0].clientX;a._handleSwipeStart(e,t)}})),v()(c()(a),"_handleTouchMove",(function(e){if(!(e.touches&&e.touches.length>1)){var t=e.changedTouches[0].clientX;a._handleSwipeMove(e,t)}})),v()(c()(a),"_handleTouchEnd",(function(e){var t=e.changedTouches[0].clientX;a._handleSwipeEnd(e,t)})),v()(c()(a),"_handleSwipeStart",(function(e,t){a.props.locked||(e.preventDefault(),a._xPos=t,a._swipeStart=Date.now(),a._isSwiping=!1)})),v()(c()(a),"_handleSwipeMove",(function(e,t){if(!a.props.locked&&null!=a._xPos){var n=a._xPos-t;Math.abs(n)<10||(e.preventDefault(),a.setState((function(e){if("number"==typeof e.itemWidth)return{disableAnimation:!1,transformLeft:(C.default.getConstants().isRTL?1:-1)*e.itemWidth*e.currentItem-n}})),a._isSwiping=!0)}})),v()(c()(a),"_handleSwipeEnd",(function(e,t){var n=a.state,r=n.currentItem,i=n.itemWidth;if(!a._isSwiping||"number"!=typeof a._xPos||"number"!=typeof i||"number"!=typeof a._swipeStart)return a._isSwiping=!1,void(a._xPos=null);e.preventDefault();var o=(a._xPos||0)-t,s=Math.abs(o),c=s/(Date.now()-(a._swipeStart||0));s>i/3||c>.6?a._goToItem(r+(C.default.getConstants().isRTL?-1:1)*Math.sign(o)):a._goToItem(r),a._isSwiping=!1,a._xPos=null})),v()(c()(a),"_handleOnRest",(function(){var e=a.props.onRest,t=a.state.currentItem;e&&e(t)})),v()(c()(a),"_transitionComplete",(function(){var e=a.props.onChange,t=a.state;e(t.currentItem,t.direction),a._animationDisabled()&&a._handleOnRest()})),v()(c()(a),"_setDimensions",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.props,n=t.itemWidth,r=t.itemsToShow,i=!n&&r?a._getFrameOffsetWidth()/r:n,o=n?a._getFrameOffsetWidth()/n:r||1;"number"==typeof i&&a.setState({itemWidth:i,itemsToShow:o},(function(){a.setState((function(t){return{areDimensionsSet:!0,disableAnimation:e,transformLeft:a._getLeftForItem(t.currentItem,i)}}))}))})),v()(c()(a),"_setSwipeableNode",(function(e){a._swipeableNode=e})),v()(c()(a),"_animationDisabled",(function(){return w.a.reducedMotionEnabled&&!a._isSwiping||a.state.disableAnimation}));var o=a.props,s=o.itemsToShow,u=o.itemWidth;return a._checkComponentPropsUsageCorrectness(s,u),a.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({disableAnimation:!1,areDimensionsSet:!1,currentItem:e.currentItem,transformLeft:0},u?{itemsToShow:0,itemWidth:u}:{itemWidth:0,itemsToShow:s||1}),a._springOptions=R.a.isTouchSupported()?x:M.presets.noWobble,a._isSwiping=!1,a._xPos=null,a}return o()(n,[{key:"componentDidMount",value:function(){this._setDimensions(),window.addEventListener("resize",this._handleResize),this.props.disabledKeyboardNavigation||window.document.addEventListener("keydown",this._handleKeyPress),this._swipeableNode&&(this._removeTouchListener=Object(P.a)(this._swipeableNode,this._handleTouchMove,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._handleResize),this._removeTouchListener&&this._removeTouchListener(),window.document.removeEventListener("keydown",this._handleKeyPress)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.currentItem!==this.props.currentItem&&e.currentItem!==this.state.currentItem&&this._goToItem(e.currentItem,!0)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.disabledKeyboardNavigation,r=t.itemsToShow,i=t.itemWidth;this._checkComponentPropsUsageCorrectness(r,i),e.disabledKeyboardNavigation!==n&&(n?window.document.removeEventListener("keydown",this._handleKeyPress):window.document.addEventListener("keydown",this._handleKeyPress))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.cellSpacing,r=e.style,i=e.setParentHeight,a=m.Children.count(t),o=n*a,s=this.state,c=s.transformLeft,u=s.itemWidth,l={transformLeft:this._animationDisabled()?c:Object(M.spring)(c,this._springOptions)},d=this._renderItems(t);return m.createElement(k.default,{onLayout:this._handleLayout,onTouchEnd:this._handleTouchEnd,onTouchStart:this._handleTouchStart,ref:this._setSwipeableNode,style:[B.root,r]},this.state.areDimensionsSet?m.createElement(M.Motion,{onRest:this._handleOnRest,style:l},(function(e){var t=e.transformLeft;return m.createElement(k.default,{accessibilityRole:"list",onLayout:function(e){i&&i(e.nativeEvent.layout.height)},style:[B.list,i&&B.autoHeight,{marginLeft:-.5*n,marginRight:-.5*n,transform:[{translate3d:"".concat(t,"px, 0, 0")}],width:u&&a?"".concat(u*a+o,"px"):"100%"}]},d)})):null)}},{key:"_renderItems",value:function(e){var t=this,n=this.props.cellSpacing,r=this.state.itemWidth;return m.Children.toArray(m.Children.map(e,(function(e,i){return m.createElement(k.default,{accessibilityRole:"listitem",style:[B.item,{width:r?"".concat(r,"px"):"100%",marginLeft:"".concat(n/2,"px"),marginRight:"".concat(n/2,"px")}]},t._shouldRenderItem(i)?e:null)})))}},{key:"_goToItem",value:function(e,t){var n=this.state,r=n.currentItem,i=n.itemWidth,a=this.props.children,o=e,s=o>r?"next":"prev";(e<0||e>=m.Children.count(a))&&(o=r),"number"==typeof i&&this.setState({disableAnimation:!1,currentItem:o,transformLeft:this._getLeftForItem(o,i),direction:s},r===o||t?I.a:this._transitionComplete)}},{key:"_getLeftForItem",value:function(e,t){return(t*e+this.props.cellSpacing*e)*(C.default.getConstants().isRTL?1:-1)}},{key:"_getFrameOffsetWidth",value:function(){var e=this._swipeableNode;return e&&e instanceof window.HTMLElement?e.offsetWidth:0}},{key:"_checkComponentPropsUsageCorrectness",value:function(e,t){var n=!e&&Object(L.a)(t),r=!t&&Object(L.a)(e),i=!t&&!e;D()(n||r||i,"Requires itemsToShow OR itemWidth, both cannot be set")}},{key:"getItemsToShow",value:function(){return this.state.itemsToShow}},{key:"getItemWidth",value:function(){return this.state.itemWidth}},{key:"goToNextItem",value:function(){this._goToItem(this.state.currentItem+Math.max(Math.floor(this.state.itemsToShow),1))}},{key:"goToPreviousItem",value:function(){var e=this.state.currentItem-Math.max(Math.floor(this.state.itemsToShow),1);this._goToItem(e>=0?e:0)}}]),n}(m.PureComponent);v()(U,"defaultProps",{cellSpacing:0,currentItem:0,disabledKeyboardNavigation:!1,locked:!1,onChange:I.a,shouldRenderAll:!1});var B=S.a.create((function(e){return{root:{flexGrow:1,transform:[{translate3d:"0,0,0"}]},list:{height:"100%",padding:"0",position:"absolute",transform:[{translate3d:"0,0,0"}],display:"flex",flexDirection:"row"},item:{boxSizing:"border-box",display:"inline-flex",flexDirection:"column",height:"100%",marginVertical:"auto"},autoHeight:{height:"auto"}}})),F=(n(101),n(747));function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var W=T.a.d70740d9,G=T.a.c4d53ba2,H=T.a.h6405c17,Y={viewType:"previous"},z={viewType:"next"},K=function(e){l()(n,e);var t=V(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),v()(c()(e),"_nextButtonRef",m.createRef()),v()(c()(e),"_prevButtonRef",m.createRef()),v()(c()(e),"_swipeableRef",m.createRef()),v()(c()(e),"_enableAccessibilityAlert",!1),v()(c()(e),"_handleChange",(function(t,n){(0,e.props.onChange)(t),e._handleFocus(t,n),e._enableAccessibilityAlert=!0})),v()(c()(e),"_handleNextSlide",(function(t){t.stopPropagation(),e._swipeableRef.current&&e._swipeableRef.current.goToNextItem()})),v()(c()(e),"_handlePreviousSlide",(function(t){t.stopPropagation(),e._swipeableRef.current&&e._swipeableRef.current.goToPreviousItem()})),e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.childContainerStyle,i=t.cellSpacing,a=t.currentSlide,o=t.transitionAccessibilityLabel,s=t.locked,c=t.childWidth,u=t.shouldAlwaysEnableKeyboardNavigation,l=t.slidesToShow,d=t.setParentHeight,p=t.shouldRenderAll,f=t.onRest,h=m.Children.count(n),y=H({currentSlide:a+1,itemCount:h}),v=o||y;return m.createElement(m.Fragment,null,m.createElement(_.c,{style:S.a.visuallyHidden},y),m.createElement(O.a,{accessibilityRole:"group",accessibilityRoleDescription:"carousel",interactiveStyles:null,style:q.root},(function(t){var o=t.isHovered,h=t.isFocusedWithin,y=t.isFocused;return m.createElement(m.Fragment,null,m.createElement(U,{cellSpacing:i,children:n,currentItem:a,disabledKeyboardNavigation:!(u||o||y||h),itemWidth:l?void 0:c,itemsToShow:c?void 0:l||1,locked:s,onChange:e._handleChange,onRest:f,ref:e._swipeableRef,setParentHeight:d,shouldRenderAll:p,style:r}),!R.a.isTouchSupported()||b.a.isEnabled?e._renderNavButtons(o||h):null)})),m.createElement(_.c,{accessibilityLabel:this._enableAccessibilityAlert?v:"",accessibilityLiveRegion:"polite",style:S.a.visuallyHidden}))}},{key:"_handleFocus",value:function(e,t){var n=0===e,r=e===m.Children.count(this.props.children)-1;"next"===t&&!r&&this._nextButtonRef&&this._nextButtonRef.current&&this._nextButtonRef.current.focus(),"prev"===t&&!n&&this._prevButtonRef&&this._prevButtonRef.current&&this._prevButtonRef.current.focus(),n&&this._prevButtonRef&&this._prevButtonRef.current&&this._prevButtonRef.current.blur(),r&&this._nextButtonRef&&this._nextButtonRef.current&&this._nextButtonRef.current.blur()}},{key:"_renderNavButtons",value:function(e){var t,n=this,r=this.props,i=r.currentSlide,a=r.dominantColor,o=r.showNavButtonsOnHover,s=r.withOffscreenNavOverlay,c=r.withReducedNavButtonClickArea,u=m.Children.count(this.props.children),l=u<=this._getSlidesToShow()&&0===i,d=0===i,p=i+this._getSlidesToShow()>=u,f=(null===(t=this._swipeableRef.current)||void 0===t?void 0:t.getItemWidth())||0;return l?null:m.createElement(k.default,{pointerEvents:"box-none",style:[q.navButtons,d&&q.navButtonsRight,p&&q.navButtonsLeft,o&&!e&&q.navButtonsHidden]},d?null:m.createElement(O.a,{focusable:!1,interactiveStyles:null,onClick:this._handlePreviousSlide,style:[q.navButtonContainer,c&&q.navButtonContainerTight,q.navButtonContainerLeft]},(function(e){return m.createElement(m.Fragment,null,m.createElement(g.a,{accessibilityLabel:G,clientEventContext:Y,dominantColor:a,icon:m.createElement(F.IconArrowLeft,null),interactivityState:e,onClick:n._handlePreviousSlide,ref:n._prevButtonRef,style:q.navButton,type:"onMedia"}),s&&m.createElement(k.default,{style:[q.offscreenNavOverlay,q.prevOffscreenNavOverlay,{marginRight:n.props.cellSpacing,width:f}],testID:"Carousel-offscreenNavLeft"}))})),p?null:m.createElement(O.a,{focusable:!1,interactiveStyles:null,onClick:this._handleNextSlide,style:[q.navButtonContainer,c&&q.navButtonContainerTight,q.navButtonContainerRight]},(function(e){return m.createElement(m.Fragment,null,m.createElement(g.a,{accessibilityLabel:W,clientEventContext:z,dominantColor:a,icon:m.createElement(F.IconArrowRight,null),interactivityState:e,onClick:n._handleNextSlide,ref:n._nextButtonRef,style:q.navButton,type:"onMedia"}),s&&m.createElement(k.default,{style:[q.offscreenNavOverlay,q.nextOffscreenNavOverlay,{marginLeft:n.props.cellSpacing,width:f}],testID:"Carousel-offscreenNavRight"}))})))}},{key:"_getSlidesToShow",value:function(){return this.props.slidesToShow||this._swipeableRef.current&&this._swipeableRef.current.getItemsToShow()||1}}]),n}(m.Component);v()(K,"defaultProps",{cellSpacing:0,currentSlide:0,locked:!1,onChange:I.a,shouldAlwaysEnableKeyboardNavigation:!1,withReducedNavButtonClickArea:!1}),K.propTypes={};var q=S.a.create((function(e){return{root:{flex:1},navButtons:{height:"100%",position:"absolute",transitionProperty:"opacity",transitionDuration:"0.2s",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},navButtonContainer:{height:"100%",justifyContent:"center",pointer:"cursor",position:"static"},navButtonContainerTight:{height:"auto",paddingVertical:50},navButtonContainerLeft:{paddingRight:10},navButtonContainerRight:{paddingLeft:10},navButtonsRight:{justifyContent:"flex-end"},navButtonsLeft:{justifyContent:"flex-start"},navButton:{margin:e.spaces.space12},navButtonsHidden:{opacity:0},offscreenNavOverlay:{bottom:0,cursor:"pointer",position:"absolute",top:0},nextOffscreenNavOverlay:{left:"100%"},prevOffscreenNavOverlay:{right:"100%"}}}))},833:function(e,t,n){"use strict";n(71),n(548);var r="STRING",i="BOOLEAN",a="IMAGE",o="IMAGE_COLOR",s="USER",c=n(746),u=r,l=a,d=o,p=i,f=s,h=function(e,t){var n=e&&e[t];if(!n)return null;switch(n.type){case u:return n.string_value;case l:return n.image_value;case d:return n.image_color_value;case p:return n.boolean_value;case f:return n.user_value;default:return null}};t.a={CardNames:c.a,getBindingValue:h,isPollCard:function(e){return e&&0===e.indexOf("poll")},isVineCard:function(e){var t,n,r,i=(e||{}).binding_values;return e.name===c.a.PLAYER&&("vine.co"===(null===(t=h(i,"domain"))||void 0===t?void 0:t.toLowerCase())||"586671909"===(null===(n=h(i,"site"))||void 0===n?void 0:n.id_str)||"vine"===(null===(r=h(i,"app_name"))||void 0===r?void 0:r.toLowerCase()))}}},835:function(e,t,n){"use strict";n(25),n(47),n(30),n(39),n(17),n(20),n(48);var r=n(1),i=n.n(r),a=n(59),o=n.n(a),s=n(0),c=n(5);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t=e.children,n=s.useState({scale:c.a.theme.scale,nextScale:c.a.theme.scale,themeKey:c.a.theme.key,nextTheme:c.a.theme.key}),r=o()(n,2),i=r[0],a=r[1];return s.useEffect((function(){return c.a.onThemeChange((function(e){a(l(l({},i),{},{themeKey:e.key,scale:e.scale}))}))}),[i]),s.createElement(s.Fragment,{key:i.themeKey},t)}},837:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"==typeof e[n]?e[n]:e[n].val);return t},e.exports=t.default},838:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));n(62);var r=n(3),i=n.n(r),a=n(4),o=n.n(a),s=n(18),c=n.n(s),u=n(22),l=n.n(u),d=n(11),p=n.n(d),f=n(1),h=n.n(f),y=(n(100),n(987),n(104)),v=n(0),m=n(765),_=n(759),g=n(752),b=n(177),E=n(381),T=n(771),O=n(5),I=n(34);n(101);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var w={},P=function(e){c()(n,e);var t=S(n);function n(e){var r;if(i()(this,n),r=t.call(this,e),e.cacheLocationKey){var a=e.cacheLocationKey;r._cacheGroup=w[a],r._cacheGroup||(r._cacheGroup=n.generateCacheGroup(6),w[a]=r._cacheGroup)}return r}return o()(n,[{key:"render",value:function(){switch(this._getGroupSize()){case 0:return null;case 1:return this._renderGroupOf1();case 2:return this._renderGroupOf2();case 3:return this._renderGroupOf3();case 4:return this._renderGroupOf4();case 5:return this._renderGroupOf5();default:return this._renderGroupOf6()}}},{key:"_renderGroupOf1",value:function(){var e=this.props,t=e.singleImageMaxAspectRatio,n=e.singleImageMinAspectRatio,r=this._cacheGroup?this._cacheGroup[0]:void 0;return this._renderImageAtIndex(0,_.a.withinRange(n,t),null,r)}},{key:"_renderGroupOf2",value:function(){return v.createElement(A,{containerAspectRatio:this.props.containerAspectRatio},this._groupImage(0,2,C.gutterRight),this._groupImage(1,2))}},{key:"_renderGroupOf3",value:function(){return v.createElement(A,{containerAspectRatio:this.props.containerAspectRatio},this._groupImage(0,3,C.gutterRight),v.createElement(D,null,this._groupImage(1,3,C.gutterBottom),this._groupImage(2,3)))}},{key:"_renderGroupOf4",value:function(){return v.createElement(A,{containerAspectRatio:this.props.containerAspectRatio},v.createElement(D,{style:C.gutterRight},this._groupImage(0,4,C.gutterBottom),this._groupImage(2,4)),v.createElement(D,null,this._groupImage(1,4,C.gutterBottom),this._groupImage(3,4)))}},{key:"_renderGroupOf5",value:function(){return v.createElement(A,{column:!0,containerAspectRatio:this.props.containerAspectRatio},v.createElement(R,{style:C.gutterBottom},this._groupImage(0,5,C.gutterRight),this._groupImage(1,5)),v.createElement(R,null,this._groupImage(2,5,C.gutterRight),this._groupImage(3,5,C.gutterRight),this._groupImage(4,5)))}},{key:"_renderGroupOf6",value:function(){return v.createElement(A,{column:!0,containerAspectRatio:this.props.containerAspectRatio},v.createElement(R,{style:C.gutterBottom},this._groupImage(0,6,C.gutterRight),this._groupImage(1,6,C.gutterRight),this._groupImage(2,6)),v.createElement(R,null,this._groupImage(3,6,C.gutterRight),this._groupImage(4,6,C.gutterRight),this._groupImage(5,6)))}},{key:"_groupImage",value:function(e,t,n){var r=this._cacheGroup?this._cacheGroup[t-1]:void 0;return this._renderImageAtIndex(e,_.a.COVER,[C.item,C.relativePositioning,n],r)}},{key:"_renderImageAtIndex",value:function(e,t,n,r){var i=this.props,a=i.images,o=i.previewMode,s=i.onClick,c=i.onVariantSelection,u=i.testID,l=i.withLink,d=a[e],p="string"==typeof d.expandedUrl?{pathname:d.expandedUrl}:d.expandedUrl,f=d.id_str?{type:"image",imageId:d.id_str}:void 0;return v.createElement(y.a,{viewState:f,viewType:"image"},v.createElement(E.a,{interactiveStyles:null,link:l?p:void 0,onClick:s,style:n},v.createElement(m.a,{accessibilityLabel:d.accessibilityLabel,aspectMode:t,backgroundColor:d.backgroundColor,cropCandidates:d.cropCandidates,image:d,layoutCache:r?r[e]:void 0,onVariantSelection:c,previewMode:o,testID:u,withLoadingIndicator:!0}),d.shouldShowAltLabel?v.createElement(T.a,{align:"left",bold:!0},"ALT"):null))}},{key:"_getGroupSize",value:function(){var e=this.props.images.length;return 0===e&&b.a.report(new Error("TweetPhotos: empty array of images received")),Math.min(e,6)}}]),n}(v.Component);h()(P,"defaultProps",{withLink:!0}),h()(P,"generateCacheGroup",(function(e){return new Array(e).fill(null).map((function(e,t){return new Array(t+1).fill(null).map((function(e){return m.a.createLayoutCache()}))}))})),P.propTypes={};var A=function(e){var t=e.children,n=e.containerAspectRatio,r=void 0===n?O.a.theme.aspectRatios.landscape:n,i=e.column,a=void 0!==i&&i;return v.createElement(g.a,{ratio:r},v.createElement(I.default,{style:[C.wideContainer,a?C.column:C.row]},t))},D=function(e){var t=e.style,n=e.children;return v.createElement(I.default,{style:[t,C.item,C.column]},n)},R=function(e){var t=e.style,n=e.children;return v.createElement(I.default,{style:[t,C.item,C.row]},n)},C=O.a.create((function(e){return{wideContainer:{width:"100%",height:"100%"},row:{flexDirection:"row"},column:{flexDirection:"column"},gutterRight:{marginRight:"2px"},gutterBottom:{marginBottom:"2px"},item:{flexGrow:1,flexBasis:0},relativePositioning:{position:"relative"}}}))},839:function(e,t,n){"use strict";n(62),n(47),n(39),n(17),n(20),n(48);var r=n(2),i=n.n(r),a=n(41),o=n.n(a),s=n(67),c=n.n(s),u=n(3),l=n.n(u),d=n(4),p=n.n(d),f=n(7),h=n.n(f),y=n(18),v=n.n(y),m=n(22),_=n.n(m),g=n(11),b=n.n(g),E=n(1),T=n.n(E),O=(n(40),n(386),n(30),n(100),n(394),n(54),n(21),n(25),n(0)),I=n(26),S=n(8),w=n(5),P=n(236),A=(n(101),n(388));function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){T()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var i=b()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _()(this,n)}}var k=function(e){v()(n,e);var t=C(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),T()(h()(e),"_getTextParts",(function(){var t=e.props,n=t.displayTextRange,r=t.entities,i=t.entityBaseUrl,a=t.linkify,o=t.hitHighlights,s=t.quotedTweetPermalink,u=t.text,l=t.withQuoteLinks,d=u,p=r,f=r&&r.urls&&r.urls.length;if(s&&!f&&l&&(d="".concat(u," ").concat(a?s.url:s.display),a)){var h=c()(u).length+1;p=R(R({media:[]},r),{},{urls:[{display_url:s.display,expanded_url:s.expanded,url:s.url,indices:[h,h+s.url.length]}]})}var y=[0,d.length],v=[(n||y)[0],d.length],m=o||[];return P.a.tweetTextParts(d,v,p,{useHashtagUrl:!0,hitHighlights:m,baseUrl:i})})),e}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.displayTextRange,n=(e.entities,e.entityBaseUrl,e.excludeCardUrl),r=(e.hitHighlights,e.lang),a=e.linkColor,s=e.linkify,c=e.nativeID,u=e.numberOfLines,l=e.onEntityClick,d=e.quotedTweetId,p=(e.quotedTweetPermalink,e.style),f=(e.text,e.transformUrl),h=e.underlineLinks,y=e.withCardLinks,v=e.withMediaLinks,m=e.withQuoteLinks,_=o()(e,["displayTextRange","entities","entityBaseUrl","excludeCardUrl","hitHighlights","lang","linkColor","linkify","nativeID","numberOfLines","onEntityClick","quotedTweetId","quotedTweetPermalink","style","text","transformUrl","underlineLinks","withCardLinks","withMediaLinks","withQuoteLinks"]),g=this._getTextParts(),b=g.some((function(e){return e.entityType===S.a.MEDIA})),E=b&&!v,T=d&&!m,w=g.map((function(e,r){var i=r===g.length-1,a=!!e.tweetId&&e.tweetId===d;if(!v&&e.entityType===S.a.MEDIA)return null;if(a&&b&&e.indices&&t[1]===e.indices[1])return null;if(i){if(a&&T&&!E)return null;if(!E&&!T&&!y&&n&&(n===e.url||n===e.expandedUrl))return null}return e})).filter(Boolean),P=w.map((function(e,t){var n=t===w.length-1;if(e.entityType===S.a.TEXT){var r=e,i="".concat(e.prefix).concat(e.text).trim();return!n&&0!==t||i?(n&&(r=R(R({},e),{},{text:e.text.replace(/(\s+$)/g,"")})),O.createElement(A.b,{key:t,linkColor:a,linkify:s,onClick:l,part:r,transformUrl:f,underlineLinks:h})):null}return O.createElement(A.b,{key:t,linkColor:a,linkify:s,onClick:l,part:e,transformUrl:f,underlineLinks:h})})).filter(Boolean);return P.length?O.createElement(I.c,i()({},_,{children:P,lang:r,nativeID:c,numberOfLines:u,style:[L.root,p]})):null}}]),n}(O.Component);T()(k,"defaultProps",{linkColor:"link",linkify:A.a.linkify,underlineLinks:!1,withCardLinks:!1,withMediaLinks:!1,withQuoteLinks:!1}),k.propTypes={};var L=w.a.create((function(e){return{root:{position:"relative"}}}));t.a=k},840:function(e,t,n){"use strict";n(25),n(47),n(30),n(39),n(17),n(20),n(48);var r=n(1),i=n.n(r),a=n(1575);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={showControls:!0,promotedContext:{}};t.a={createPlayer:function(e){var t=e.domElement,n=e.source,r=e.videoConfig,i=e.httpClient,o=e.twitterAuthedHttpClient,u=e.options,l=void 0===u?{}:u;return new a.a({videoConfig:r,source:n,domElement:t,httpClient:i,twitterAuthedHttpClient:o,options:s(s({},c),l)})}}},841:function(e,t,n){"use strict";t.a={BROADCAST_EVENT_ASSOCIATION_UPDATED:"broadcastEventAssociationUpdated",FULLSCREEN_ENTERED:"fullscreenEntered",FULLSCREEN_EXITED:"fullscreenExited",HLSJS_INSTANTIATED:"hlsJsInstantiated",GEOBLOCK_ERROR:"geoblockError",LIVE_ENDED:"liveEnded",LIVE_STARTED:"liveStarted",LIVE_CLICKTHROUGH:"liveClickthrough",MUTE:"mute",NO_COOKIES_ERROR:"noCookiesError",PAUSE:"pause",PLAY:"play",PLAYBACK_COMPLETE:"playbackComplete",READY:"ready",UNMUTE:"unmute"}},842:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));n(380),n(25);var r=n(754);function i(e,t){var n=e.getState();if(n&&n.players&&n.players[t])return n.players[t]}var a=function(e){if(e&&"unavailable"===e.status)switch(e.reason){case"geoblocked":return r.a.MEDIA_GEOBLOCK_ERROR;case"deleted":return r.a.ORIGINAL_CONTEXT_DELETED;case"dmcaed":return r.a.DMCA_TAKEDOWN_ERROR;case"copyright_violation":return r.a.EUROPEAN_COPYRIGHT_VIOLATION}return null},o=function(e,t){var n=Object.keys(e).find((function(n){return t(e[n])}));return void 0!==n?e[n]:void 0}},843:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s}));var r="web_video_bitrate_persistence_enabled",i="web_video_hlsjs_version",a="web_video_hlsjs_worker_enabled",o="web_video_smart_buffering_enabled",s="web_video_smart_buffering_preroll_prebuffering_enabled"},844:function(e,t,n){"use strict";n(62);var r=n(3),i=n.n(r),a=n(4),o=n.n(a),s=n(18),c=n.n(s),u=n(22),l=n.n(u),d=n(11),p=n.n(d),f=n(1),h=n.n(f),y=(n(40),n(130),n(0)),v=n(770),m=n(5),_=n(26),g=n(127),b=n.n(g);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var T=b.a.jade381b,O=b.a.d725a288,I=function(e){c()(n,e);var t=E(n);function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props.style;return y.createElement(_.c,{color:_.a.gray600,style:e},this._renderTimestampAndMaybePlace(),this._maybeRenderSource())}},{key:"_renderTimestampAndMaybePlace",value:function(){var e=this.props,t=e.linkColor,n=e.onPlaceClick,r=e.onTimestampClick,i=e.place,a=e.placeLink,o=e.timestamp,s=e.timestampLink,c=function(e){var t=new Date(e),n=T(t),r=O(t);return"".concat(r," · ").concat(n)}(o);return i?y.createElement(b.a.I18NFormatMessage,{$i18n:"ba64a3b2"},y.createElement(_.c,{color:s?t:void 0,link:s,onClick:r},b.a.e9c24489({date:c})),y.createElement(_.c,{color:a?t:void 0,link:a,onClick:n},b.a.a16de8a4({place:i}))):y.createElement(_.c,{color:s?t:void 0,link:s,onClick:r},c)}},{key:"_maybeRenderSource",value:function(){var e=this.props,t=e.linkColor,n=e.onSourceClick,r=e.source,i=e.sourceLink;return r?y.createElement(y.Fragment,null,y.createElement(v.a,null),y.createElement(_.c,{color:i?t:void 0,link:i,onClick:n,style:S.source},r)):null}}]),n}(y.Component);h()(I,"defaultProps",{linkColor:_.a.link});var S=m.a.create((function(e){return{source:{whiteSpace:"normal"}}}));t.a=I},845:function(e,t,n){"use strict";n(62),n(25),n(47),n(30),n(39),n(17),n(20),n(48),n(115),n(69),n(548),n(389),n(102),n(232),n(795),n(103),n(129);var r=n(2),i=n.n(r),a=n(3),o=n.n(a),s=n(4),c=n.n(s),u=n(7),l=n.n(u),d=n(18),p=n.n(d),f=n(22),h=n.n(f),y=n(11),v=n.n(y),m=n(1),_=n.n(m),g=(n(549),n(70),n(104)),b=n(0);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var T={initialPoll:!1,interval:30},O=function(){return T},I=function(e){p()(n,e);var t=E(n);function n(){return o()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){this._startTimer()}},{key:"componentWillUnmount",value:function(){this._stopTimer()}},{key:"_startTimer",value:function(){var e=this.props,t=e.requestCardUpdate,n=e.fetchIntervalConfig,r=n.initialPoll,i=n.interval;r&&t(),this._timer=setInterval(t,1e3*i)}},{key:"_stopTimer",value:function(){clearInterval(this._timer)}}]),n}(b.Component),S=(n(128),n(382),n(40),n(130),n(100),n(385)),w=n(59),P=n.n(w),A=n(748),D=n(796),R=n(721),C=n(780),k=n(746);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var j=function(e){p()(n,e);var t=N(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),_()(l()(e),"_extractCardActionParams",(function(e,t){return[t&&void 0!==t.index?t.index:void 0,e.type===k.f.ACTION&&e.data.auth_required]})),_()(l()(e),"_scribeAndLogAction",(function(t,n,r,i){var a=e.props.scribeCardAction,o=e._extractCardActionParams(t,r),s=P()(o,2),c=s[0],u=s[1];a&&a({action:t.data.scribe,componentType:n,ctaIndex:c,isAuthRequired:u}),e._logPromotedCardAction({action:t.data.promoted_log,componentType:n,ctaIndex:c,isAuthRequired:u,mediaIndex:i})})),_()(l()(e),"_scribeClickIdEmbed",(function(t,n,r,i){var a=e.props.scribeCardAction,o=e._extractCardActionParams(t,r),s=P()(o,2),c=s[0],u=s[1];a&&a({action:C.a.CLICK_ID_EMBED,componentType:n,ctaIndex:c,isAuthRequired:u,clickContext:i})})),_()(l()(e),"_scribeUnifiedCardClick",(function(t,n,r){var i=e.props.scribeCardAction,a=e._extractCardActionParams(t,r),o=P()(a,2),s=o[0],c=o[1];i&&i({action:C.a.CLICK,element:t.data.scribe_element||void 0,componentType:n,ctaIndex:s,isAuthRequired:c})})),_()(l()(e),"_voteForChoice",(function(t){var n=e.props,r=n.card,i=n.onPollVote;i&&r&&i({cardId:r.id,choice:t})})),_()(l()(e),"_toggleEventReminder",(function(t){var n=e.props,r=n.card,i=n.onEventReminderClick;if(t.eventId&&t.notificationId){var a=t.eventId,o=t.isSelected,s=void 0!==o&&o,c=t.notificationId;i&&r&&i({cardId:r.id,eventId:a,notificationId:c,remindMe:!s})}})),_()(l()(e),"_updateCardStateAndPersistIfNeeded",(function(t,n,r){var i=e.props.updateCardState;r&&(i&&i(r),n&&A.a.storeCardState(t,r))})),_()(l()(e),"_logPromotedCardAction",(function(t){var n=t.action,r=t.componentType,i=t.ctaIndex,a=t.isAuthRequired,o=t.mediaIndex,s=e.props,c=s.card,u=s.onPromotedLogEvent;if(c&&u){var l={action:n,componentType:r,isAuthRequired:a};"number"==typeof i&&(l.buttonIndex=i),"number"==typeof o&&(l.ucPromotedMetadata={media_index:o}),u(l)}})),e}return c()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.buttonData,r=t.card,i=t.children,a=t.componentType,o=t.destinationKey,s=t.isInteractive,c=t.media,u=t.mediaIndex,l=t.onCardLinkClick,d=t.promotedContent,p=t.transformUrl;if(!r||!o||!s)return i({});var f=r.destinations[o],h=null!=p?p:R.a;if(!f)return i({});switch(f.type){case k.f.BROWSER:case k.f.BROWSER_WITH_DOCKED_MEDIA:case k.f.BROWSER_WITH_MEDIA:var y=r.card_name===k.a.UNIFIED_CARD;return i({link:y&&p?p(f.data.url_data.url,M(M({},f.data.scribe_element?{element:f.data.scribe_element}:null),{},{action:"click"})):h(f.data.url_data.url),onClick:function(){var t={originalUrl:Object(D.a)(f.data.url_data.url),embeddedUrl:Object(D.a)(h(f.data.url_data.url))};e._scribeAndLogAction(f,a,n,u),l&&l(),t&&e._scribeClickIdEmbed(f,a,n,t),y&&e._scribeUnifiedCardClick(f,a,n)}});case k.f.MOMENT:return i({link:A.a.getMomentLink(f.data.moment_data.moment),onClick:function(){return e._scribeAndLogAction(f,a,n,u)}});case k.f.EVENT:return i({link:{pathname:A.a.getEventLink(f.data.event_data.id),state:{promotedCardState:{media:c,promotedContent:d}}},onClick:function(){return e._scribeAndLogAction(f,a,n,u)}});case k.f.BROADCAST:return i({link:{pathname:A.a.getBroadcastLink(f.data.broadcast_data.id),state:{promotedContent:d}},onClick:function(){return e._scribeAndLogAction(f,a,n,u)}});case k.f.ACTION:var v=f.data.action_data,m=v.next_state,_=v.persist;return i({onClick:function(t){switch(e._scribeAndLogAction(f,a,n,u),v.type){case"compose":n&&A.a.composeTweet(r.id,n.tweet||void 0,m);break;case"dm":v.recipient&&A.a.composeDirectMessage({recipient:v.recipient,welcomeMessageId:n&&n.wm_id||void 0,messageText:n&&n.composer_text||void 0});break;case"vote":n&&e._voteForChoice(n.index);break;case"reminder":n&&e._toggleEventReminder(n);break;default:e._updateCardStateAndPersistIfNeeded(r.id,_,m),t.stopPropagation()}}});default:return i({})}}}]),n}(b.Component);_()(j,"defaultProps",{isInteractive:!0});var x,U=(x=j,function(e){return b.createElement(ri.Context.Consumer,null,(function(t){return b.createElement(x,i()({},e,t))}))}),B=n(5),F=n(34),V=n(747);function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var G=function(e){p()(n,e);var t=W(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),_()(l()(e),"_renderButton",(function(t,n){var r=e.props,i=r.buttonSize,a=r.disabled,o=r.useBlueButtonForAppDetails,s=e._getButtonIcon(t.icon)||void 0,c=n>0,u=o&&t.isAppDetails||t.isSelected?"primary":"secondary";return b.createElement(U,{buttonData:t,componentType:"button_group",destinationKey:t.destination,key:t.cta},(function(e){var n=e.link,r=e.onClick;return b.createElement(S.a,{disabled:a,icon:s,key:t.cta,link:n,onClick:r,size:i,style:[H.button,c&&H.buttonTopMargin],type:u},t.cta)}))})),e}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.chromeless,n=e.buttons,r=e.style;return b.createElement(F.default,{style:[!t&&H.wrapperPadding,r]},n.map(this._renderButton))}},{key:"_getButtonIcon",value:function(e){switch(e){case"dm":return b.createElement(V.IconMessagesStroke,null);case"link":return b.createElement(V.IconLink,null);default:return null}}}]),n}(b.Component),H=B.a.create((function(e){return{wrapperPadding:{padding:e.spaces.space12},button:{flexGrow:1},buttonTopMargin:{marginTop:e.spaces.space4}}})),Y=G,z=n(26),K=B.a.create((function(e){return{icon:{marginRight:e.spaces.space2}}})),q=function(e){var t=e.weight,n=e.children,r=e.dir,i=void 0===r?"auto":r,a=e.numberOfLines,o=e.type;return b.createElement(z.c,{color:"vanity"===o||"description"===o?"gray600":"normal",dir:i,numberOfLines:a,weight:t},"vanity"===o?b.createElement(z.c,{size:"small",style:K.icon},b.createElement(V.IconLink,null)):null,A.a.renderTwemojiText(n))},J=n(381),Q=n(777);function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var $=function(e){p()(n,e);var t=X(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),_()(l()(e),"_hasText",(function(){var t=e.props,n=t.attribution,r=t.category,i=t.title,a=t.description,o=t.vanity;return!!(n||i||a||o||r)})),e}return c()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.destination,r=t.accessibilityLabel;return b.createElement(U,{componentType:"details",destinationKey:n},(function(t){var n=t.link,i=t.onClick;return b.createElement(J.a,{accessibilityLabel:r,interactive:!1,link:n,onClick:i,style:ee.detailItemsWrapper},e._renderContent(),e._renderExtraContent())}))}},{key:"_renderExtraContent",value:function(){var e=this.props.extraContent;return e?b.createElement(F.default,{style:ee.extraContentWrapper},e):null}},{key:"_renderContent",value:function(){var e=this.props,t=e.attribution,n=e.category,r=e.chromeless,i=e.destination,a=e.footer,o=e.nativeID,s=e.style,c=e.testID,u=e.title,l=e.titleMaxLines,d=e.description,p=e.descriptionMaxLines,f=e.vanity,h=e.withBottomPadding,y=!i;return b.createElement(F.default,{nativeID:o,style:[ee.textContentWrapper,!r&&[ee.wrapperPadding,h&&ee.bottomPadding],s],testID:c},t?b.createElement(Q.a,{isProtected:t.protected,isVerified:t.verified,name:t.name,profileImageUrl:t.profile_image_url_https,screenName:t.screen_name,style:[ee.attributionWrapper,this._hasText()&&ee.spaceBelow],withLink:y}):null,n?b.createElement(F.default,{style:[u||d||f||a?ee.spaceBelow:null]},b.createElement(q,{dir:Z(n.is_rtl),numberOfLines:1,type:"description"},n.content)):null,u?b.createElement(F.default,{style:[d||f||a?ee.spaceBelow:null]},b.createElement(q,{dir:Z(u.is_rtl),numberOfLines:A.a.shouldLimitTextToSingleLine()?1:l,type:"title"},u.content)):null,d?b.createElement(F.default,{style:[f||a?ee.spaceBelow:null]},b.createElement(q,{dir:Z(d.is_rtl),numberOfLines:A.a.shouldLimitTextToSingleLine()?1:p,type:"description"},d.content)):null,a?b.createElement(F.default,{style:[f?ee.spaceBelow:null]},b.createElement(q,{dir:"auto",numberOfLines:1,type:"description"},a)):null,f?b.createElement(F.default,null,b.createElement(q,{dir:"auto",numberOfLines:1,type:"vanity"},f)):null)}}]),n}(b.Component),Z=function(e){switch(e){case!0:return"rtl";case!1:return"ltr";default:return"auto"}},ee=B.a.create((function(e){return{attributionWrapper:{alignItems:"flex-start"},detailItemsWrapper:{flexDirection:"row",justifyContent:"space-between",flexGrow:1},extraContentWrapper:{flexShrink:0,padding:e.spaces.space12},textContentWrapper:{flexGrow:1,flexShrink:1,justifyContent:"center"},wrapperPadding:{paddingTop:e.spaces.space12,paddingHorizontal:e.spaces.space12},bottomPadding:{paddingBottom:e.spaces.space12},spaceBelow:{marginBottom:e.spaces.space2}}})),te=$,ne=n(808),re=n(127),ie=n.n(re),ae=ie.a.d58baa7e,oe=ie.a.c5954d30,se=function(e){switch(e){case!0:return"rtl";case!1:return"ltr";default:return"auto"}},ce=B.a.create((function(e){return{contentWrapper:{flexGrow:1,flexShrink:1,justifyContent:"center"},attributionWrapper:{alignItems:"flex-start"},detailItemsWrapper:{flexDirection:"row",justifyContent:"space-between",flexGrow:1},wrapperPadding:{paddingTop:e.spaces.space4,paddingHorizontal:e.spaces.space12},bottomPadding:{paddingBottom:e.spaces.space12},spaceBelow:{marginBottom:e.spaces.space4},icon:{marginRight:e.spaces.space2},innerRow:{flexDirection:"row",flexShrink:1}}})),ue=function(e){var t=e.attribution,n=e.destination,r=e.title,i=e.memberCount,a=e.style,o=e.titleMaxLines;return b.createElement(U,{componentType:"twitter_list_details",destinationKey:n},(function(e){var n=e.link,s=e.onClick;return b.createElement(J.a,{interactive:!1,link:n,onClick:s,style:[ce.contentWrapper,ce.wrapperPadding,ce.bottomPadding,a]},b.createElement(F.default,{style:[ce.innerRow,ce.spaceBelow]},b.createElement(ne.a,null,b.createElement(z.c,{color:"gray600",size:"small",weight:"bold"},b.createElement(V.IconLists,{style:ce.icon}),oe),b.createElement(z.c,{color:"gray600",size:"small"},b.createElement(ie.a.I18NFormatMessage,{$i18n:"d6b02328",formattedCount:ae(i),count:i})))),b.createElement(F.default,{style:ce.spaceBelow},b.createElement(q,{dir:se(r.is_rtl),numberOfLines:A.a.shouldLimitTextToSingleLine()?1:o,type:"title",weight:"bold"},r.content)),b.createElement(Q.a,{avatarSize:"small",isProtected:t.protected,isVerified:t.verified,name:t.name,nameSize:"small",profileImageUrl:t.profile_image_url_https,screenName:t.screen_name,screenNameSize:"small",style:[ce.attributionWrapper],withLink:!1}))}))},le=n(752),de=n(809),pe=function(e){var t=e.ext_media_color&&e.ext_media_color.palette,n=t&&de.a.get(t);return n?"rgb(".concat(n.rgb.red,", ").concat(n.rgb.green,", ").concat(n.rgb.blue,")"):void 0},fe=n(771),he=n(778);n(101);function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var ve=function(e){p()(n,e);var t=ye(n);function n(){return o()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.componentType,n=e.destination,r=e.enableDestinationWrapper,i=e.accessibilityHidden,a=e.locationKey,o=e.mediaEntity,s=e.mediaIndex,c=e.ratio,u=e.renderPlaceholder,l=e.style,d=o||{},p=d.media_url_https,f=d.original_info,h=(f=void 0===f?{}:f).width,y=f.height,v=d.cropCandidates,m=d.altText,_=void 0===m?"":m,g=o&&pe(o),E=b.createElement(b.Fragment,null,b.createElement(ri.Context.Consumer,null,(function(e){var t=e.isDataSaverEnabled,n=e.isPromoted,r=t?n?"suboptimal":"preview":void 0;return A.a.renderImage({uri:p,width:h,height:y},c,r,a,v,_)})),this._renderOverlay()),T=b.createElement(le.a,{ratio:c||1},b.createElement(F.default,{style:[me.image,me.mediaMissingIconContainer]},b.createElement(V.IconNewsStroke,{style:me.newsIcon}))),O=p&&!u,I=[l,me.root,{backgroundColor:g}],S=[me.root,me.mediaMissing],w=O?I:S,P=O?E:T;return r?b.createElement(U,{componentType:t,destinationKey:n,mediaIndex:s},(function(e){var t=e.link,n=e.onClick;return b.createElement(J.a,{accessibilityHidden:i,interactive:!1,link:t,onClick:n,style:w},P)})):P}},{key:"_renderOverlay",value:function(){var e=this.props,t=e.overlay,n=e.playOverlaySize;if(!t)return null;switch(t.type){case k.g.MOMENTS:return b.createElement(fe.a,{align:"left",square:!0},b.createElement(V.IconLightning,null));case k.g.PLAY:return b.createElement(F.default,{style:me.playOverlay},b.createElement(he.a,{size:n}));case k.g.LABEL:return b.createElement(fe.a,{align:"left"},t.text);default:return null}}}]),n}(b.Component);_()(ve,"defaultProps",{playOverlaySize:"small",componentType:"image",enableDestinationWrapper:!0}),ve.propTypes={};var me=B.a.create((function(e){return{root:{width:"100%",overflow:"hidden"},image:{width:"100%",height:"100%"},playOverlay:{position:"absolute",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},momentsIcon:{height:e.spaces.space16,color:e.colors.white},mediaMissing:{backgroundColor:e.colors.gray0},mediaMissingIconContainer:{display:"flex",alignItems:"center",justifyContent:"center"},newsIcon:{color:e.colors.gray600,height:"2em"}}})),_e=ve,ge=n(811);var be=function(e){var t=e.locationKey,n=e.media,r=e.playOverlaySize,i=e.renderVideoPlayer;if(!n||!n.mediaEntity)return null;var a=n.aspect_ratio,o=n.mediaEntity,s=n.destination,c=n.overlay;if("photo"===o.type){var u=o.original_info,l=u.width,d=u.height;return b.createElement(_e,{destination:s,locationKey:t&&"".concat(t,"-largeCard"),mediaEntity:o,overlay:c,playOverlaySize:r,ratio:a||(o?Math.max(l/d,1):void 0)})}return"iframe"===o.type?b.createElement(le.a,{ratio:Math.max(o.aspect_ratio,1)},b.createElement(ge.a,{src:o.url,style:Ee.iframe})):("video"===o.type||"uc_video"===o.type||"live_broadcast"===o.type||"vine"===o.type||"tweet_video"===o.type)&&i?b.createElement(ri.Context.Consumer,null,(function(e){var t=e.isDataSaverEnabled,n=e.isPromoted;return i(o,t?n?"suboptimal":"preview":void 0)})):null},Ee=B.a.create({iframe:{height:"100%"}}),Te=n(67),Oe=n.n(Te),Ie=ie.a.e86732e3,Se=ie.a.f668e928,we=B.a.create((function(e){return{choice:{alignItems:"center",flexDirection:"row",height:e.spaces.space32,justifyContent:"space-between"},choicePercentageBar:{backgroundColor:e.colors.gray200,borderTopLeftRadius:e.borderRadii.small,borderBottomLeftRadius:e.borderRadii.small,position:"absolute",top:0,left:0,bottom:0},choicePercentageBarRoundCorners:{borderRadius:e.borderRadii.small},choicePercentageBarWinner:{backgroundColor:e.colors.lightPrimary},choiceLabel:{paddingVertical:0,paddingHorizontal:e.spaces.space12},choicePercentage:{paddingStart:e.spaces.space12}}})),Pe=function(e){var t=e.noVotes,n=e.isFinal,r=e.isSelected,i=e.isWinner,a=e.label,o=e.percentageOfTotalVote,s=100===o,c=i?"bold":void 0,u=t?"7px":"".concat(o,"%"),l="light"===B.a.theme.paletteName&&B.a.theme.highContrastEnabled,d=o/100;return b.createElement(F.default,{style:we.choice},b.createElement(F.default,{style:[we.choicePercentageBar,l&&{backgroundColor:B.a.theme.colors.gray50},(n||s||t)&&we.choicePercentageBarRoundCorners,i&&we.choicePercentageBarWinner,{width:u}]}),b.createElement(F.default,{style:we.choiceLabel},b.createElement(z.c,{weight:c},a,r?" ":null,r?b.createElement(V.IconCheckmarkCircle,{accessibilityLabel:Ie}):null)),b.createElement(F.default,{style:we.choiceLabel&&we.choicePercentage},b.createElement(z.c,{weight:c},Se(d))))};function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var De=function(e){p()(n,e);var t=Ae(n);function n(){return o()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.choices,r=t.totalVotes,i=Math.max.apply(Math,Oe()(n.map((function(e){return e.count}))));return n.map((function(t,n){return b.createElement(F.default,{key:t.index,style:0!==n&&Re.topMargin},e._renderChoiceResult(t,r,i))}))}},{key:"_renderChoiceResult",value:function(e,t,n){var r=this.props,i=r.isFinal,a=r.selectedChoice,o=Math.round(e.count/t*1e3)/10||0;return b.createElement(Pe,{isFinal:i,isSelected:a===e.index,isWinner:i&&e.count===n,label:A.a.renderTwemojiText(e.cta,!0),noVotes:0===e.count,percentageOfTotalVote:o})}}]),n}(b.Component),Re=B.a.create((function(e){return{topMargin:{marginTop:e.spaces.space4}}})),Ce=De,ke=ie.a.a3edf99a,Le=ie.a.c2b81e9c,Me=ie.a.d925a4f8,Ne=ie.a.ib15cdda,je=ie.a.db9ed19f,xe=ie.a.ia24dc8c,Ue=B.a.create((function(e){return{pollStatus:{marginTop:e.spaces.space12}}})),Be=function(e){var t,n=e.choices,r=e.endDatetimeUtc,i=e.isAuthor,a=e.isFinal,o=e.totalVotes,s=e.resultTextSize,c=e.selectedChoice,u=e.votingDisabled,l=e.style;return b.createElement(F.default,{style:l},c||a||i?b.createElement(Ce,{choices:n,isFinal:a,selectedChoice:c,totalVotes:o}):b.createElement(Y,{buttonSize:"normalCompact",buttons:n.map((function(e){return{cta:e.cta,index:e.index,destination:e.destination}})),chromeless:!0,disabled:u}),b.createElement(z.c,{color:"gray600",size:s,style:Ue.pollStatus},b.createElement(ne.a,null,b.createElement(z.c,null,Le({count:t=o,formattedCount:xe(t)})),b.createElement(z.c,null,a?ke:function(e){var t=new Date(e).getTime()-Date.now(),n=Math.floor(t/864e5),r=Math.floor(t/36e5),i=Math.floor(t/6e4);return r>=24?je({count:n,formattedCount:ie.a.ia24dc8c(n)}):i>=60?Ne({count:r,formattedCount:ie.a.ia24dc8c(r)}):Me({count:i,formattedCount:ie.a.ia24dc8c(i)})}(r)))))},Fe=n(766);function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){return null===e?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},null):e}n(386);var Ge=n(831);function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Ke=ie.a.b74bf8b7,qe=ie.a.a7cd5cf4,Je=ie.a.df8cd2af,Qe=function(e){p()(n,e);var t=ze(n);function n(e){var r;return o()(this,n),r=t.call(this,e),_()(l()(r),"_videoPlayers",[]),_()(l()(r),"_muteStateChangeInProgress",!1),_()(l()(r),"_createBoundRenderVideoPlayer",(function(e){if("uc_video"===e.type){var t=r.props,n=t.renderVideoPlayer,i=t.isDataSaverEnabled,a=t.isPromoted,o=t.persistCarouselMuteState,s=t.aspectRatio,c=r.state.shouldAutoplayWithoutMuting,u=Ye({onPlaybackComplete:r._handlePlaybackComplete,onFullscreenChange:r._handleFullscreenChange,onSetPlayerApi:r._handleSetPlayerApi},o?{onMuteChange:r._handleMuteChange}:null),l=i?a?"suboptimal":"preview":void 0;return n?function(){return n(e,l,s,o&&c,u)}:void 0}})),_()(l()(r),"_handleMuteChange",(function(e){var t=e.isPlayerMuted,n=r.state.shouldAutoplayWithoutMuting,i=!t;r._muteStateChangeInProgress||n===i||(r._muteStateChangeInProgress=!0,r.setState({shouldAutoplayWithoutMuting:i}),r._videoPlayers.forEach((function(e){t?e.mute():e.unmute()})),r._muteStateChangeInProgress=!1)})),_()(l()(r),"_handleSetPlayerApi",(function(e){r._videoPlayers.push(e)})),_()(l()(r),"_handleFullscreenChange",(function(e){var t=e.isPlayerFullscreen;return r.setState({isFullscreen:t})})),_()(l()(r),"_handlePlaybackComplete",(function(){var e=r.props.items,t=r.state,n=t.currentSlide,i=t.loadedSlide,a=t.isFullscreen,o=n===e.length-1;if(!a&&i===n&&!o){var s=r.props,c=s.card,u=s.scribeCardAction,l=n+1;r.setState({currentSlide:l}),c&&A.a.storeCarouselIndex(c.id,l),r._setTransitionAccessibilityLabel(l),r._updateUCMetadata(l);var d={currentMediaIndex:l+1,previousMediaIndex:n+1};u&&u({action:C.a.AUTO_SWIPE,componentType:"swipeable_media",swipeEventDetails:d})}})),_()(l()(r),"_handleChange",(function(e){var t=r.props,n=t.card,i=t.getPromotedLogData,a=t.onPromotedLogEvent,o=t.scribeCardAction,s=r.state.currentSlide;r._updateUCMetadata(e);var c=i(s+1);a&&a(Ye({action:e>s?"unified_card_carousel_swipe_next":"unified_card_carousel_swipe_previous"},c));var u={currentMediaIndex:e+1,previousMediaIndex:s+1};o&&o({action:C.a.USER_SWIPE,componentType:"swipeable_media",swipeEventDetails:u}),r._setTransitionAccessibilityLabel(e),r.setState({currentSlide:e}),n&&A.a.storeCarouselIndex(n.id,e)})),_()(l()(r),"_handleOnRest",(function(e){r.setState({loadedSlide:e})})),_()(l()(r),"_updateUCMetadata",(function(e){var t=r.props,n=t.ucPromotedMetadata,i=t.updateUCPromotedMetadata,a=Ye(Ye({},n),{},{media_index:e+1});i&&i(a)})),_()(l()(r),"_setTransitionAccessibilityLabel",(function(e){var t=r.props,n=t.getMediaEntityForSlide,i=t.items,a=n(e);if(a)return"photo"===a.type?r.setState({transitionAccessibilityLabel:Je({currentSlide:e+1,itemCount:i.length,type:Ke,altText:a.altText||""})}):"uc_video"===a.type?r.setState({transitionAccessibilityLabel:Je({currentSlide:e+1,itemCount:i.length,type:qe,altText:""})}):void 0})),_()(l()(r),"_setHeight",(function(e){r.setState({height:e})})),r.state={currentSlide:e.carouselIndex,loadedSlide:e.carouselIndex,transitionAccessibilityLabel:void 0,isFullscreen:!1,shouldAutoplayWithoutMuting:!1,height:0},r}return c()(n,[{key:"componentDidMount",value:function(){this._updateUCMetadata(this.state.currentSlide)}},{key:"render",value:function(){var e=this,t=this.props,n=t.aspectRatio,r=t.hasVideo,i=t.renderSlide,a=t.items,o=t.shouldRenderAll,s=t.shouldSetHeight,c=this.state,u=c.currentSlide,l=c.loadedSlide,d=b.createElement(Ge.a,{cellSpacing:5,currentSlide:this.state.currentSlide,locked:this.state.isFullscreen,onChange:this._handleChange,onRest:this._handleOnRest,setParentHeight:s?this._setHeight:void 0,shouldRenderAll:o,showNavButtonsOnHover:!0,transitionAccessibilityLabel:this.state.transitionAccessibilityLabel,withOffscreenNavOverlay:!0,withReducedNavButtonClickArea:r},a.map((function(t,n){return i({createBoundRenderVideoPlayer:e._createBoundRenderVideoPlayer,currentSlide:u,index:n,item:t,loadedSlide:l,position:(0===n?"first":n===a.length-1&&"last")||"middle"})})));return n?b.createElement(le.a,{ratio:n,style:Xe.aspectRatio},b.createElement(F.default,{style:[Xe.root]},d)):b.createElement(F.default,{style:{height:this.state.height}},d)}}]),n}(b.Component);_()(Qe,"defaultProps",{carouselIndex:0});var Xe=B.a.create((function(e){return{root:{height:"100%"},aspectRatio:{overflow:"visible"}}})),$e=function(e){return function(t){return b.createElement(ri.Context.Consumer,null,(function(n){return b.createElement(e,i()({},t,n))}))}}(Qe),Ze=function(e){var t=e.currentSlide,n=e.loadedSlide,r=e.createBoundRenderVideoPlayer,i=e.index,a=e.item,o=e.position,s=e.playOverlaySize,c=a.media_entity;if("uc_video"!==c.type&&"photo"!==c.type)return null;var u=a.destination,l=t===i,d=i+1;if("uc_video"===c.type){var p=n===i,f=r&&r(a.media_entity);if(p&&f)return b.createElement(F.default,{accessibilityHidden:l,key:a.id,style:[tt.video,"first"===o&&tt.firstImage,"last"===o&&tt.lastImage]},f());c={media_url_https:c.media_url_https,type:"photo",original_info:c.original_info}}var h=c.original_info,y=h.width,v=h.height;return b.createElement(_e,{accessibilityHidden:l,componentType:"swipeable_media",destination:u,key:a.id,mediaEntity:c,mediaIndex:d,overlay:a.overlay,playOverlaySize:s,ratio:c?Math.max(y/v,1):void 0,style:[tt.video,"first"===o&&tt.firstImage,"last"===o&&tt.lastImage]})},et=function(e){var t,n=e.swipeableMedia,r=e.playOverlaySize,i=e.renderVideoPlayer,a=e.persistCarouselMuteState,o=null===(t=n[0])||void 0===t?void 0:t.media_entity;if("photo"!==o.type&&"uc_video"!==o.type)return null;var s=o.original_info,c=s.width/s.height,u=n.some((function(e){return"uc_video"===e.media_entity.type}));return b.createElement($e,{aspectRatio:c,getMediaEntityForSlide:function(e){var t;return null===(t=n[e])||void 0===t?void 0:t.media_entity},getPromotedLogData:function(e){return{componentType:"swipeable_media",ucPromotedMetadata:{media_index:e}}},hasVideo:u,items:n,persistCarouselMuteState:a,playOverlaySize:r,renderSlide:Ze,renderVideoPlayer:i})},tt=B.a.create((function(e){return{video:{overflow:"hidden",maxHeight:"100%"},firstImage:{borderTopLeftRadius:e.borderRadii.xLarge},lastImage:{borderTopRightRadius:e.borderRadii.xLarge}}})),nt=(n(1003),n(233),n(779)),rt=Object.freeze({large:{title:1,description:2},medium:{title:2,description:1},small:{title:2,description:0}}),it=Object.freeze({large:{title:1,description:2},medium:{title:2,description:1},small:{title:2,description:0}}),at=Object.freeze({large:5,medium:4,small:3}),ot=Object.freeze({large:"normal",medium:"normalCompact",small:"normalCompact"}),st=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={large:it,small:rt}[e],a=r.alwaysShowDescription,o=void 0!==a&&a,s=r.capMaxTitleLines,c=void 0===s?Number.MAX_SAFE_INTEGER:s,u=t>=450?i.large:t>=400?i.medium:i.small,l=[n.category||null,n.attribution||null,n.footer||null,n.vanity||null],d=n.description,p=n.title,f=l.some(Boolean),h=Math.min(c,u.title+(d?0:u.description)+(f?0:1)),y=Math.max(o?1:0,"small"!==e||p||f?u.description:u.description+1);return"small"===e?{titleMaxLines:h,descriptionMaxLines:y}:{titleMaxLines:Math.min(2,h),descriptionMaxLines:y}},ct=function(e,t){var n=[t.category||null,t.attribution||null,t.footer||null,t.vanity||null,t.title,t.description].filter(Boolean).length,r=e>=450?at.large:e>=400?at.medium:at.small;return lt(r,n)},ut=function(e){return e>=450?ot.large:e>=400?ot.medium:ot.small},lt=function(e,t){var n=B.a.theme,r=n.borderWidths,i=n.lineHeights,a=n.spaces,o="".concat(i.body," * ").concat(e),s="".concat(a.space12," * 2"),c="".concat(r.small," * 2"),u="".concat(a.space2," * ").concat(t-1);return"calc(".concat(o," + ").concat(s," + ").concat(c," + ").concat(u,")")},dt=function(e,t){var n=e?Math.abs(e-t):1/0,r=nt.a.getScrollbarWidth();return void 0===e||n>r};function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var yt=function(e){p()(n,e);var t=ht(n);function n(e){var r;return o()(this,n),r=t.call(this,e),_()(l()(r),"_mounted",!0),_()(l()(r),"_updateSizes",(function(e){if(r._mounted&&dt(r._previousWidth,e)){r._previousWidth=e;var t=r.props,n=t.details,i=t.buttons,a=r.state,o=a.titleMaxLines,s=a.descriptionMaxLines,c=a.buttonSize,u=function(e){var t=e.hasButtons,n=e.details,r=e.titleMaxLines,i=e.descriptionMaxLines,a=e.playOverlaySize,o=e.buttonSize,s=e.width,c=n?st("large",s,n):{titleMaxLines:void 0,descriptionMaxLines:void 0},u=t?ut(s):void 0,l=s<175?"small":"normal",d=c.titleMaxLines,p=c.descriptionMaxLines;if(d!==r||p!==i||l!==a||u&&u!==o)return{buttonSize:u,descriptionMaxLines:p,playOverlaySize:l,titleMaxLines:d}}({hasButtons:!!i,details:n,titleMaxLines:o,descriptionMaxLines:s,playOverlaySize:a.playOverlaySize,buttonSize:c,width:e});u&&r.setState(u)}})),_()(l()(r),"_handleLayout",(function(e){var t=e.nativeEvent.layout.width;r._updateSizes(t)})),_()(l()(r),"_setRootNode",(function(e){e&&r._updateSizes(e.clientWidth)})),r.state=ft(ft({},We(e.details?st("large",500,e.details):null)),We(e.buttons?{buttonSize:ut(500)}:null)),r}return c()(n,[{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.a11yDomIds,n=e.buttons,r=e.chromeless,i=e.details,a=e.dmSentOrReceived,o=e.media,s=e.nativeID,c=e.onLikelyInteraction,u=e.poll,l=e.testIDs,d=e.withInteractiveStyling,p=e.withSquareBottomBorderRadius,f=this._renderSwipeableMedia(),h=o&&o.mediaEntity?this._renderMedia():f,y=!!u,v=!r&&!f,m=r&&!f,_=!!(u||n||i)&&!f;return b.createElement(Fe.a,{accessibilityLabelledBy:s&&t?[t.cardMediaDomId,t.cardDetailDomId].join(" "):void 0,nativeID:s,onHoverIn:c,onLayout:this._handleLayout,onPressIn:c,style:[a&&mt[a],v&&mt.border,p&&vt[p],f&&mt.rootWithCarousel],testID:null==l?void 0:l.wrapper,viewRef:this._setRootNode,withFocusWithinFocusRing:!0,withInteractiveStyling:d,withOutsetFocusRing:!0},h?b.createElement(F.default,{accessibilityHidden:!0,nativeID:s&&t?t.cardMediaDomId:void 0,style:[mt.media,m&&mt.border,_&&mt.mediaBottomBorder,y&&mt.mediaBottomSpace,!!i&&vt.both],testID:null==l?void 0:l.layoutLarge.media},h):null,b.createElement(F.default,{nativeID:s&&t?t.cardDetailDomId:void 0,style:[f&&mt.carouselBottomContent]},this._renderDetail(),this._renderListDetail(),this._renderButtons(),this._renderPoll()))}},{key:"_renderDetail",value:function(){if(!this.props.details)return null;var e=this.state,t=e.titleMaxLines,n=e.descriptionMaxLines,r=this.props,i=r.buttons,a=r.chromeless,o=r.details,s=r.testIDs,c=o.attribution,u=o.category,l=o.description,d=o.destination,p=o.footer,f=o.title,h=o.vanity;return b.createElement(te,{attribution:c,category:u,chromeless:a,description:0!==n?l:void 0,descriptionMaxLines:n,destination:d,footer:p,testID:null==s?void 0:s.layoutLarge.detail,title:f,titleMaxLines:t,vanity:h,withBottomPadding:!i})}},{key:"_renderListDetail",value:function(){var e=this.props.listDetails,t=this.state.titleMaxLines;if(!e)return null;var n=e.attribution,r=e.destination,i=e.title,a=e.memberCount;return b.createElement(ue,{attribution:n,destination:r,memberCount:a,title:i,titleMaxLines:t})}},{key:"_renderButtons",value:function(){var e=this.state.buttonSize,t=this.props,n=t.chromeless,r=t.buttons,i=t.useBlueButtonForAppDetails;return r?b.createElement(Y,{buttonSize:e,buttons:r,chromeless:n,useBlueButtonForAppDetails:i}):null}},{key:"_renderPoll",value:function(){var e=this.props.poll;return e?b.createElement(Be,e):null}},{key:"_renderSwipeableMedia",value:function(){var e=this.props,t=e.renderVideoPlayer,n=e.swipeableMedia,r=e.persistCarouselMuteState;return n?b.createElement(et,{persistCarouselMuteState:r,playOverlaySize:this.state.playOverlaySize,renderVideoPlayer:t,swipeableMedia:n}):null}},{key:"_renderMedia",value:function(){var e=this.props,t=e.locationKey,n=e.media,r=e.renderVideoPlayer,i=this.state.playOverlaySize;return b.createElement(be,{locationKey:t,media:n,playOverlaySize:i,renderVideoPlayer:r})}}]),n}(b.Component);_()(yt,"defaultProps",{isPromoted:!1,withInteractiveStyling:!0}),yt.propTypes={};var vt=B.a.create((function(e){return{both:{borderBottomRightRadius:e.borderRadii.none,borderBottomLeftRadius:e.borderRadii.none},left:{borderBottomLeftRadius:e.borderRadii.none},right:{borderBottomRightRadius:e.borderRadii.none}}})),mt=B.a.create((function(e){return{media:{display:"block"},mediaBottomBorder:{borderBottomColor:e.colors.nestedBorderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},mediaBottomSpace:{marginBottom:e.spaces.space12},border:{borderRadius:e.borderRadii.xLarge,borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small,overflow:"hidden"},rootWithCarousel:{marginRight:e.spaces.space32,borderRadius:e.borderRadii.xLarge},carouselBottomContent:{borderBottomLeftRadius:e.borderRadii.xLarge,borderBottomRightRadius:e.borderRadii.xLarge,borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small,marginTop:-.5},sent:{borderColor:e.colors.primary},received:{borderColor:e.colors.gray200}}})),_t=yt;function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Et=ie.a.hdf426f5,Tt=ie.a.a3efd2c3,Ot=ie.a.b91c8e53,It=ie.a.b3826294,St=function(e){p()(n,e);var t=bt(n);function n(e){var r;o()(this,n),r=t.call(this,e),_()(l()(r),"_mounted",!0),_()(l()(r),"_composeTopicCardAccessibilityLabel",(function(e,t){return t&&t.content&&t.content.length>0?It({title:e.content,description:t.content}):Ot({title:e.content})})),_()(l()(r),"_updateSizes",(function(e){if(r._mounted&&dt(r._previousWidth,e)){r._previousWidth=e;var t=r.state,n=t.titleMaxLines,i=t.descriptionMaxLines,a=t.imageWidthStyle,o=r.props.details,s=st("small",e,o,r._getLinesForWidthOptions()),c=ct(e,o),u=s.titleMaxLines,l=s.descriptionMaxLines;c===a&&u===n&&l===i||r.setState({titleMaxLines:u,descriptionMaxLines:l,imageWidthStyle:c})}})),_()(l()(r),"_handleLayout",(function(e){var t=e.nativeEvent.layout.width;r._updateSizes(t)})),_()(l()(r),"_setRootNode",(function(e){e&&r._updateSizes(e.clientWidth)})),_()(l()(r),"_getLinesForWidthOptions",(function(){var e=r.props.isTopicCard;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({alwaysShowDescription:e},e?{capMaxTitleLines:2}:null)}));var i=e.details,a=st("small",500,i,r._getLinesForWidthOptions()),s=a.titleMaxLines,c=a.descriptionMaxLines;return r.state={descriptionMaxLines:c,titleMaxLines:s,imageWidthStyle:ct(500,i)},r}return c()(n,[{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.a11yDomIds,n=e.dmSentOrReceived,r=e.nativeID,i=e.onLikelyInteraction,a=e.reverse,o=e.testIDs,s=e.withInteractiveStyling,c=e.withSquareBottomBorderRadius,u=e.isTopicCard,l=this.state.imageWidthStyle,d=b.createElement(F.default,{key:"details",style:Pt.details},u?this._renderTopicDetail():this._renderDetail()),p=b.createElement(F.default,{accessibilityHidden:!0,key:"media",nativeID:r&&t?t.cardMediaDomId:void 0,style:[Pt.media,{width:l},c&&wt[c],a?Pt.mediaLeftBorder:Pt.mediaRightBorder],testID:null==o?void 0:o.layoutSmall.media},this._renderMedia());return b.createElement(Fe.a,{accessibilityLabelledBy:r&&t?[t.cardMediaDomId,t.cardDetailDomId].join(" "):void 0,nativeID:r,onHoverIn:i,onLayout:this._handleLayout,onPressIn:i,style:[Pt.root,c&&wt[c],n&&Pt[n]],testID:null==o?void 0:o.wrapper,viewRef:this._setRootNode,withFocusWithinFocusRing:!0,withInteractiveStyling:s,withOutsetFocusRing:!0},a?[d,p]:[p,d])}},{key:"_renderDetail",value:function(){var e=this.state,t=e.titleMaxLines,n=e.descriptionMaxLines,r=this.props,i=r.a11yDomIds,a=r.details,o=r.testIDs,s=r.nativeID;return b.createElement(te,{attribution:a.attribution,category:a.category,description:0!==n?a.description:void 0,descriptionMaxLines:n,destination:a.destination,footer:a.footer,nativeID:s&&i?i.cardDetailDomId:void 0,testID:null==o?void 0:o.layoutSmall.detail,title:a.title,titleMaxLines:t,vanity:a.vanity,withBottomPadding:!0})}},{key:"_renderTopicDetail",value:function(){if(!this.props.isTopicCard)return null;var e=this.state,t=e.titleMaxLines,n=e.descriptionMaxLines,r=this.props.details,i=r.description,a=r.title,o=r.destination,s={is_rtl:(null==i?void 0:i.is_rtl)||(null==a?void 0:a.is_rtl),content:i&&i.content?Et({description:i.content}):Tt};return b.createElement(te,{accessibilityLabel:a?this._composeTopicCardAccessibilityLabel(a,i):void 0,description:s,descriptionMaxLines:n,destination:o,title:a,titleMaxLines:t,withBottomPadding:!0})}},{key:"_renderMedia",value:function(){var e=this.props,t=e.locationKey,n=e.media,r=n.mediaEntity,i=n.destination,a=n.overlay;return r&&"photo"!==r.type?null:b.createElement(ri.Context.Consumer,null,(function(e){var n=e.isDataSaverEnabled,o=e.isPromoted,s=n&&!o;return b.createElement(_e,{destination:i,locationKey:t&&"".concat(t,"-smallCard"),mediaEntity:r,overlay:a,ratio:1,renderPlaceholder:s})}))}}]),n}(b.Component);_()(St,"defaultProps",{withInteractiveStyling:!0}),St.propTypes={};var wt=B.a.create((function(e){return{both:{borderBottomRightRadius:e.borderRadii.none,borderBottomLeftRadius:e.borderRadii.none},left:{borderBottomLeftRadius:e.borderRadii.none},right:{borderBottomRightRadius:e.borderRadii.none}}})),Pt=B.a.create((function(e){return{root:{borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.xLarge,flexDirection:"row",overflow:"hidden"},media:{display:"block",borderColor:e.colors.nestedBorderColor,borderStyle:"solid",overflow:"hidden"},mediaLeftBorder:{borderLeftWidth:e.borderWidths.small,borderBottomLeftRadius:e.borderRadii.none,borderTopLeftRadius:e.borderRadii.none},mediaRightBorder:{borderRightWidth:e.borderWidths.small,borderBottomRightRadius:e.borderRadii.none,borderTopRightRadius:e.borderRadii.none},details:{flexGrow:1,flexShrink:1,justifyContent:"center"},sent:{borderColor:e.colors.primary},received:{borderColor:e.colors.gray200}}})),At=St;n(384),n(380),n(89),n(21);var Dt=function(e,t,n){return("string"==typeof n?[n]:n).map((function(n){return e[n]&&e[n][t]})).find((function(e){return!!e}))},Rt=Dt,Ct=Dt,kt=Dt,Lt=Dt,Mt=function(e,t){var n=function e(t){return{and:function(n){return e(t&&r(n))},or:function(n){return e(t||r(n))},result:function(){return t}}},r=function(t){return"string"==typeof t?!!e[t]:t(n(!0).and).result()};return r(t)},Nt=function(e,t){return{media_url_https:e.url,type:"photo",original_info:{width:e.width,height:e.height},ext_media_color:{palette:[]},cropCandidates:t,altText:e.alt||""}};var jt=function(e){var t=e.match(/\/([0-9]+)(\/|\.)/);return t?t[1]:""};function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yt={url:"https://pbs.twimg.com/lex/placeholder_live_nomargin.png",width:1920,height:1080},zt="NOT_STARTED";function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zt=ie.a.db44ff5b,en=ie.a.c600045f;function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var on=n(833);function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var un=function(e,t,n,r){var i,a={};return e&&(a[k.b.IMAGE_ENTITY]=Nt(e)),t&&n.tweetId&&(a[k.b.IFRAME_ENTITY]={type:"iframe",url:(i=n.tweetId,"https://cards-frame.twitter.com/i/cards/tfw/v1/uc/".concat(i)),aspect_ratio:r}),a},ln=function(e){var t,n,r,i,a=e.cardId,o=e.cardType,s=e.data,c=e.cardContext,u=Lt(s,"image_value","player_image_original"),l=Rt(s,"string_value","description"),d=parseInt(Rt(s,"string_value","player_width"),10)/parseInt(Rt(s,"string_value","player_height"),10);return{state:k.c.DEFAULT,layout:(t={},_()(t,k.c.DEFAULT,{size:"large"}),_()(t,k.c.STATIC,{size:"small"}),t),card:{card_name:o,card_url:Rt(s,"string_value","card_url"),on_visibility:{scribe:"show"},id:a,destinations:_()({},k.b.DESTINATION,{type:k.f.BROWSER,data:{url_data:{url:Rt(s,"string_value","card_url"),vanity:Rt(s,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),components:(n={},_()(n,k.c.DEFAULT,[k.b.MEDIA,k.b.DETAILS]),_()(n,k.c.STATIC,[k.b.MEDIA_STATIC,k.b.DETAILS]),n),media_entities:(r={},_()(r,k.b.IMAGE_ENTITY,Nt(u)),_()(r,k.b.VIDEO_ENTITY,{type:"vine",aspect_ratio:d,content_id:jt(u.url),poster_image:u,publisher_id:Rt(s,"string_value","site")||c.tweetUserId,variants:[{src:Rt(s,"string_value","player_stream_url"),type:Rt(s,"string_value","player_stream_content_type")}]}),r),components_data:(i={},_()(i,k.b.MEDIA,{type:k.d.MEDIA,data:{id:k.b.VIDEO_ENTITY}}),_()(i,k.b.MEDIA_STATIC,{type:k.d.MEDIA,data:{id:k.b.IMAGE_ENTITY,destination:k.b.DESTINATION,overlay:{type:k.g.PLAY}}}),_()(i,k.b.DETAILS,{type:k.d.DETAILS,data:cn(cn({destination:k.b.DESTINATION},l?{description:{content:l}}:null),{},{title:{content:Rt(s,"string_value","title")}})}),i)}}};n(88);function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var On=n(41),In=n.n(On),Sn=(n(1006),n(1007),n(544)),wn=Object.freeze({IMAGE_CAROUSEL_WEBSITE:"image_carousel_website",VIDEO_CAROUSEL_WEBSITE:"video_carousel_website",VIDEO_WEBSITE:"video_website",IMAGE_WEBSITE:"image_website",IMAGE_APP:"image_app",VIDEO_APP:"video_app",IMAGE_CAROUSEL_APP:"image_carousel_app",VIDEO_CAROUSEL_APP:"video_carousel_app",INVALID:"INVALID"}),Pn=n(106);function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rn=Dn({media:!0,details:!0,button_group:!0,app_store_details:!0,swipeable_media:!0,twitter_list_details:!0},{media_with_details_horizontal:!0}),Cn=function(e){var t=function(t){return t.map((function(t){return e.find((function(e){return e.type===t}))})).find(Boolean)},n="android"===A.a.getMobileOS()?t(["android_app","iphone_app","ipad_app"]):t(["iphone_app","ipad_app","android_app"]);if(n){n.category||(n.category={is_rtl:!1,content:"android_app"===n.type?"Play Store":"App Store"});var r,i="android_app"===n.type?(r=n.id,"http://play.google.com/store/apps/details?id=".concat(r)):function(e){return"https://itunes.apple.com/app/id".concat(e)}(n.id);return n.url=Pn.a.isMobileOS()?{pathname:i,external:!0,openInSameFrame:!0}:i,n}},kn=function(e,t){return e&&t[e].type===k.d.SWIPEABLE_MEDIA?{type:k.d.SWIPEABLE_MEDIA,data:{media_list:t[e].data.media_list}}:null},Ln=function(e,t,n){return e.find((function(e){return t[e]&&t[e].type===n}))};function Mn(e,t){var n={};return Object.keys(e).forEach((function(r){var i=e[r];n[r]=function(e,t){var n,r,i=e?e.data.destination:void 0;if(e){var a=e.data.app_id,o=Cn(t[a])||{};n=o.title,r=o.category?o.category.content:void 0}return{type:"app_store_details",data:{title:n,footer:r,destination:i}}}(i,t)})),n}function Nn(e){var t={};return Object.keys(e).forEach((function(n){var r,i,a,o=e[n];t[n]=(a=(r=o)?r.data.destination:void 0,r&&(i=Dn({},r.data.title)),{type:"details",data:{title:i,footer:void 0,destination:a}})})),t}function jn(e,t){var n={};return Object.keys(e).forEach((function(r){var i=e[r];n[r]=function(e,t){var n=e.data.destination,r=Dn({},e.data.name),i=t[e.data.user_id],a=e.data.member_count;return{type:k.d.TWITTER_LIST_DETAILS,data:{title:r,destination:n,memberCount:a,attribution:i}}}(i,t)})),n}function xn(e,t,n,r,i,a,o,s){var c,u,l,d,p,f,h,y,v,m=e&&"media_with_details_horizontal"===t[e].type?(u=t[e],d=u.data,p=d.destination,f=d.topic_detail,h=f.title,y=f.subtitle,v=d.media_id,l={},_()(l,k.b.MEDIA,{type:k.d.MEDIA,data:{id:v,aspect_ratio:1,destination:p}}),_()(l,k.b.TOPIC_DETAILS,{type:k.d.TOPIC_DETAILS,data:Dn(Dn({destination:p},y&&y.content?{description:Dn({},y)}:null),{},{title:h})}),l):null,g=Object.keys(n).reduce((function(e,t){return e[t]=Dn(Dn({},n[t]),{},{data:Dn(Dn({},n[t].data),{},{scribe_element:"uc_media_with_details_horizontal"})}),e}),{});return{state:k.c.DEFAULT,layout:(c={},_()(c,k.c.DEFAULT,{size:"small"}),_()(c,k.c.STATIC,{size:"small"}),c),card:{card_name:r,card_url:Rt(a,"string_value","card_url"),on_visibility:{scribe:"show"},id:i,components:_()({},k.c.DEFAULT,[k.b.MEDIA,k.b.TOPIC_DETAILS]),destinations:g,media_entities:Dn({},o),components_data:Dn({},m),ucLayout:s}}}var Un=function(e){var t;if(null===(t=e.unified_card)||void 0===t||!t.string_value||"string"!=typeof e.unified_card.string_value)return{components:[],component_objects:{},destination_objects:{},media_entities:{},app_store_data:{},users:{},type:wn.INVALID};var n=JSON.parse(e.unified_card.string_value),r=n.media_entities?Object.keys(n.media_entities).reduce((function(e,t){var r=n.media_entities[t],i=r.ext,a=In()(r,["ext"]);if("photo"===a.type){var o,s,c,u,l,d;a.altText=(null==i||null===(o=i.altText)||void 0===o||null===(s=o.r)||void 0===s||null===(c=s.ok)||void 0===c?void 0:c.text)||"";var p=null==i||null===(u=i.mediaColor)||void 0===u||null===(l=u.r)||void 0===l||null===(d=l.ok)||void 0===d?void 0:d.palette;p&&(a.ext_media_color={palette:p})}return e[t]=a,e}),{}):{};return Dn(Dn({},n),{},{media_entities:r})},Bn=function(e){return"".concat(e,"_static")};function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wn,Gn,Hn=function(e){var t,n,r,i,a=e.cardId,o=e.cardType,s=e.data,c=e.cardContext,u=Lt(s,"image_value","player_image_original"),l=parseInt(Rt(s,"string_value","player_width"),10)/parseInt(Rt(s,"string_value","player_height"),10),d=Rt(s,"string_value","content_duration_seconds"),p=Rt(s,"string_value","title"),f=Rt(s,"string_value","description");return{state:k.c.DEFAULT,layout:(t={},_()(t,k.c.DEFAULT,{size:"large"}),_()(t,k.c.STATIC,{size:"large"}),t),card:{card_name:o,card_url:Rt(s,"string_value","card_url"),on_visibility:{scribe:"show"},id:a,components:(n={},_()(n,k.c.DEFAULT,p||f?[k.b.MEDIA,k.b.DETAILS]:[k.b.MEDIA]),_()(n,k.c.STATIC,p||f?[k.b.MEDIA_STATIC,k.b.DETAILS_STATIC]:[k.b.MEDIA_STATIC]),n),destinations:_()({},k.b.DESTINATION_STATIC,{type:k.f.BROWSER,data:{url_data:{url:c.tweetPermalink||k.e},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:(r={},_()(r,k.b.IMAGE_ENTITY,Nt(u||{})),_()(r,k.b.VIDEO_ENTITY,Ut(Ut({type:"video",aspect_ratio:l,content_id:Rt(s,"string_value","amplify_content_id")},d?{duration_ms:1e3*parseInt(d,10)}:null),{},{vmap_url:Rt(s,"string_value","amplify_url_vmap"),poster_image:u,publisher_id:Rt(s,"string_value","site")||c.tweetUserId,variants:[]})),r),components_data:(i={},_()(i,k.b.MEDIA,{type:k.d.MEDIA,data:{id:k.b.VIDEO_ENTITY}}),_()(i,k.b.MEDIA_STATIC,{type:k.d.MEDIA,data:{id:k.b.IMAGE_ENTITY,destination:k.b.DESTINATION_STATIC,overlay:{type:k.g.PLAY}}}),_()(i,k.b.DETAILS,{type:k.d.DETAILS,data:{description:f?{content:f}:void 0,title:p?{content:p}:void 0}}),_()(i,k.b.DETAILS_STATIC,{type:k.d.DETAILS,data:{description:f?{content:f}:void 0,destination:k.b.DESTINATION_STATIC,title:p?{content:p}:void 0}}),i)}}},Yn=function(e){var t,n=e.cardId,r=e.cardType,i=e.data,a=Lt(i,"image_value","thumbnail_original"),o=Rt(i,"string_value","description"),s=Rt(i,"string_value","app_star_rating"),c=Rt(i,"string_value","app_num_ratings"),u=s&&c?A.a.renderRatingsLabel({appStarRating:s,appNumRatings:c}):void 0,l=Rt(i,"string_value","card_url");return{state:k.c.DEFAULT,layout:_()({},k.c.DEFAULT,{size:"small"}),card:{card_name:r,card_url:Rt(i,"string_value","card_url"),on_visibility:{scribe:"show"},id:n,components:_()({},k.c.DEFAULT,[k.b.MEDIA,k.b.DETAILS]),destinations:_()({},k.b.DESTINATION,{type:k.f.BROWSER,data:{url_data:Ft({url:Rt(i,"string_value","card_url")},u?null:{vanity:l}),scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:Ft({},a?_()({},k.b.IMAGE_ENTITY,Nt(a)):null),components_data:(t={},_()(t,k.b.MEDIA,{type:k.d.MEDIA,data:{id:a?k.b.IMAGE_ENTITY:null,aspect_ratio:1,destination:k.b.DESTINATION}}),_()(t,k.b.DETAILS,{type:k.d.DETAILS,data:{description:o?{content:o}:void 0,destination:k.b.DESTINATION,footer:u,title:{content:Rt(i,"string_value","title")}}}),t)}}},zn=function(e){var t,n,r,i,a=e.cardId,o=e.cardType,s=e.data,c=e.cardContext,u=Lt(s,"image_value","player_image_original"),l=parseInt(Rt(s,"string_value","player_width"),10)/parseInt(Rt(s,"string_value","player_height"),10),d=Rt(s,"string_value","content_duration_seconds");return{state:k.c.DEFAULT,layout:(t={},_()(t,k.c.DEFAULT,{size:"large"}),_()(t,k.c.STATIC,{size:"large"}),t),card:{card_name:o,card_url:Rt(s,"string_value","card_url"),on_visibility:{scribe:"show"},id:a,components:(n={},_()(n,k.c.DEFAULT,[k.b.MEDIA,k.b.DETAILS]),_()(n,k.c.STATIC,[k.b.MEDIA_STATIC,k.b.DETAILS]),n),destinations:_()({},k.b.DESTINATION,{type:k.f.BROWSER,data:{url_data:{url:Rt(s,"string_value","card_url")},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:(r={},_()(r,k.b.IMAGE_ENTITY,Nt(u)),_()(r,k.b.VIDEO_ENTITY,Wt(Wt({type:"video",aspect_ratio:l,content_id:Rt(s,"string_value","player_content_id")||jt(u.url)},d?{duration_ms:1e3*parseInt(d,10)}:null),{},{vmap_url:Rt(s,"string_value","player_stream_url"),poster_image:u,publisher_id:Rt(s,"string_value","player_owner_id")||c.tweetUserId,variants:[{src:Rt(s,"string_value","player_hls_url"),type:"application/x-mpegURL"}]})),r),components_data:(i={},_()(i,k.b.MEDIA,{type:k.d.MEDIA,data:{id:k.b.VIDEO_ENTITY,aspect_ratio:l}}),_()(i,k.b.MEDIA_STATIC,{type:k.d.MEDIA,data:{id:k.b.IMAGE_ENTITY,aspect_ratio:l,destination:k.b.DESTINATION}}),_()(i,k.b.DETAILS,{type:k.d.DETAILS,data:{destination:k.b.DESTINATION,title:{content:Rt(s,"string_value","title")},footer:Rt(s,"string_value","app_category")||"App Store"}}),i)}}},Kn=function(e){var t,n,r,i=e.cardId,a=e.cardType,o=e.data,s=e.users,c=kt(o,"user_value","site"),u=c&&s[c.id_str],l=Rt(o,"string_value","broadcaster_display_name"),d=Rt(o,"string_value","broadcast_state"),p=d===zt,f=Lt(o,"image_value","broadcast_thumbnail_original"),h=Lt(o,"image_value","broadcast_pre_live_slate")||Yt,y=p?h:f,v=Rt(o,"string_value","broadcast_scheduled_start_time"),m=p&&v?A.a.renderStartingTimeLabel(v):void 0,g=B.a.theme.aspectRatios.landscape,b=Math.max(parseInt(Rt(o,"string_value","broadcast_width"),10)/parseInt(Rt(o,"string_value","broadcast_height"),10),1);return{state:k.c.DEFAULT,layout:(t={},_()(t,k.c.DEFAULT,{size:"large"}),_()(t,k.c.STATIC,{size:y?"large":"small"}),t),card:{card_name:a,card_url:Rt(o,"string_value","card_url"),get_fetch_interval_for_updates:_()({},k.c.DEFAULT,(function(){return"NOT_STARTED"===d&&parseInt(v,10)<=Date.now()?Ht(Ht({},T),{},{initialPoll:!0}):T})),on_visibility:{scribe:"show"},id:i,components:(n={},_()(n,k.c.DEFAULT,[p?k.b.MEDIA_SECONDARY:k.b.MEDIA,k.b.DETAILS]),_()(n,k.c.STATIC,[k.b.MEDIA_SECONDARY,k.b.DETAILS]),n),destinations:_()({},k.b.DESTINATION,{type:k.f.BROADCAST,data:{broadcast_data:{id:Rt(o,"string_value","broadcast_id")},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:Ht(Ht({},y?_()({},k.b.IMAGE_ENTITY,Nt(y)):null),{},_()({},k.b.VIDEO_ENTITY,Ht(Ht({type:"live_broadcast",aspect_ratio:b,broadcast_id:Rt(o,"string_value","broadcast_id"),content_id:Rt(o,"string_value","broadcast_media_key"),destination:k.b.DESTINATION},y?{poster_image:y}:null),{},{timecode:Rt(o,"string_value","broadcast_timecode")||Rt(o,"string_value","broadcast_replay_edited_start_time")}))),components_data:(r={},_()(r,k.b.MEDIA,{type:k.d.MEDIA,data:{id:k.b.VIDEO_ENTITY,aspect_ratio:b}}),_()(r,k.b.MEDIA_SECONDARY,{type:k.d.MEDIA,data:{id:y?k.b.IMAGE_ENTITY:null,aspect_ratio:g,destination:k.b.DESTINATION,overlay:p?m?{type:k.g.LABEL,text:m}:void 0:{type:k.g.PLAY}}}),_()(r,k.b.DETAILS,{type:k.d.DETAILS,data:Ht(Ht({destination:k.b.DESTINATION},u?{attribution:u}:{category:{content:l}}),{},{title:{content:Rt(o,"string_value","broadcast_title")}})}),r)}}},qn=function(e){var t,n=e.cardId,r=e.cardType,i=e.data,a=Lt(i,"image_value","thumbnail_original"),o=Rt(i,"string_value","description"),s=Rt(i,"string_value","app_star_rating"),c=Rt(i,"string_value","app_num_ratings"),u=s&&c?A.a.renderRatingsLabel({appStarRating:s,appNumRatings:c}):void 0,l=Rt(i,"string_value","card_url");return{state:k.c.DEFAULT,layout:_()({},k.c.DEFAULT,{size:"small"}),card:{card_name:r,card_url:Rt(i,"string_value","card_url"),on_visibility:{scribe:"show"},id:n,components:_()({},k.c.DEFAULT,[k.b.MEDIA,k.b.DETAILS]),destinations:_()({},k.b.DESTINATION,{type:k.f.BROWSER,data:{url_data:qt({url:Rt(i,"string_value","card_url")},u?null:{vanity:l}),scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:qt({},a?_()({},k.b.IMAGE_ENTITY,Nt(a)):null),components_data:(t={},_()(t,k.b.MEDIA,{type:k.d.MEDIA,data:{id:a?k.b.IMAGE_ENTITY:null,aspect_ratio:1,destination:k.b.DESTINATION}}),_()(t,k.b.DETAILS,{type:k.d.DETAILS,data:{description:o?{content:o}:void 0,destination:k.b.DESTINATION,footer:u,title:{content:Rt(i,"string_value","title")}}}),t)}}},Jn=function(e){var t,n,r,i,a=e.cardId,o=e.cardType,s=e.data,c=e.cardContext,u=e.users,l=Lt(s,"image_value","image_original"),d=function(e){return[1,2,3,4].map((function(t){var n=Rt(s,"string_value","cta".concat(t)),r=Rt(s,"string_value","cta".concat(t,"_wm_id"));return n&&r?{cta:n,wm_id:r,destination:e,icon:"dm",index:t}:null})).filter(Boolean)},p=d(k.b.DESTINATION),f=d(k.b.DESTINATION_STATIC),h=kt(s,"user_value","recipient"),y=h&&u[h.id_str],v=h.id_str!==c.tweetUserId&&y;return{state:k.c.DEFAULT,layout:_()({},k.c.DEFAULT,{size:"large"}),card:{card_name:o,card_url:Rt(s,"string_value","card_url"),on_visibility:{scribe:"show"},id:a,components:(t={},_()(t,k.c.DEFAULT,[k.b.MEDIA].concat(Oe()(v?[k.b.DETAILS]:[]),[k.b.BUTTON_GROUP])),_()(t,k.c.STATIC,[k.b.MEDIA_STATIC].concat(Oe()(v?[k.b.DETAILS]:[]),[k.b.BUTTON_GROUP_STATIC])),t),destinations:(n={},_()(n,k.b.DESTINATION,{type:k.f.ACTION,data:{action_data:{persist:!1,type:"dm",recipient:h.id_str},auth_required:!0,scribe:"click",promoted_log:"dm_button_click"}}),_()(n,k.b.DESTINATION_STATIC,{type:k.f.BROWSER,data:{url_data:{url:c.tweetPermalink||k.e},scribe:"open_link",promoted_log:"card_url_click"}}),n),media_entities:_()({},k.b.IMAGE_ENTITY,Nt(l)),components_data:Qt(Qt((r={},_()(r,k.b.MEDIA,{type:k.d.MEDIA,data:{id:k.b.IMAGE_ENTITY}}),_()(r,k.b.MEDIA_STATIC,{type:k.d.MEDIA,data:{id:k.b.IMAGE_ENTITY,destination:k.b.DESTINATION_STATIC}}),r),v?_()({},k.b.DETAILS,{type:k.d.DETAILS,data:{attribution:y}}):null),{},(i={},_()(i,k.b.BUTTON_GROUP,{type:k.d.BUTTON_GROUP,data:{buttons:p}}),_()(i,k.b.BUTTON_GROUP_STATIC,{type:k.d.BUTTON_GROUP,data:{buttons:f}}),i))}}},Qn=function(e){var t,n,r,i,a,o=e.cardContext,s=e.cardId,c=e.cardType,u=e.data,l=e.users,d=kt(u,"user_value","author"),p=d&&l[d.id_str],f=Rt(u,"string_value","event_id"),h=Rt(u,"string_value","event_category"),y=Rt(u,"string_value","media_type"),v="broadcast"===y,m="video"===y,g=Rt(u,"string_value","broadcast_id"),b=Math.max(parseInt(Rt(u,"string_value","broadcast_width"),10)/parseInt(Rt(u,"string_value","broadcast_height"),10),1),E=Rt(u,"string_value","broadcast_media_key"),T=Rt(u,"string_value","media_tweet_id"),I=Lt(u,"image_value","event_thumbnail_original"),S=Lt(u,"image_value","broadcast_thumbnail"),w=v?S:I,P=v?void 0:[{h:parseInt(Rt(u,"string_value","event_thumbnail_media_size_crops_16x9_h"),10),w:parseInt(Rt(u,"string_value","event_thumbnail_media_size_crops_16x9_w"),10),x:parseInt(Rt(u,"string_value","event_thumbnail_media_size_crops_16x9_x"),10),y:parseInt(Rt(u,"string_value","event_thumbnail_media_size_crops_16x9_y"),10)}],A=Rt(u,"string_value","remind_me_notification_id"),D=Ct(u,"boolean_value","remind_me_toggle_visible")&&!!A,R=Ct(u,"boolean_value","remind_me_subscribed"),C=R?en:Zt;return{state:k.c.DEFAULT,layout:(t={},_()(t,k.c.DEFAULT,{size:"large"}),_()(t,k.c.DATA_SAVER,{size:"small"}),_()(t,k.c.SECONDARY,{size:"small",reverse:!0}),_()(t,k.c.STATIC,{size:w?"large":"small"}),t),card:{card_name:c,card_url:Rt(u,"string_value","card_url"),get_fetch_interval_for_updates:(n={},_()(n,k.c.DEFAULT,O),_()(n,k.c.DATA_SAVER,O),n),on_visibility:{scribe:"show"},id:s,components:(r={},_()(r,k.c.DEFAULT,[v||m?k.b.MEDIA:k.b.MEDIA_STATIC,k.b.DETAILS,k.b.BUTTON_GROUP]),_()(r,k.c.DATA_SAVER,[k.b.MEDIA_STATIC,k.b.DETAILS,k.b.BUTTON_GROUP]),_()(r,k.c.SECONDARY,[k.b.MEDIA_STATIC,k.b.DETAILS]),_()(r,k.c.STATIC,[k.b.MEDIA_STATIC,k.b.DETAILS,k.b.BUTTON_GROUP_STATIC]),r),destinations:(i={},_()(i,k.b.DESTINATION,{type:k.f.EVENT,data:{event_data:{id:f},scribe:"open_link",promoted_log:"card_url_click"}}),_()(i,k.b.DESTINATION_SECONDARY,{type:k.f.ACTION,data:{action_data:{persist:!0,type:"reminder"},auth_required:!0,scribe:"reminder",promoted_log:"card_url_click"}}),_()(i,k.b.DESTINATION_STATIC,{type:k.f.BROWSER,data:{url_data:{url:o&&o.tweetPermalink||k.e},scribe:"open_link",promoted_log:"card_url_click"}}),i),media_entities:$t($t({},w?_()({},k.b.IMAGE_ENTITY,Nt(w,P)):null),{},_()({},k.b.VIDEO_ENTITY,v?{type:"live_broadcast",aspect_ratio:b,broadcast_id:g,content_id:E,destination:k.b.DESTINATION,poster_image:w,timecode:Rt(u,"string_value","broadcast_replay_edited_start_time")}:{type:"tweet_video",aspect_ratio:B.a.theme.aspectRatios.landscape,media_tweet_id:T,event_id:f,poster_image:w})),components_data:(a={},_()(a,k.b.MEDIA,{type:k.d.MEDIA,data:{id:k.b.VIDEO_ENTITY,aspect_ratio:v?b:B.a.theme.aspectRatios.landscape}}),_()(a,k.b.MEDIA_STATIC,{type:k.d.MEDIA,data:{id:k.b.IMAGE_ENTITY,aspect_ratio:B.a.theme.aspectRatios.landscape,destination:k.b.DESTINATION}}),_()(a,k.b.BUTTON_GROUP,{type:k.d.BUTTON_GROUP,data:$t({},D?{buttons:[{cta:C,destination:k.b.DESTINATION_SECONDARY,eventId:f,index:0,isSelected:R,notificationId:A}]}:null)}),_()(a,k.b.BUTTON_GROUP_STATIC,{type:k.d.BUTTON_GROUP,data:$t({},D?{buttons:[{cta:C,destination:k.b.DESTINATION_STATIC,eventId:f,index:0,isSelected:R,notificationId:A}]}:null)}),_()(a,k.b.DETAILS,{type:k.d.DETAILS,data:$t($t({destination:k.b.DESTINATION},p?{attribution:p}:h?{category:{content:h}}:null),{},{title:{content:Rt(u,"string_value","event_title")}})}),a)}}},Xn=function(e){var t,n,r,i,a=e.cardId,o=e.cardType,s=e.data,c=e.cardContext,u=Rt(s,"string_value","default_composer_text"),l=Rt(s,"string_value","welcome_message_id"),d={composer_text:u,cta:A.a.getMessageMeString(Rt(s,"string_value","cta")),icon:"dm",index:0,wm_id:l},p=kt(s,"user_value","recipient");return{state:k.c.DEFAULT,layout:(t={},_()(t,k.c.DEFAULT,{size:"large",chromeless:!0}),_()(t,k.c.STATIC,{size:"large",chromeless:!0}),t),card:{card_name:o,card_url:Rt(s,"string_value","card_url"),on_visibility:{scribe:"message_me_show"},id:a,components:(n={},_()(n,k.c.DEFAULT,[k.b.BUTTON_GROUP]),_()(n,k.c.STATIC,[k.b.BUTTON_GROUP_STATIC]),n),destinations:(r={},_()(r,k.b.DESTINATION,{type:k.f.ACTION,data:{action_data:{persist:!1,type:"dm",recipient:p.id_str},auth_required:!0,scribe:"message_me_click",promoted_log:"card_url_click"}}),_()(r,k.b.DESTINATION_STATIC,{type:k.f.BROWSER,data:{url_data:{url:c.tweetPermalink||k.e},scribe:"open_link",promoted_log:"card_url_click"}}),r),media_entities:{},components_data:(i={},_()(i,k.b.BUTTON_GROUP,{type:k.d.BUTTON_GROUP,data:{buttons:[nn(nn({},d),{},{destination:k.b.DESTINATION})]}}),_()(i,k.b.BUTTON_GROUP_STATIC,{type:k.d.BUTTON_GROUP,data:{buttons:[nn(nn({},d),{},{destination:k.b.DESTINATION_STATIC})]}}),i)}}},$n=function(e){var t,n=e.cardId,r=e.cardType,i=e.data,a=e.users,o=Lt(i,"image_value","photo_image")||{url:Rt(i,"string_value","cover_format_media_url"),width:parseInt(Rt(i,"string_value","cover_format_media_size_w"),10)||0,height:parseInt(Rt(i,"string_value","cover_format_media_size_h"),10)||0},s=kt(i,"user_value","author"),c=s&&a[s.id_str],u=Rt(i,"string_value","title"),l=Rt(i,"string_value","description"),d=Rt(i,"string_value","subcategory_string");return{state:k.c.DEFAULT,layout:_()({},k.c.DEFAULT,{size:"small",reverse:!0}),card:{card_name:r,card_url:Rt(i,"string_value","card_url"),on_visibility:{scribe:"show"},id:n,components:_()({},k.c.DEFAULT,[k.b.MEDIA,k.b.DETAILS]),destinations:_()({},k.b.DESTINATION,{type:k.f.MOMENT,data:{moment_data:{moment:Rt(i,"string_value","id")},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:_()({},k.b.IMAGE_ENTITY,Nt(o)),components_data:(t={},_()(t,k.b.MEDIA,{type:k.d.MEDIA,data:{id:k.b.IMAGE_ENTITY,aspect_ratio:1,overlay:{type:k.g.MOMENTS},destination:k.b.DESTINATION}}),_()(t,k.b.DETAILS,{type:k.d.DETAILS,data:{attribution:c,category:!c&&d?{content:d}:void 0,description:l?{content:l}:void 0,destination:k.b.DESTINATION,title:u?{content:u}:void 0}}),t)}}},Zn=function(e){var t,n,r,i=e.cardId,a=e.cardType,o=e.data,s=e.users,c=Lt(o,"image_value","thumbnail_original"),u=Math.max(parseInt(Rt(o,"string_value","broadcast_width"),10)/parseInt(Rt(o,"string_value","broadcast_height"),10),1),l=Rt(o,"string_value","broadcaster_twitter_id"),d=l?s[l]:void 0,p=Rt(o,"string_value","description");return{state:k.c.DEFAULT,layout:(t={},_()(t,k.c.DEFAULT,{size:"large"}),_()(t,k.c.STATIC,{size:c?"large":"small"}),t),card:{card_name:a,card_url:Rt(o,"string_value","card_url"),on_visibility:{scribe:"show"},id:i,components:(n={},_()(n,k.c.DEFAULT,[k.b.MEDIA,k.b.DETAILS]),_()(n,k.c.STATIC,[k.b.MEDIA_STATIC,k.b.DETAILS]),n),destinations:_()({},k.b.DESTINATION,{type:k.f.BROWSER,data:{url_data:{url:Rt(o,"string_value","card_url"),vanity:Rt(o,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:an(an({},c?_()({},k.b.IMAGE_ENTITY,Nt(c)):null),{},_()({},k.b.VIDEO_ENTITY,an(an({type:"live_broadcast",aspect_ratio:u,broadcast_id:Rt(o,"string_value","id"),content_id:Rt(o,"string_value","broadcast_media_key"),destination:k.b.DESTINATION},c?{poster_image:c}:null),{},{timecode:Rt(o,"string_value","timecode")||Rt(o,"string_value","replay_edited_start_time")}))),components_data:(r={},_()(r,k.b.MEDIA,{type:k.d.MEDIA,data:{id:k.b.VIDEO_ENTITY,aspect_ratio:u}}),_()(r,k.b.MEDIA_STATIC,{type:k.d.MEDIA,data:{id:c?k.b.IMAGE_ENTITY:null,destination:k.b.DESTINATION,overlay:{type:k.g.PLAY}}}),_()(r,k.b.DETAILS,{type:k.d.DETAILS,data:{attribution:d,description:p?{content:p}:void 0,destination:k.b.DESTINATION,title:l?void 0:{content:Rt(o,"string_value","title")}}}),r)}}},er=function(e){var t,n,r,i,a=e.cardId,o=e.cardType,s=e.data,c=e.cardContext,u=e.users,l=Lt(s,"image_value","player_image_original"),d=Rt(s,"string_value","description"),p=Rt(s,"string_value","player_url"),f=parseInt(Rt(s,"string_value","player_width"),10)/parseInt(Rt(s,"string_value","player_height"),10),h=[k.b.MEDIA,k.b.DETAILS],y=[k.b.MEDIA_STATIC,k.b.DETAILS_SECONDARY];return on.a.isVineCard({name:o,binding_values:s})?ln({cardId:a,cardType:o,data:s,cardContext:c,users:u}):{state:k.c.DEFAULT,layout:(t={},_()(t,k.c.DEFAULT,{size:"small"}),_()(t,k.c.SECONDARY,{size:"large"}),_()(t,k.c.STATIC,{size:"small"}),_()(t,k.c.DATA_SAVER,{size:"small"}),t),card:{card_name:o,card_url:Rt(s,"string_value","card_url"),on_visibility:{scribe:"show"},id:a,components:(n={},_()(n,k.c.DEFAULT,c.tweetId?h:y),_()(n,k.c.SECONDARY,[k.b.MEDIA_SECONDARY,k.b.DETAILS_SECONDARY]),_()(n,k.c.STATIC,y),_()(n,k.c.DATA_SAVER,[k.b.MEDIA_STATIC,k.b.DETAILS_SECONDARY]),n),destinations:(r={},_()(r,k.b.DESTINATION,{type:k.f.ACTION,data:{action_data:{next_state:k.c.SECONDARY,persist:!1,vanity:Rt(s,"string_value",["vanity_url","card_url"])},scribe:"click",promoted_log:"card_url_click"}}),_()(r,k.b.DESTINATION_SECONDARY,{type:k.f.BROWSER,data:{url_data:{url:Rt(s,"string_value","card_url"),vanity:Rt(s,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),r),media_entities:un(l,p,c,f),components_data:(i={},_()(i,k.b.MEDIA,{type:k.d.MEDIA,data:{id:l?k.b.IMAGE_ENTITY:null,aspect_ratio:1,overlay:{type:k.g.PLAY},destination:p?k.b.DESTINATION:k.b.DESTINATION_SECONDARY}}),_()(i,k.b.MEDIA_SECONDARY,{type:k.d.MEDIA,data:{id:p?k.b.IFRAME_ENTITY:null,aspect_ratio:f}}),_()(i,k.b.MEDIA_STATIC,{type:k.d.MEDIA,data:{id:l?k.b.IMAGE_ENTITY:null,aspect_ratio:1,overlay:{type:k.g.PLAY},destination:k.b.DESTINATION_SECONDARY}}),_()(i,k.b.DETAILS,{type:k.d.DETAILS,data:cn(cn({destination:p?k.b.DESTINATION:k.b.DESTINATION_SECONDARY},d?{description:{content:d}}:null),{},{title:{content:Rt(s,"string_value","title")}})}),_()(i,k.b.DETAILS_SECONDARY,{type:k.d.DETAILS,data:cn(cn({destination:k.b.DESTINATION_SECONDARY},d?{description:{content:d}}:null),{},{title:{content:Rt(s,"string_value","title")}})}),i)}}},tr=function(e){var t,n,r,i,a,o=e.cardId,s=e.cardType,c=e.data,u=e.cardContext,l=Lt(c,"image_value","image_original"),d=Rt(c,"string_value","player_stream_url"),p=Lt(c,"image_value","player_image_original"),f=parseInt(Rt(c,"string_value","player_width"),10)/parseInt(Rt(c,"string_value","player_height"),10),h=Rt(c,"string_value","content_duration_seconds"),y=Ct(c,"boolean_value","counts_are_final"),v=Rt(c,"string_value","selected_choice"),m=Rt(c,"string_value","end_datetime_utc"),g=u.viewerUserId===u.tweetUserId,b={};l&&(b[k.b.IMAGE_ENTITY]=Nt(l)),d&&(b[k.b.VIDEO_ENTITY]={type:"video",aspect_ratio:f,content_id:Rt(c,"string_value","player_content_id")||jt(d),duration_ms:h?1e3*parseInt(h,10):void 0,vmap_url:d,poster_image:p,publisher_id:Rt(c,"string_value","player_owner_id")||u.tweetUserId,variants:[{src:Rt(c,"string_value","player_hls_url"),type:"application/x-mpegURL"}]},b[k.b.IMAGE_ENTITY_STATIC]=Nt(p||{}));var E=function(e){var t=[1,2,3,4].map((function(t){var n=Rt(c,"string_value","choice".concat(t,"_label")),r=Rt(c,"string_value","choice".concat(t,"_count"));return n?{index:t,cta:n,count:parseInt(r,10)||0,destination:e}:null})).filter(Boolean);return{type:"poll",data:pn(pn({choices:t,isAuthor:g,isFinal:y,resultTextSize:"normal",endDatetimeUtc:m},v?{selectedChoice:parseInt(v,10)}:null),{},{totalVotes:t.reduce((function(e,t){return e+t.count}),0),votingDisabled:u.withActionsDisabled})}};return{layout:_()({},k.c.DEFAULT,{size:"large",chromeless:!0}),state:k.c.DEFAULT,card:{id:o,card_name:s,card_url:Rt(c,"string_value","card_url"),on_visibility:{scribe:"show"},get_fetch_interval_for_updates:_()({},k.c.DEFAULT,(function(){return y?void 0:O()})),components:(t={},_()(t,k.c.DEFAULT,l||d?[k.b.POLL,k.b.MEDIA]:[k.b.POLL]),_()(t,k.c.STATIC,l||d?[k.b.POLL_STATIC,k.b.MEDIA_STATIC]:[k.b.POLL_STATIC]),t),components_data:pn((n={},_()(n,k.b.POLL,E(k.b.DESTINATION)),_()(n,k.b.POLL_STATIC,E(k.b.DESTINATION_STATIC)),n),l?(r={},_()(r,k.b.MEDIA,{type:k.d.MEDIA,data:{id:k.b.IMAGE_ENTITY}}),_()(r,k.b.MEDIA_STATIC,{type:k.d.MEDIA,data:{id:k.b.IMAGE_ENTITY}}),r):d?(i={},_()(i,k.b.MEDIA,{type:k.d.MEDIA,data:{id:k.b.VIDEO_ENTITY}}),_()(i,k.b.MEDIA_STATIC,{type:k.d.MEDIA,data:{id:k.b.IMAGE_ENTITY_STATIC}}),i):null),destinations:(a={},_()(a,k.b.DESTINATION,{type:k.f.ACTION,data:{action_data:{persist:!0,type:"vote"},auth_required:!0,scribe:"vote",promoted_log:"poll_card_vote"}}),_()(a,k.b.DESTINATION_STATIC,{type:k.f.BROWSER,data:{url_data:{url:u.tweetPermalink||k.e},scribe:"open_link",promoted_log:"card_url_click"}}),a),media_entities:b}}},nr=function(e){var t,n=e.cardId,r=e.cardType,i=e.data,a=Lt(i,"image_value","promo_image_original");return{state:k.c.DEFAULT,layout:_()({},k.c.DEFAULT,{size:"large"}),card:{card_name:r,card_url:Rt(i,"string_value","card_url"),on_visibility:{scribe:"show"},id:n,components:_()({},k.c.DEFAULT,[k.b.MEDIA,k.b.DETAILS,k.b.BUTTON_GROUP]),destinations:_()({},k.b.DESTINATION,{type:k.f.BROWSER,data:{url_data:{url:Rt(i,"string_value",["app_url","card_url"])},scribe:"open_link",promoted_log:"install_app"}}),media_entities:_()({},k.b.IMAGE_ENTITY,Nt(a)),components_data:(t={},_()(t,k.b.MEDIA,{type:k.d.MEDIA,data:{id:k.b.IMAGE_ENTITY,destination:k.b.DESTINATION}}),_()(t,k.b.DETAILS,{type:k.d.DETAILS,data:{destination:k.b.DESTINATION,title:{content:Rt(i,"string_value","title")},footer:"App Store"}}),_()(t,k.b.BUTTON_GROUP,{type:k.d.BUTTON_GROUP,data:{buttons:[{index:0,cta:A.a.getCtaString(Rt(i,"string_value","cta_key")),destination:k.b.DESTINATION}]}}),t)}}},rr=function(e){var t,n,r,i=e.cardId,a=e.cardType,o=e.data,s=e.cardContext,c=Rt(o,"string_value","thank_you_url"),u=Lt(o,"image_value",["cover_promo_image","promo_image"]),l=Lt(o,"image_value","promo_image"),d=Rt(o,"string_value","title"),p=function(e){return["one","two","three","four"].map((function(t,n){var r=Rt(o,"string_value","cta_".concat(t)),i=Rt(o,"string_value","cta_".concat(t,"_tweet"));return r&&i?{icon:"compose",index:n,cta:A.a.renderTweetActionLabel(r),tweet:i,destination:e}:null})).filter(Boolean)},f=p(k.b.DESTINATION),h=p(k.b.DESTINATION_STATIC);return{state:k.c.DEFAULT,layout:(t={},_()(t,k.c.DEFAULT,{size:"large"}),_()(t,k.c.SECONDARY,{size:"large"}),t),card:{card_name:a,card_url:Rt(o,"string_value","card_url"),on_visibility:{scribe:"show"},id:i,components:{default:[k.b.MEDIA,k.b.DETAILS,k.b.BUTTON_GROUP],secondary:[k.b.MEDIA_SECONDARY,k.b.DETAILS_SECONDARY],static:[k.b.MEDIA_STATIC,k.b.DETAILS_STATIC,k.b.BUTTON_GROUP_STATIC]},destinations:hn(hn(_()({},k.b.DESTINATION,{type:k.f.ACTION,data:{action_data:{next_state:k.c.SECONDARY,persist:!0,type:"compose"},auth_required:!0,scribe:"click",promoted_log:"convo_button_click"}}),c?_()({},k.b.DESTINATION_SECONDARY,{type:k.f.BROWSER,data:{url_data:{url:c,vanity:Rt(o,"string_value",["thank_you_vanity_url","thank_you_shortened_url","thank_you_url"])},scribe:"open_link",promoted_log:"card_url_click"}}):null),{},_()({},k.b.DESTINATION_STATIC,{type:k.f.BROWSER,data:{url_data:{url:s.tweetPermalink||k.e},scribe:"open_link",promoted_log:"card_url_click"}})),media_entities:(n={},_()(n,k.b.IMAGE_ENTITY,Nt(u)),_()(n,k.b.IMAGE_ENTITY_SECONDARY,Nt(l)),n),components_data:(r={},_()(r,k.b.MEDIA,{type:k.d.MEDIA,data:{id:k.b.IMAGE_ENTITY}}),_()(r,k.b.MEDIA_SECONDARY,{type:k.d.MEDIA,data:{id:k.b.IMAGE_ENTITY_SECONDARY,destination:k.b.DESTINATION_SECONDARY}}),_()(r,k.b.MEDIA_STATIC,{type:k.d.MEDIA,data:{id:k.b.IMAGE_ENTITY,destination:k.b.DESTINATION_STATIC}}),_()(r,k.b.DETAILS,{type:k.d.DETAILS,data:hn({},d?{title:{content:d}}:null)}),_()(r,k.b.DETAILS_SECONDARY,{type:k.d.DETAILS,data:hn({title:{content:Rt(o,"string_value","thank_you_text")}},c?{destination:k.b.DESTINATION_SECONDARY}:null)}),_()(r,k.b.DETAILS_STATIC,{type:k.d.DETAILS,data:hn({},d?{title:{content:d}}:null)}),_()(r,k.b.BUTTON_GROUP,{type:k.d.BUTTON_GROUP,data:{buttons:f}}),_()(r,k.b.BUTTON_GROUP_STATIC,{type:k.d.BUTTON_GROUP,data:{buttons:h}}),r)}}},ir=function(e){var t,n,r,i=e.cardId,a=e.cardType,o=e.data,s=e.cardContext,c=Rt(o,"string_value","thank_you_url"),u=Lt(o,"image_value",["cover_player_image_original","player_image_original"]),l=Lt(o,"image_value","player_image_original"),d=Lt(o,"image_value","cover_promo_image_original"),p=Rt(o,"string_value","title"),f=parseInt(Rt(o,"string_value","cover_player_width"),10)/parseInt(Rt(o,"string_value","cover_player_height"),10),h=parseInt(Rt(o,"string_value","player_width"),10)/parseInt(Rt(o,"string_value","player_height"),10),y=function(e){return["one","two","three","four"].map((function(t,n){var r=Rt(o,"string_value","cta_".concat(t)),i=Rt(o,"string_value","cta_".concat(t,"_tweet"));return r&&i?{icon:"compose",index:n,cta:A.a.renderTweetActionLabel(r),tweet:i,destination:e}:null})).filter(Boolean)},v=y(k.b.DESTINATION),m=y(k.b.DESTINATION_STATIC),g=Rt(o,"string_value","cover_player_stream_url"),b=Rt(o,"string_value","player_stream_url"),E=Rt(o,"string_value","player_hls_url"),T=kt(o,"user_value","site"),O=Rt(o,"string_value","content_duration_seconds"),I=Rt(o,"string_value","cover_content_duration_seconds");return{state:k.c.DEFAULT,layout:(t={},_()(t,k.c.DEFAULT,{size:"large"}),_()(t,k.c.SECONDARY,{size:"large"}),_()(t,k.c.STATIC,{size:"large"}),t),card:{card_name:a,card_url:Rt(o,"string_value","card_url"),on_visibility:{scribe:"show"},id:i,components:{default:[k.b.MEDIA,k.b.DETAILS,k.b.BUTTON_GROUP],secondary:[k.b.MEDIA_SECONDARY,k.b.DETAILS_SECONDARY],static:[k.b.MEDIA_STATIC,k.b.DETAILS_STATIC,k.b.BUTTON_GROUP_STATIC]},destinations:vn(vn(_()({},k.b.DESTINATION,{type:k.f.ACTION,data:{action_data:{next_state:k.c.SECONDARY,persist:!0,type:"compose"},auth_required:!0,scribe:"click",promoted_log:"convo_button_click"}}),c?_()({},k.b.DESTINATION_SECONDARY,{type:k.f.BROWSER,data:{url_data:{url:c,vanity:Rt(o,"string_value",["thank_you_vanity_url","thank_you_shortened_url","thank_you_url"])},scribe:"open_link",promoted_log:"card_url_click"}}):null),{},_()({},k.b.DESTINATION_STATIC,{type:k.f.BROWSER,data:{url_data:{url:s.tweetPermalink||k.e},scribe:"open_link",promoted_log:"card_url_click"}})),media_entities:vn(vn({},g?_()({},k.b.VIDEO_ENTITY,vn(vn({type:"video",aspect_ratio:f,content_id:jt(g)},I?{duration_ms:1e3*parseInt(I,10)}:null),{},{vmap_url:g,poster_image:u,publisher_id:T?T.id_str:s.tweetUserId})):null),{},(n={},_()(n,k.b.VIDEO_ENTITY_SECONDARY,vn({type:"video",aspect_ratio:h,content_id:jt(b),duration_ms:O?1e3*parseInt(O,10):void 0,vmap_url:b,poster_image:l,publisher_id:T?T.id_str:s.tweetUserId},E?{variants:[{src:E,type:"application/x-mpegURL"}]}:null)),_()(n,k.b.IMAGE_ENTITY,Nt(d||{})),_()(n,k.b.IMAGE_ENTITY_STATIC,Nt(l||{})),n)),components_data:(r={},_()(r,k.b.MEDIA,{type:k.d.MEDIA,data:{id:g?k.b.VIDEO_ENTITY:d?k.b.IMAGE_ENTITY:k.b.VIDEO_ENTITY_SECONDARY}}),_()(r,k.b.MEDIA_SECONDARY,{type:k.d.MEDIA,data:{id:k.b.VIDEO_ENTITY_SECONDARY}}),_()(r,k.b.MEDIA_STATIC,{type:k.d.MEDIA,data:{id:l?k.b.IMAGE_ENTITY_STATIC:k.b.IMAGE_ENTITY,destination:k.b.DESTINATION_STATIC,aspect_ratio:l?void 0:1.91}}),_()(r,k.b.DETAILS,{type:k.d.DETAILS,data:vn({},p?{title:{content:p}}:null)}),_()(r,k.b.DETAILS_SECONDARY,{type:k.d.DETAILS,data:vn({title:{content:Rt(o,"string_value","thank_you_text")}},c?{destination:k.b.DESTINATION_SECONDARY}:null)}),_()(r,k.b.DETAILS_STATIC,{type:k.d.DETAILS,data:vn({},p?{title:{content:p}}:null)}),_()(r,k.b.BUTTON_GROUP,{type:k.d.BUTTON_GROUP,data:{buttons:v}}),_()(r,k.b.BUTTON_GROUP_STATIC,{type:k.d.BUTTON_GROUP,data:{buttons:m}}),r)}}},ar=function(e){var t,n,r,i,a=e.cardId,o=e.cardType,s=e.data,c=e.cardContext,u=Lt(s,"image_value","player_image_original"),l=Rt(s,"string_value","player_hls_url"),d=parseInt(Rt(s,"string_value","player_width"),10)/parseInt(Rt(s,"string_value","player_height"),10),p=Rt(s,"string_value","content_duration_seconds");return{state:k.c.DEFAULT,layout:(t={},_()(t,k.c.DEFAULT,{size:"large"}),_()(t,k.c.STATIC,{size:"large"}),t),card:{card_name:o,card_url:Rt(s,"string_value","card_url"),on_visibility:{scribe:"show"},id:a,components:(n={},_()(n,k.c.DEFAULT,[k.b.MEDIA,k.b.DETAILS]),_()(n,k.c.STATIC,[k.b.MEDIA_STATIC,k.b.DETAILS]),n),destinations:_()({},k.b.DESTINATION,{type:k.f.BROWSER,data:{url_data:{domain:Rt(s,"string_value",["domain","vanity_url"]),url:Rt(s,"string_value",["website_shortened_url","website_url","card_url"]),vanity:Rt(s,"string_value",["vanity_url","website_shortened_url","website_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:(r={},_()(r,k.b.IMAGE_ENTITY,Nt(u)),_()(r,k.b.VIDEO_ENTITY,_n({type:"video",aspect_ratio:d,content_id:Rt(s,"string_value","player_content_id")||jt(u.url),duration_ms:p?1e3*parseInt(p,10):void 0,vmap_url:Rt(s,"string_value","player_stream_url"),poster_image:u,publisher_id:Rt(s,"string_value","player_owner_id")||c.tweetUserId},l?{variants:[{src:l,type:"application/x-mpegURL"}]}:null)),r),components_data:(i={},_()(i,k.b.MEDIA,{type:k.d.MEDIA,data:{id:k.b.VIDEO_ENTITY,aspect_ratio:d}}),_()(i,k.b.MEDIA_STATIC,{type:k.d.MEDIA,data:{id:k.b.IMAGE_ENTITY,aspect_ratio:d,destination:k.b.DESTINATION}}),_()(i,k.b.DETAILS,{type:k.d.DETAILS,data:{destination:k.b.DESTINATION,title:{content:Rt(s,"string_value","title")}}}),i)}}},or=function(e){var t,n=e.cardId,r=e.cardType,i=e.data,a=Lt(i,"image_value","promo_image_original");return{state:k.c.DEFAULT,layout:_()({},k.c.DEFAULT,{size:"large"}),card:{card_name:r,card_url:Rt(i,"string_value","card_url"),on_visibility:{scribe:"show"},id:n,components:_()({},k.c.DEFAULT,[k.b.MEDIA,k.b.DETAILS]),destinations:_()({},k.b.DESTINATION,{type:k.f.BROWSER,data:{url_data:{domain:Rt(i,"string_value",["domain","vanity_url"]),url:Rt(i,"string_value",["website_shortened_url","website_url","card_url"]),vanity:Rt(i,"string_value",["vanity_url","website_shortened_url","website_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:_()({},k.b.IMAGE_ENTITY,Nt(a)),components_data:(t={},_()(t,k.b.MEDIA,{type:k.d.MEDIA,data:{id:k.b.IMAGE_ENTITY,destination:k.b.DESTINATION}}),_()(t,k.b.DETAILS,{type:k.d.DETAILS,data:{destination:k.b.DESTINATION,title:{content:Rt(i,"string_value","title")}}}),t)}}},sr=function(e){var t,n=e.cardId,r=e.cardType,i=e.data,a=Lt(i,"image_value","thumbnail_image_original"),o=Rt(i,"string_value","description");return{state:k.c.DEFAULT,layout:_()({},k.c.DEFAULT,{size:"small"}),card:{card_name:r,card_url:Rt(i,"string_value","card_url"),on_visibility:{scribe:"show"},id:n,components:_()({},k.c.DEFAULT,[k.b.MEDIA,k.b.DETAILS]),destinations:_()({},k.b.DESTINATION,{type:k.f.BROWSER,data:{url_data:{domain:Rt(i,"string_value",["domain","vanity_url"]),url:Rt(i,"string_value","card_url"),vanity:Rt(i,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:bn({},a?_()({},k.b.IMAGE_ENTITY,Nt(a)):null),components_data:(t={},_()(t,k.b.MEDIA,{type:k.d.MEDIA,data:{id:a?k.b.IMAGE_ENTITY:null,aspect_ratio:1,destination:k.b.DESTINATION}}),_()(t,k.b.DETAILS,{type:k.d.DETAILS,data:bn(bn({destination:k.b.DESTINATION},o?{description:{content:o}}:null),{},{title:{content:Rt(i,"string_value","title")}})}),t)}}},cr=function(e){var t,n=e.cardId,r=e.cardType,i=e.data,a=Lt(i,"image_value","summary_photo_image_original"),o=Rt(i,"string_value","description");return{state:k.c.DEFAULT,layout:_()({},k.c.DEFAULT,{size:a?"large":"small"}),card:{card_name:r,card_url:Rt(i,"string_value","card_url"),on_visibility:{scribe:"show"},id:n,components:_()({},k.c.DEFAULT,[k.b.MEDIA,k.b.DETAILS]),destinations:_()({},k.b.DESTINATION,{type:k.f.BROWSER,data:{url_data:{domain:Rt(i,"string_value",["domain","vanity_url"]),url:Rt(i,"string_value","card_url"),vanity:Rt(i,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}}),media_entities:Tn({},a?_()({},k.b.IMAGE_ENTITY,Nt(a)):null),components_data:(t={},_()(t,k.b.MEDIA,{type:k.d.MEDIA,data:{id:a?k.b.IMAGE_ENTITY:null,aspect_ratio:a?1.91:1,destination:k.b.DESTINATION}}),_()(t,k.b.DETAILS,{type:k.d.DETAILS,data:Tn(Tn({destination:k.b.DESTINATION},o?{description:{content:o}}:null),{},{title:{content:Rt(i,"string_value","title")}})}),t)}}},ur=function(e){var t,n,r=e.cardId,i=e.cardType,a=e.data,o=e.cardContext.shouldConvertCarouselsToSingleMedia,s=Un(a),c=o?function(e){var t=e.components,n=e.component_objects,r=Ln(t,n,k.d.SWIPEABLE_MEDIA),i=kn(r,n);if(r&&i){var a={type:k.d.MEDIA,data:i.data.media_list[0]},o={},s=[];t.forEach((function(e){e===r?(o.media_1=a,s.push("media_1")):(s.push(e),o[e]=n[e])}));var c=e.type===wn.IMAGE_CAROUSEL_WEBSITE?wn.IMAGE_WEBSITE:wn.VIDEO_WEBSITE;return Dn(Dn({},e),{},{type:c,components:s,component_objects:o})}return e}(s):s,u=c.app_store_data,l=c.components,d=c.component_objects,p=c.destination_objects,f=c.media_entities,h=c.users,y=c.layout,v=function(e,t){return Object.keys(e).reduce((function(n,r){var i=e[r];if("app_store_with_docked_media"===i.type||"app_store"===i.type){var a=Cn(t[i.data.app_id]);n[r]={type:"browser",data:{url_data:{url:a?a.url:k.e},scribe:"unified_card_app_store_open_link",promoted_log:"unified_card_component_app_store_click"}}}else n[r]=Dn(Dn({},i),{},{data:Dn(Dn({},i.data),{},{scribe:"open_link",promoted_log:"unified_card_component_url_click"})});return n}),{})}(p,u),m="swipeable"===(null==y?void 0:y.type)?Object(Sn.a)(y.data.slides):l,g=Ln(m,d,"media_with_details_horizontal");if(!!g)return xn(g,d,v,i,r,a,f,y);var b=function(e,t){var n={};return e.forEach((function(e){var r=t[e],i=n[r.type]||{};i[e]=r,n[r.type]=i})),n}(m,d),E=b.details&&Nn(b.details),T=b.app_store_details&&Mn(b.app_store_details,u),O=b.twitter_list_details&&jn(b.twitter_list_details,h),I=b.button_group&&function(e,t){var n={};return Object.keys(e).forEach((function(r){var i,a=e[r];n[r]={type:k.d.BUTTON_GROUP,data:{buttons:null===(i=a.data.buttons)||void 0===i?void 0:i.map((function(e,n){var r=t[e.destination];return{index:n+1,icon:e.icon_type,destination:e.destination,cta:"cta"===e.type?A.a.getCtaString(e.action):e.text.content,is_rtl:"custom"===e.type?e.text.is_rtl:void 0,isAppDetails:r.type===k.f.APP_STORE||r.type===k.f.APP_STORE_WITH_DOCKED_MEDIA}}))}}})),n}(b.button_group,p),S=function(e,t){var n=Ln(e,t,k.d.SWIPEABLE_MEDIA);return{key:n,component:kn(n,t)}}(m,d),w=S.key,P=S.component,D=b.media,R={};E&&Object.keys(E).forEach((function(e){R[e]=E[e]})),T&&Object.keys(T).forEach((function(e){R[e]=T[e]})),I&&Object.keys(I).forEach((function(e){R[e]=I[e]})),P&&w&&(R[w]=P),O&&Object.keys(O).forEach((function(e){R[e]=O[e]}));var C=Object.keys(f).reduce((function(e,t){var n=f[t];return e[t]=Dn(Dn({},n),{},{type:"video"===n.type?"uc_video":n.type}),e}),{}),L=[],M=[];D&&Object.keys(D).forEach((function(e){var t=D[e];R[e]=t;var n=t?C[t.data.id]:null,r=n&&"uc_video"===n.type,i=e&&Bn(e);if(r&&(L.push(i),M.push(e)),r&&t&&i){var a=n?n.original_info.width/n.original_info.height:null;R[i]={type:k.d.MEDIA,data:{aspect_ratio:a||void 0,destination:t.data.destination,id:Bn(t.data.id),overlay:{type:k.g.PLAY}}}}}));var N=Object.keys(f).reduce((function(e,t){var n=f[t];return e[Bn(t)]={media_url_https:n.media_url_https,type:"photo",original_info:n.original_info},e}),{}),j=P&&P.data.media_list.some((function(e){return e.id&&"uc_video"===C[e.id].type}));j&&P&&(R[k.b.SWIPEABLE_MEDIA_STATIC]={type:k.d.SWIPEABLE_MEDIA,data:{media_list:P.data.media_list.map((function(e){return{destination:e.destination,id:Bn(e.id),overlay:{type:k.g.PLAY}}}))}});var x=[].concat(Oe()(L.length?L:[]),Oe()(j?[k.b.SWIPEABLE_MEDIA_STATIC]:[]),Oe()(m.filter((function(e){return!(M.includes(e)||j&&e===w)}))));return{state:k.c.DEFAULT,layout:(t={},_()(t,k.c.DEFAULT,{size:"large"}),_()(t,k.c.STATIC,{size:"large"}),t),card:{card_name:i,card_url:Rt(a,"string_value","card_url"),on_visibility:{scribe:"show"},id:r,components:(n={},_()(n,k.c.DEFAULT,m),_()(n,k.c.STATIC,x),n),destinations:v,media_entities:Dn(Dn({},C),N),components_data:R,ucLayout:y}}},lr=function(e){var t,n,r,i,a,o,s=e.cardId,c=e.cardType,u=e.data,l=e.cardContext,d=e.users,p=Lt(u,"image_value","player_image_original"),f=Rt(u,"string_value","player_stream_url"),h=parseInt(Rt(u,"string_value","player_width"),10)/parseInt(Rt(u,"string_value","player_height"),10),y=Rt(u,"string_value","content_duration_seconds"),v=function(e){return[1,2,3,4].map((function(t){var n=Rt(u,"string_value","cta".concat(t)),r=Rt(u,"string_value","cta".concat(t,"_wm_id"));return n&&r?{icon:"dm",index:t,cta:n,wm_id:r,destination:e}:null})).filter(Boolean)},m=v(k.b.DESTINATION),g=v(k.b.DESTINATION_STATIC),b=kt(u,"user_value","recipient"),E=b&&d[b.id_str],T=b.id_str!==l.tweetUserId&&E;return{state:k.c.DEFAULT,layout:(t={},_()(t,k.c.DEFAULT,{size:"large"}),_()(t,k.c.STATIC,{size:"large"}),t),card:{card_name:c,card_url:Rt(u,"string_value","card_url"),on_visibility:{scribe:"show"},id:s,components:(n={},_()(n,k.c.DEFAULT,[k.b.MEDIA].concat(Oe()(T?[k.b.DETAILS]:[]),[k.b.BUTTON_GROUP])),_()(n,k.c.STATIC,[k.b.MEDIA_STATIC].concat(Oe()(T?[k.b.DETAILS]:[]),[k.b.BUTTON_GROUP_STATIC])),n),destinations:(r={},_()(r,k.b.DESTINATION,{type:k.f.ACTION,data:{action_data:{persist:!1,type:"dm",recipient:b.id_str},auth_required:!0,scribe:"click",promoted_log:"dm_button_click"}}),_()(r,k.b.DESTINATION_STATIC,{type:k.f.BROWSER,data:{url_data:{url:l.tweetPermalink||k.e},scribe:"open_link",promoted_log:"card_url_click"}}),r),media_entities:(i={},_()(i,k.b.IMAGE_ENTITY,Nt(p||{})),_()(i,k.b.VIDEO_ENTITY,Vn(Vn({type:"video",aspect_ratio:h,content_id:Rt(u,"string_value","player_content_id")||jt(f)},y?{duration_ms:1e3*parseInt(y,10)}:null),{},{vmap_url:f,poster_image:p,publisher_id:Rt(u,"string_value","player_owner_id")||l.tweetUserId,variants:[{src:Rt(u,"string_value","player_hls_url"),type:"application/x-mpegURL"}]})),i),components_data:Vn(Vn((a={},_()(a,k.b.MEDIA,{type:k.d.MEDIA,data:{id:k.b.VIDEO_ENTITY}}),_()(a,k.b.MEDIA_STATIC,{type:k.d.MEDIA,data:{id:k.b.IMAGE_ENTITY,destination:k.b.DESTINATION_STATIC}}),a),T?_()({},k.b.DETAILS,{type:k.d.DETAILS,data:{attribution:E}}):null),{},(o={},_()(o,k.b.BUTTON_GROUP,{type:k.d.BUTTON_GROUP,data:{buttons:m}}),_()(o,k.b.BUTTON_GROUP_STATIC,{type:k.d.BUTTON_GROUP,data:{buttons:g}}),o))}}},dr=function(e){return Mt(e,(function(e){return e("player_width").and("player_height").and("amplify_url_vmap").and("amplify_content_id")}))},pr=function(e){return Mt(e,(function(e){return e("card_url").and("title")}))},fr=function(e){return Mt(e,(function(e){return e("card_url").and("title").and("player_width").and("player_height").and("player_image_original").and("player_stream_url")}))},hr=function(e){return Mt(e,(function(e){return e("card_url").and("broadcast_id").and("broadcast_title")}))},yr=function(e){return Mt(e,(function(e){return e("card_url").and("title")}))},vr=function(e){return Mt(e,(function(e){return e("recipient").and("cta1").and("cta1_wm_id").and("image_original")}))},mr=function(e){return Mt(e,(function(e){return e("card_url").and("event_id").and("event_title")}))},_r=function(e,t){return Mt(e,(function(e){return e("recipient").and("cta")}))&&t.tweetUserId===kt(e,"user_value","recipient").id_str},gr=function(e){return Mt(e,(function(e){return e("card_url").and((function(e){return e("photo_image").or("cover_format_media_url")})).and("id").and((function(e){return e("title").or("author").or("subcategory_string")}))}))},br=function(e){return Mt(e,(function(e){return e("card_url").and("broadcast_width").and("broadcast_height").and("id").and((function(e){return e("broadcaster_twitter_id").or("title")}))}))},Er=function(e){return on.a.isVineCard({name:"player",binding_values:e})?Mt(e,(function(e){return e("card_url").and("title").and("player_width").and("player_height").and("player_image_original").and("player_stream_url").and("player_stream_content_type")})):Mt(e,(function(e){return e("card_url").and("player_url").and("player_height").and("player_width").and("title")}))},Tr=function(e){return Mt(e,(function(e){return e("choice1_label").and("choice2_label").and("end_datetime_utc").and("counts_are_final").and("api").and("card_url")}))},Or=function(e){return Mt(e,(function(e){return e("card_url").and("title").and("promo_image_original").and("cta_key")}))},Ir=function(e){return Mt(e,(function(e){return e("card_url").and("thank_you_text").and("card_id").and("promo_image").and("cta_one").and("cta_one_tweet")}))},Sr=function(e){return Mt(e,(function(e){return e("card_url").and("thank_you_text").and("card_id").and("cta_one").and("cta_one_tweet").and("player_width").and("player_height").and("player_stream_url")}))},wr=function(e){return Mt(e,(function(e){return e("card_url").and("title").and("player_width").and("player_height").and("player_image_original").and("player_stream_url")}))},Pr=function(e){return Mt(e,(function(e){return e("card_url").and("title").and("promo_image_original")}))},Ar=function(e){return Mt(e,(function(e){return e("card_url").and("title")}))},Dr=function(e){return Mt(e,(function(e){return e("card_url").and("title")}))},Rr=function(e){var t,n=Un(e);if(null==n||!n.component_objects)return!1;var r=n.components;return"swipeable"===(null===(t=n.layout)||void 0===t?void 0:t.type)&&(r=Object(Sn.a)(n.layout.data.slides)),!!(r&&r.length>0&&r.every((function(e){return n.component_objects[e]&&n.component_objects[e].type in Rn})))},Cr=function(e){return Mt(e,(function(e){return e("recipient").and("cta1").and("cta1_wm_id").and("player_width").and("player_height").and("player_stream_url")}))},kr=(Wn={},_()(Wn,k.a.AMPLIFY,dr),_()(Wn,k.a.APP,pr),_()(Wn,k.a.APPPLAYER,fr),_()(Wn,k.a.BROADCAST,hr),_()(Wn,k.a.DIRECT_STORE_LINK_APP,yr),_()(Wn,k.a.IMAGE_DIRECT_MESSAGE,vr),_()(Wn,k.a.LIVE_EVENT,mr),_()(Wn,k.a.MESSAGE_ME,_r),_()(Wn,k.a.MOMENT,gr),_()(Wn,k.a.PERISCOPE_BROADCAST,br),_()(Wn,k.a.PLAYER,Er),_()(Wn,k.a.POLL_2_CHOICE_TEXT,Tr),_()(Wn,k.a.POLL_3_CHOICE_TEXT,Tr),_()(Wn,k.a.POLL_4_CHOICE_TEXT,Tr),_()(Wn,k.a.POLL_2_CHOICE_IMAGE,Tr),_()(Wn,k.a.POLL_3_CHOICE_IMAGE,Tr),_()(Wn,k.a.POLL_4_CHOICE_IMAGE,Tr),_()(Wn,k.a.POLL_2_CHOICE_VIDEO,Tr),_()(Wn,k.a.POLL_3_CHOICE_VIDEO,Tr),_()(Wn,k.a.POLL_4_CHOICE_VIDEO,Tr),_()(Wn,k.a.PROMO_IMAGE_APP,Or),_()(Wn,k.a.PROMO_IMAGE_CONVO,Ir),_()(Wn,k.a.PROMO_VIDEO_CONVO,Sr),_()(Wn,k.a.PROMO_VIDEO_WEBSITE,wr),_()(Wn,k.a.PROMO_WEBSITE,Pr),_()(Wn,k.a.SUMMARY,Ar),_()(Wn,k.a.SUMMARY_LARGE_IMAGE,Dr),_()(Wn,k.a.UNIFIED_CARD,Rr),_()(Wn,k.a.VIDEO_DIRECT_MESSAGE,Cr),Wn),Lr=function(e,t,n){var r=kr[e];return!!r&&r(t,n)},Mr=(Gn={},_()(Gn,k.a.AMPLIFY,Hn),_()(Gn,k.a.APP,Yn),_()(Gn,k.a.APPPLAYER,zn),_()(Gn,k.a.BROADCAST,Kn),_()(Gn,k.a.DIRECT_STORE_LINK_APP,qn),_()(Gn,k.a.IMAGE_DIRECT_MESSAGE,Jn),_()(Gn,k.a.LIVE_EVENT,Qn),_()(Gn,k.a.MESSAGE_ME,Xn),_()(Gn,k.a.MOMENT,$n),_()(Gn,k.a.PERISCOPE_BROADCAST,Zn),_()(Gn,k.a.PLAYER,er),_()(Gn,k.a.POLL_2_CHOICE_TEXT,tr),_()(Gn,k.a.POLL_3_CHOICE_TEXT,tr),_()(Gn,k.a.POLL_4_CHOICE_TEXT,tr),_()(Gn,k.a.POLL_2_CHOICE_IMAGE,tr),_()(Gn,k.a.POLL_3_CHOICE_IMAGE,tr),_()(Gn,k.a.POLL_4_CHOICE_IMAGE,tr),_()(Gn,k.a.POLL_2_CHOICE_VIDEO,tr),_()(Gn,k.a.POLL_3_CHOICE_VIDEO,tr),_()(Gn,k.a.POLL_4_CHOICE_VIDEO,tr),_()(Gn,k.a.PROMO_IMAGE_APP,nr),_()(Gn,k.a.PROMO_IMAGE_CONVO,rr),_()(Gn,k.a.PROMO_VIDEO_CONVO,ir),_()(Gn,k.a.PROMO_VIDEO_WEBSITE,ar),_()(Gn,k.a.PROMO_WEBSITE,or),_()(Gn,k.a.SUMMARY,sr),_()(Gn,k.a.SUMMARY_LARGE_IMAGE,cr),_()(Gn,k.a.UNIFIED_CARD,ur),_()(Gn,k.a.VIDEO_DIRECT_MESSAGE,lr),Gn),Nr=function(e,t){var n=e.binding_values,r=e.name,i=e.url,a=e.users,o=void 0===a?{}:a,s=Mr[r];return Lr(r,n,t)&&s?s({cardId:i,cardType:r,data:n,cardContext:t,users:o}):null},jr=n(735);function xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Br=function(e){switch(e.type){case k.f.BROWSER:case k.f.BROWSER_WITH_DOCKED_MEDIA:case k.f.BROWSER_WITH_MEDIA:return e.data.url_data.vanity;case k.f.ACTION:return e.data.action_data.vanity;default:return}},Fr=function(e,t){var n=Ur({},e),r=n.destination&&t[n.destination];return r?(n.vanity=Br(r),n):n},Vr=function(e,t){return Object(jr.a)(e,(function(e){var n=e&&e.id&&t[e.id];if(n)return n?Ur(Ur({},e),{},{media_entity:n}):void 0}))},Wr=B.a.create((function(e){return{media:{display:"block"},mediaBottomSpace:{marginBottom:e.spaces.space12},roundedTopLeft:{borderTopLeftRadius:e.borderRadii.xLarge},roundedTopRight:{borderTopRightRadius:e.borderRadii.xLarge},roundedBottomLeft:{borderBottomLeftRadius:e.borderRadii.xLarge},roundedBottomRight:{borderBottomRightRadius:e.borderRadii.xLarge},border:{borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small},overflowHidden:{overflow:"hidden"}}})),Gr=function(e){var t=e.a11yDomIds,n=e.card,r=e.cardWidth,a=e.chromeless,o=e.componentName,s=e.isFirstSlide,c=e.isTopStackItem,u=e.isLastSlide,l=e.isBottomStackItem,d=e.locationKey,p=e.nativeID,f=e.nextComponentName,h=e.persistCarouselMuteState,y=e.renderVideoPlayer,v=e.shouldRenderVideo,m=e.testIDs,_=e.useBlueButtonForAppDetails,g=e.shouldRenderSwipeableMedia,E=void 0===g||g,T=n.components_data[o];if(!T)return null;var O,I=f?n.components_data[f].type:void 0,S="media"===T.type,w=[c&&(!S||s)&&Wr.roundedTopLeft,c&&(!S||u)&&Wr.roundedTopRight,l&&(!S||s)&&Wr.roundedBottomLeft,l&&(!S||u)&&Wr.roundedBottomRight],P=n.media_entities,A=n.destinations,D=r<k.h?"small":"normal";if("details"===T.type||"topic_details"===T.type||"app_store_details"===T.type){var R=T.data,C=function(e,t,n){var r=st("large",e,n),i=r.titleMaxLines,a=r.descriptionMaxLines,o=n.destination&&t[n.destination];return{titleMaxLines:i,descriptionMaxLines:a,vanity:o&&Br(o),description:0!==a?n.description:void 0}}(r,A,R);return b.createElement(te,i()({},R,C,{chromeless:a,style:w,testID:null==m?void 0:m.layoutLarge.detail,withBottomPadding:"button_group"!==I}))}if("twitter_list_details"===T.type){var L=T.data,M=st("large",r,L).titleMaxLines;return b.createElement(ue,i()({},L,{style:w,titleMaxLines:M}))}if("swipeable_media"===T.type){if(!E)return null;var N=Vr(T.data.media_list,P);O=b.createElement(et,{persistCarouselMuteState:h,playOverlaySize:D,renderVideoPlayer:y,swipeableMedia:N})}else if("media"===T.type){var j,x=T.data,U=x.aspect_ratio,B=x.destination,V=x.overlay,W=x.id&&P[x.id];if(!v&&"uc_video"===(null===(j=W)||void 0===j?void 0:j.type)&&x.id)W=P[Bn(x.id)];if(!W)return null;O=b.createElement(be,{locationKey:d,media:{aspect_ratio:U,destination:B,mediaEntity:W,overlay:V},playOverlaySize:D,renderVideoPlayer:y})}if(O){var G="swipeable_media"===T.type;return b.createElement(F.default,{accessibilityHidden:!0,nativeID:p&&t?t.cardMediaDomId:void 0,style:[Wr.media,w,!G&&Wr.border,Wr.overflowHidden,"poll"===I&&Wr.mediaBottomSpace],testID:null==m?void 0:m.layoutLarge.media},O)}if("button_group"===T.type){var H=T.data.buttons;if(!H)return null;var z=ut(r);return b.createElement(Y,{buttonSize:z,buttons:H,chromeless:a,style:w,useBlueButtonForAppDetails:_})}if("poll"===T.type){var K=T.data;return b.createElement(Be,i()({},K,{style:w}))}return null},Hr=function(e,t){return dt(e,t)?t:e},Yr=B.a.create((function(e){return{container:{display:"block",boxShadow:"inset 0 0 0 ".concat(e.borderWidths.small," ").concat(e.colors.nestedBorderColor),borderRadius:e.borderRadii.xLarge}}})),zr=function(e){var t,n=e.componentNames,r=e.onLikelyInteraction,a=e.isCurrentSlide,o=e.isFirst,s=e.isLast,c=e.shouldRenderSwipeableMedia,u=e.withInteractiveStyling,l=In()(e,["componentNames","onLikelyInteraction","isCurrentSlide","isFirst","isLast","shouldRenderSwipeableMedia","withInteractiveStyling"]),d=b.useReducer(Hr,0),p=P()(d,2),f=p[0],h=p[1],y=l.a11yDomIds,v=l.nativeID,m=b.useCallback((function(e){h(e.nativeEvent.layout.width)}),[]),_=b.useCallback((function(e){e&&h(e.clientWidth)}),[]),g=n.length;return b.createElement(Fe.a,{accessibilityHidden:!a,accessibilityLabelledBy:v&&y?[y.cardMediaDomId,y.cardDetailDomId].join(" "):void 0,nativeID:v,onHoverIn:r,onLayout:m,onPressIn:r,style:!l.chromeless&&Yr.container,testID:null===(t=l.testIDs)||void 0===t?void 0:t.wrapper,viewRef:_,withFocusWithinFocusRing:!0,withInteractiveStyling:u,withOutsetFocusRing:!0},n.map((function(e,t){return b.createElement(Gr,i()({},l,{cardWidth:f,componentName:e,isBottomStackItem:t===g-1,isFirstSlide:o,isLastSlide:s,isTopStackItem:0===t,key:"".concat(t,"_").concat(e),nextComponentName:n[t+1],shouldRenderSwipeableMedia:c}))})))};function Kr(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jr(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var ei=!1,ti={swipeable:function(e){var t=e.card,n=e.playOverlaySize,r=e.renderVideoPlayer,a=e.persistCarouselMuteState,o=e.shouldRenderVideo,s=e.layoutData,c=In()(e,["card","playOverlaySize","renderVideoPlayer","persistCarouselMuteState","shouldRenderVideo","layoutData"]),u=b.useMemo((function(){return s.slides.map((function(e,n){var r,i,a,o=Kr(e);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=t.components_data[s];if("media"===c.type){i=c;break}}}catch(e){o.e(e)}finally{o.f()}return i&&i.data.id&&(r=t.media_entities[i.data.id]),{componentNames:e,mediaEntity:r}}))}),[t,s]);if(1===u.length)return b.createElement(zr,i()({},c,{card:t,componentNames:s.slides[0],isFirst:!0,isLast:!0,persistCarouselMuteState:a,renderVideoPlayer:r,shouldRenderSwipeableMedia:!1,shouldRenderVideo:o}));var l=u.some((function(e){var t;return"uc_video"===(null===(t=e.mediaEntity)||void 0===t?void 0:t.type)}));return b.createElement($e,{getMediaEntityForSlide:function(e){return u[e].mediaEntity},getPromotedLogData:function(e){return{ucEventData:{slide_index:e}}},hasVideo:l,items:u,persistCarouselMuteState:a,playOverlaySize:n,renderSlide:function(e){var n=e.currentSlide,r=e.loadedSlide,s=e.createBoundRenderVideoPlayer,u=e.index,l=e.item,d=e.position;e.playOverlaySize;return b.createElement(F.default,{key:l.componentNames.join()},b.createElement(zr,i()({},c,{card:t,componentNames:l.componentNames,isCurrentSlide:n===u,isFirst:"first"===d,isLast:"last"===d,persistCarouselMuteState:a,renderVideoPlayer:l.mediaEntity&&s&&s(l.mediaEntity),shouldRenderSwipeableMedia:!1,shouldRenderVideo:o&&r===u})))},renderVideoPlayer:r,shouldRenderAll:!0,shouldSetHeight:!0})}},ni=function(e){p()(n,e);var t=Zr(n);function n(e){var r;o()(this,n),r=t.call(this,e),_()(l()(r),"_handleLikelyInteraction",(function(){r.state.interactionLikely||r.setState({interactionLikely:!0})})),_()(l()(r),"_updateCardState",(function(e){r.setState({state:e})})),_()(l()(r),"_updateUCPromotedMetadata",(function(e){r.setState({ucPromotedMetadata:e})})),_()(l()(r),"_scribeCardAction",(function(e){var t=e.action,n=e.element,i=e.componentType,a=e.ctaIndex,o=e.isAuthRequired,s=e.clickContext,c=e.swipeEventDetails,u=r.state.card,l=r.props.onScribeEvent;u&&l&&l({action:t,element:n,componentType:i,cardName:u.card_name,cardUrl:u.card_url,ctaIndex:a,clickContext:s,isMessageMe:u.card_name===k.a.MESSAGE_ME,isAuthRequired:o,swipeEventDetails:c})})),_()(l()(r),"_onPromotedLogEvent",(function(e){var t=r.props.onPromotedLogEvent,n=r.state.ucPromotedMetadata;t&&t($r($r({},e),{},{ucPromotedMetadata:$r($r({},We(n||null)),We(e.ucPromotedMetadata?e.ucPromotedMetadata:null))}))})),_()(l()(r),"_requestCardUpdate",(function(){var e=r.props.requestCardUpdate,t=r.state.card;e&&t&&e([t.id],{name:t.card_name})}));var i=r._convertCard(e);return r.state=i?$r({},i):{},r}return c()(n,[{key:"componentDidMount",value:function(){var e=this.state.card;e&&this._scribeCardAction({action:e.on_visibility.scribe,componentType:"card"})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState(this._convertCard(e))}},{key:"render",value:function(){var e,t=this.state,r=t.card,a=t.state,o=t.ucPromotedMetadata,s=t.carouselIndex,c=this.props,u=c.a11yDomIds,l=c.cardContext,d=c.dmSentOrReceived,p=c.isDataSaverEnabled,f=c.isInteractive,h=c.isPromoted,y=c.onCardLinkClick,v=c.onEventReminderClick,m=c.onPollVote,_=c.onScribeEvent,E=c.persistCarouselMuteState,T=c.promotedContent,O=c.nativeID,S=c.requestCardUpdate,w=c.testIDs,P=c.transformUrl,A=c.useBlueButtonForAppDetails,D=c.withSquareBottomBorderRadius;if(!r)return null;var R=this._getCurrentLayout(),C=this._getDetailData()||this._getAppStoreDetailData(),k=this._getTwitterListDetailsData(),L=this._getTopicDetailsData(),M=this._getMediaData(),N=this._getPollData(),j=this._getButtonsData(),x=this._getSwipeableMediaData(),U=r.get_fetch_interval_for_updates,B=this.props.withInteractiveStyling&&!!(C&&C.destination||k&&k.destination||L&&L.destination),F={a11yDomIds:u,dmSentOrReceived:d,locationKey:l.locationKey,onLikelyInteraction:this._handleLikelyInteraction,nativeID:O,testIDs:w,withInteractiveStyling:B,withSquareBottomBorderRadius:D},V=S&&(null==U||null===(e=U[a])||void 0===e?void 0:e.call(U)),W=M&&M.mediaEntity&&"photo"===M.mediaEntity.type,G=L||C,H=null;if("small"===R.size||p&&C&&!j&&W&&!h)G&&M&&(H=b.createElement(At,i()({},F,{details:G,isTopicCard:!!L,media:M,reverse:R.reverse})));else if(r.ucLayout&&ti.hasOwnProperty(r.ucLayout.type)){var Y=ti[r.ucLayout.type];H=b.createElement(Y,{a11yDomIds:u,card:r,chromeless:R.chromeless,layoutData:r.ucLayout.data,locationKey:l.locationKey,nativeID:O,onLikelyInteraction:this._handleLikelyInteraction,persistCarouselMuteState:E,renderVideoPlayer:this.props.renderVideoPlayer,shouldRenderVideo:"static"!==a,testIDs:w,useBlueButtonForAppDetails:A,withInteractiveStyling:B})}else H=b.createElement(_t,i()({},F,{buttons:j||void 0,chromeless:R.chromeless,details:C,listDetails:k||void 0,media:M,persistCarouselMuteState:E,poll:N||void 0,renderVideoPlayer:this.props.renderVideoPlayer,swipeableMedia:x,useBlueButtonForAppDetails:A}));return b.createElement(g.b,{viewType:"card"},b.createElement(n.Context.Provider,{value:{card:r,carouselIndex:s,isDataSaverEnabled:p,isInteractive:f,isPromoted:h,media:M,promotedContent:T,onEventReminderClick:v,onCardLinkClick:y,onPollVote:m,onPromotedLogEvent:this._onPromotedLogEvent,onScribeEvent:_,scribeCardAction:this._scribeCardAction,transformUrl:P,ucPromotedMetadata:o,updateCardState:this._updateCardState,updateUCPromotedMetadata:this._updateUCPromotedMetadata}},this._renderPreconnectTags(),V?b.createElement(I,{fetchIntervalConfig:V,requestCardUpdate:this._requestCardUpdate}):null,H))}},{key:"_getCurrentLayout",value:function(){var e=this.state,t=e.layout,n=e.state;return t[this.props.isDataSaverEnabled?k.c.DATA_SAVER:n]||t[k.c.DEFAULT]}},{key:"_getButtonsData",value:function(){var e=this._getComponent("button_group");return e?e.data.buttons:null}},{key:"_getSwipeableMediaData",value:function(){var e,t=this.state.card,n=this._getComponent("swipeable_media"),r=null==n||null===(e=n.data)||void 0===e?void 0:e.media_list;if(r)return Vr(r,t.media_entities)}},{key:"_getDetailData",value:function(){var e=this._getComponent("details"),t=this.state.card,n=null==e?void 0:e.data;return n?Fr(n,t.destinations):null}},{key:"_getAppStoreDetailData",value:function(){var e=this._getComponent("app_store_details"),t=this.state.card,n=null==e?void 0:e.data;return n?Fr(n,t.destinations):null}},{key:"_getTwitterListDetailsData",value:function(){var e=this._getComponent("twitter_list_details");return(null==e?void 0:e.data)||null}},{key:"_getTopicDetailsData",value:function(){var e=this._getComponent("topic_details");return(null==e?void 0:e.data)||null}},{key:"_getMediaData",value:function(){var e=this.state.card,t=this._getComponent("media"),n=null==t?void 0:t.data;if(n)return function(e,t){var n=e.aspect_ratio,r=e.destination,i=e.overlay;return{aspect_ratio:n,destination:r,mediaEntity:e.id&&t?t[e.id]:void 0,overlay:i}}(n,e.media_entities)}},{key:"_getPollData",value:function(){var e=this._getComponent("poll");return e?e.data:null}},{key:"_getComponent",value:function(e){var t=this.state,n=t.card,r=t.state,i=this.props.isDataSaverEnabled;if(!n)throw new Error("No card data available");var a,o=i?k.c.DATA_SAVER:r,s=Jr(n.components[o]||n.components[k.c.DEFAULT]);try{for(s.s();!(a=s.n()).done;){var c=a.value,u=n.components_data[c];if(u&&u.type===e)return u}}catch(e){s.e(e)}finally{s.f()}}},{key:"_renderPreconnectTags",value:function(){var e=this._getDetailData()||this._getAppStoreDetailData(),t=this.state,n=t.card,r=t.interactionLikely,i=this.props.isPromoted;if(!e||!e.destination||!n)return null;var a=n.destinations[e.destination];if(a.type!==k.f.BROWSER)return null;var o=a.data.url_data.url,s=a.data.url_data.domain||a.data.url_data.vanity;if(!s)return null;var c=r||i,u=r&&i&&ei;return c?b.createElement(b.Fragment,null,u?b.createElement("link",{href:o,rel:"prerender"}):null,c?b.createElement("link",{href:o,rel:"preconnect"}):null,c?b.createElement("link",{href:"//".concat(s),rel:"preconnect"}):null):null}},{key:"_convertCard",value:function(e){var t=e.card,n=e.cardState,r=e.cardContext,i=e.shouldConvertCarouselsToSingleMedia,a=e.initialCarouselIndex,o=Nr(t,$r($r({},r),{},{shouldConvertCarouselsToSingleMedia:i})),s=n||!!this.state&&this.state.state||o&&o.state||void 0;return o&&s?$r($r({},o),{},{state:s,carouselIndex:a}):null}}],[{key:"setAllowPrerender",value:function(e){ei=e}}]),n}(b.Component);_()(ni,"defaultProps",{isDataSaverEnabled:!1,isInteractive:!0,isPromoted:!1,persistCarouselMuteState:!1,withInteractiveStyling:!0}),_()(ni,"Context",b.createContext(Object.freeze({}))),ni.propTypes={};var ri=t.a=ni},846:function(e,t,n){"use strict";n(62);var r=n(3),i=n.n(r),a=n(4),o=n.n(a),s=n(7),c=n.n(s),u=n(18),l=n.n(u),d=n(22),p=n.n(d),f=n(11),h=n.n(f),y=n(1),v=n.n(y),m=(n(70),n(40),n(548),n(130),n(0)),_=n(5),g=n(34),b=n(26),E=n(59),T=n.n(E),O=n(67),I=n.n(O),S=(n(380),n(30),n(386),n(127)),w=n.n(S),P=n(390),A=w.a.ga629a8b,D=function(e,t,n){return e?m.createElement(P.a,{screenName:t},m.createElement(b.c,{link:"/".concat(t),onClick:n},"@".concat(t))):"@".concat(t)},R=function(e){var t=e.children,n=e.onClick,r=e.viewMorePath;return m.createElement(b.c,{accessibilityLabel:A,link:r,onClick:n},t)},C=(n(1017),n(69),n(102),n(103),n(129),n(721)),k=function(e){return e&&e.screen_name||""},L=function(e,t){return e.find((function(e){return e.id_str===t}))},M="NotIncluded",N="DirectReply",j="NonDirectReply",x=function(e){var t=e.displayTextRange,n=e.inReplyToName,r=e.inReplyToScreenName,i=e.inReplyToUserIdStr,a=e.userMentionsEntities,o=a.filter((function(e){return e.indices[0]<t[0]||e.id_str===i})),s=I()(o),c=L(a,i),u=n||r;return!c&&i&&u&&r&&(c={id_str:i,name:u,screen_name:r,indices:[]},s.push(c)),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.a,n=new Set;return e.filter((function(r,i){var a=t(r,i,e);return!n.has(a)&&(n.add(a),!0)}))}(s,(function(e){return e.id_str}))},U=function(e){var t=e.displayTextRange,n=e.inReplyToName,r=e.inReplyToScreenName,i=e.inReplyToUserIdStr,a=e.linkify,o=e.loggedInUserId,s=e.onClick,c=e.tweetPermalink,u=e.userMentionsEntities,l=i,d=x({displayTextRange:t,inReplyToName:n,inReplyToScreenName:r,inReplyToUserIdStr:i,userMentionsEntities:u}),p=L(d,l),f=function(e,t,n){var r=e?m.createElement(R,{onClick:n,viewMorePath:t}):m.createElement("span",null),i=e?m.createElement(b.c,{color:"link"}):m.createElement("span",null);return{replyToOne:function(t){var r=t.userName,i=D(e,r,n);return m.createElement(w.a.I18NFormatMessage,{$i18n:"h5970807"},i)},replyToTwo:function(t){var r=t.userOneName,a=t.userTwoName,o=D(e,r,n),s=D(e,a,n);return m.createElement(w.a.I18NFormatMessage,{$i18n:"ge01e6a2"},o,m.cloneElement(i,null,w.a.f34e6516),s)},replyToMany:function(t){var i=t.userName,a=t.othersCount,o=D(e,i,n);return m.createElement(w.a.I18NFormatMessage,{$i18n:"f5a069ab"},o,m.cloneElement(r,null,w.a.ff31714c({othersCount:a})))},indirectReplyToThree:function(t){var r=t.userOneName,a=t.userTwoName,o=t.userThreeName,s=D(e,r,n),c=D(e,a,n),u=D(e,o,n);return m.createElement(w.a.I18NFormatMessage,{$i18n:"hd7dd197"},s,c,m.cloneElement(i,null,w.a.e06c99b6),u)},indirectReplyToMany:function(t){var i=t.userOneName,a=t.userTwoName,o=t.othersCount,s=D(e,i,n),c=D(e,a,n);return m.createElement(w.a.I18NFormatMessage,{$i18n:"g4eb2847"},s,c,m.cloneElement(r,null,w.a.i4e2f96b({othersCount:o})))}}}(a,"".concat(c,"/people"),s),h=o===l,y=d.some((function(e){return e.id_str===o}));switch(h?N:y?j:M){case N:case M:switch(d.length){case 1:return f.replyToOne({userName:k(p)});case 2:var v=d.find((function(e){return e!==p}));return f.replyToTwo({userOneName:k(p),userTwoName:k(v)});case 3:var _=d.filter((function(e){return e!==p})),g=T()(_,2),E=g[0],O=g[1];return f.indirectReplyToThree({userOneName:k(p),userTwoName:k(E),userThreeName:k(O)});default:var I=d.find((function(e){return e!==p}));return f.indirectReplyToMany({userOneName:k(p),userTwoName:k(I),othersCount:d.length-2})}case j:switch(d.length){case 1:return null;case 2:var S=d.find((function(e){return e!==p}));return f.replyToTwo({userOneName:k(p),userTwoName:k(S)});case 3:var P=d.find((function(e){var t=e.id_str;return t!==o&&t!==l}));return f.indirectReplyToThree({userOneName:k(p),userTwoName:k(L(d,o)),userThreeName:k(P)});default:return f.indirectReplyToMany({userOneName:k(p),userTwoName:k(L(d,o)),othersCount:d.length-2})}default:return null}};function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var F=Object.freeze({Threaded:"threaded",Isolated:"isolated",None:"none"}),V=[F.Threaded,F.Isolated,F.None],W=Object.freeze({all:"all",name:"name",none:"none"}),G=function(e){l()(n,e);var t=B(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),v()(c()(e),"_handleClick",(function(t){var n=e.props,r=n.onClick,i=n.displayTextRange,a=n.inReplyToName,o=n.inReplyToScreenName,s=n.inReplyToUserIdStr,c=n.userMentionsEntities;r&&r(t,x({displayTextRange:i,inReplyToName:a,inReplyToScreenName:o,inReplyToUserIdStr:s,userMentionsEntities:c}).length)})),e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.displayTextRange,n=e.inReplyToName,r=e.inReplyToScreenName,i=e.inReplyToStatusIdStr,a=e.inReplyToUserIdStr,o=e.linkColor,s=e.linkType,c=e.loggedInUserId,u=e.nativeID,l=e.tweetPermalink,d=e.size,p=e.style,f=e.userMentionsEntities,h=U({displayTextRange:t,inReplyToName:n,inReplyToScreenName:r,inReplyToUserIdStr:a,tweetPermalink:l,loggedInUserId:c,linkify:s===W.name,onClick:this._handleClick,userMentionsEntities:f});if(s===W.all){var y=i&&"/".concat(r||"i","/status/").concat(i);return m.createElement(b.c,{color:o,link:y,nativeID:u,size:d,style:p},h)}return s===W.name?m.createElement(g.default,{style:[H.root,p]},m.createElement(b.c,{color:"gray600",nativeID:u,size:d},h)):m.createElement(b.c,{color:"gray600",nativeID:u,size:d,style:p},h)}}]),n}(m.PureComponent);v()(G,"getReplyContextParticipants",x),v()(G,"ReplyContextTypes",F),v()(G,"TweetReplyContextTypes",V),v()(G,"ReplyContextLinkTypes",W),v()(G,"defaultProps",{linkColor:b.a.link,linkType:W.name,size:"normal",userMentionsEntities:[]});var H=_.a.create((function(e){return{root:{display:"inline-block"}}}));t.a=G},848:function(e,t,n){"use strict";var r=n(2),i=n.n(r),a=n(0),o=n(1603).a,s=n(751),c=n(818),u=function(e){var t=e.poster;return a.createElement(s.b,i()({},e,{basePlayerClass:o}),(function(e){var n=e.guestsState,r=e.playerApi,i=e.playerState,o=e.containerRef;return a.createElement(c.a,{containerRef:o,guestsState:n,playerApi:r,playerState:i,poster:t})}))};u.defaultProps={size:"small"};t.a=u},849:function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"c",(function(){return C}));n(25),n(47),n(30),n(39),n(17),n(20),n(48);var r=n(1),i=n.n(r),a=(n(88),n(1014)),o=n(764),s=n(36),c=n.n(s),u=n(67),l=n.n(u),d=n(41),p=n.n(d),f=(n(100),n(40),n(550),n(551),n(232),n(69),n(233),n(756)),h=n(773),y=n(753),v=n(815);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){var t=function(e,t){if("object"!==c()(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c()(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c()(t)?t:String(t)}var b=function(e,t){e[t];return p()(e,[t].map(g))},E=function(e){var t=e.intentToPlayTime;return void 0===t?new Date:t},T={volume:1,areCaptionsShown:!1,hasCaptions:!1,hasPlaybackStarted:!1,intentToPlayTime:void 0,isMuted:!1,isPlaying:!1,isScrubbing:!1,controls:{isHidden:!0,isPosterShown:!0}},O=n(774),I=n(782),S=n(996);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=P(P(P(P(P(P(P(P(P({},a.a),o.a),T),f.d),O.b),I.a),S.b),h.a),{},{percentVisible:1,percentOfViewportOccupied:1,sizesInfo:{}}),D=[a.c,f.h,function(e,t){var n;switch(t.type){case f.c:return _(_({},e),{},{intentToPlayTime:t.intentToPlayTime});case y.p:case o.c:return e.isPlaying&&e.controls.playState!==y.k.PAUSE_REQUESTED?e:_(_({},e),{},{intentToPlayTime:E(e),controls:_(_({},e.controls),{},{playState:y.k.PLAY_REQUESTED})});case o.b:case y.o:case y.b:return e.isPlaying||e.controls.playState===y.k.PLAY_REQUESTED?_(_({},e),{},{controls:_(_({},e.controls),{},{playState:y.k.PAUSE_REQUESTED})}):e;case y.r:var r=Object(v.b)(e),i=Object(v.c)(e);return r&&"maxLoopCount"in r&&(r.loopCounter=0,r.shouldLoop=!0),_(_({},e),{},{intentToPlayTime:E(e),tracks:r?[].concat(l()(i),[_({},r)]):e.tracks,controls:_(_({},e.controls),{},{isReplayButtonShown:!1,playState:y.k.PLAY_REQUESTED})});case y.y:return n=b(e.controls,"playState"),e.controls.playState!==y.k.PLAY_REQUESTED&&(n.playState=e.controls.playState),n.isPosterShown=!1,_(_({},e),{},{controls:n,hasPlaybackStarted:!0,isPlaying:!0});case y.x:return n=b(e.controls,"playState"),e.controls.playState!==y.k.PAUSE_REQUESTED&&(n.playState=e.controls.playState),_(_({},e),{},{controls:n,isPlaying:!1});case y.n:return _(_({},e),{},{controls:_(_({},e.controls),{},{muteState:y.j.MUTE_REQUESTED})});case y.t:return n=_(_({},e.controls),{},{muteState:y.j.UNMUTE_REQUESTED}),0!==e.volume||e.controls.volume>0||(n.volume=1),_(_({},e),{},{controls:n});case y.u:return n=_(_({},e.controls),{},{volume:t.volume}),0!==t.volume||e.isMuted?t.volume>0&&e.isMuted&&(n.muteState=y.j.UNMUTE_REQUESTED):n.muteState=y.j.MUTE_REQUESTED,_(_({},e),{},{controls:n});case y.B:return n=b(b(e.controls,"muteState"),"volume"),e.controls.muteState!==y.j.MUTE_REQUESTED||t.isMuted?e.controls.muteState===y.j.UNMUTE_REQUESTED&&t.isMuted&&(n.muteState=y.j.UNMUTE_REQUESTED):n.muteState=y.j.MUTE_REQUESTED,t.volume!==e.controls.volume&&(n.volume=e.controls.volume),_(_({},e),{},{controls:n,volume:t.volume,isMuted:t.isMuted});case y.s:return _(_({},e),{},{isScrubbing:!0,controls:_(_({},e.controls),{},{scrubToFraction:t.fraction})});case y.q:var a=t.startTimeS,s=t.endTimeS;return _(_({},e),{},{controls:_(_({},e.controls),{},{playbackTimeRange:{startTimeS:a,endTimeS:s}})});case y.z:return n=b(e.controls,"scrubToFraction"),_(_({},e),{},{isScrubbing:!1,controls:n});case y.d:return n=b(e.controls,"playbackTimeRange"),_(_({},e),{},{controls:n});case y.A:return _(_({},e),{},{isScrubbing:!0});case y.h:return _(_({},e),{},{controls:_(_({},e.controls),{},{isHidden:!0})});case y.v:return _(_({},e),{},{controls:_(_({},e.controls),{},{isHidden:!1})});case y.m:return _(_({},e),{},{userSpecifiedCaptions:t.isUserSet,controls:_(_({},e.controls),{},{captionsState:y.f.CAPTIONS_ON_REQUESTED})});case y.l:return _(_({},e),{},{userSpecifiedCaptions:t.isUserSet,controls:_(_({},e.controls),{},{captionsState:y.f.CAPTIONS_OFF_REQUESTED})});case y.e:return n=b(e.controls,"captionsState"),_(_({},e),{},{areCaptionsShown:t.areCaptionsShown,controls:n});case h.f:var c=_({},e),u=Object(v.b)(e),d=Object(v.c)(e);u&&"maxLoopCount"in u&&(u.loopCounter>=u.maxLoopCount-1?u.shouldLoop=!1:u.loopCounter+=1,c.tracks=[].concat(l()(d),[_({},u)]));var p=(u||{}).shouldLoop;return 0===e.nextTrackIds.length&&(e.isPreview?c.controls=_(_({},e.controls),{},{isPosterShown:!p}):c.controls=_(_({},e.controls),{},{isHidden:p,isReplayButtonShown:!p,playState:p?void 0:y.k.PAUSE_REQUESTED})),c;case y.w:return _(_({},e),{},{percentVisible:t.percentVisible,percentOfViewportOccupied:t.percentOfViewportOccupied,sizesInfo:t.sizesInfo||{}});case y.a:n=b(e.controls,"playState"),e.controls.playState!==y.k.PLAY_REQUESTED&&(n.playState=e.controls.playState);var m=Object(v.b)(e),g=Object(v.c)(e);return _(_({},e),{},{controls:_(_({},n),{},{isPosterShown:!0}),tracks:[].concat(l()(g),[_(_({},m),{},{isBuffering:!1})])});case y.g:var T=void 0===e.dataUsageBytes?t.bytes:e.dataUsageBytes+t.bytes;return _(_({},e),{},{dataUsageBytes:T});case y.i:var O=e.liveClickthroughClicked||0;return _(_({},e),{},{liveClickthroughClicked:1+O});default:return e}},h.j,o.d,O.e,I.e,S.e],R="TEARDOWN_PLAYER",C=function(e){return{type:R,playerId:e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return n.reduce((function(e,n){return n(e,t)}),e)};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D;if(void 0!==t.playerId){if(t.type===R){var r=P({},e);return delete r[t.playerId],r}var a=e[t.playerId];if(t.type===f.e){if(!a)return e;a=P(P({},A),{},{errorInfo:a.errorInfo,features:a.features})}var o=k(a,t,n);if(void 0!==o)return P(P({},e),{},i()({},t.playerId,o))}return e}},988:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t},e.exports=t.default},989:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,i,a,o,s){var c=n+(-a*(t-i)+-o*n)*e,u=t+c*e;if(Math.abs(c)<s&&Math.abs(u-i)<s)return r[0]=i,r[1]=0,r;return r[0]=u,r[1]=c,r};var r=[0,0];e.exports=t.default},990:function(e,t,n){(function(t){(function(){var n,r,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-i)/1e6},r=t.hrtime,i=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})()):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n(42))},991:function(e,t,n){(function(t){for(var r=n(1562),i="undefined"==typeof window?t:window,a=["moz","webkit"],o="AnimationFrame",s=i["request"+o],c=i["cancel"+o]||i["cancelRequest"+o],u=0;!s&&u<a.length;u++)s=i[a[u]+"Request"+o],c=i[a[u]+"Cancel"+o]||i[a[u]+"CancelRequest"+o];if(!s||!c){var l=0,d=0,p=[];s=function(e){if(0===p.length){var t=r(),n=Math.max(0,1e3/60-(t-l));l=n+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},c=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){c.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=c}}).call(this,n(37))},992:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(0!==n[r])return!1;var i="number"==typeof t[r]?t[r]:t[r].val;if(e[r]!==i)return!1}return!0},e.exports=t.default},993:function(e,t,n){var r=n(10),i=n(560);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},994:function(e,t,n){"use strict";var r=n(742);t.__esModule=!0,t.default=void 0;var i=n(1009);t.updateAudioLevels=i.updateAudioLevels;var a=n(1010);t.updateGuestInfo=a.updateGuestInfo;var o=r(n(1579));t.hydraMiddleware=o.default,t.registerExperience=o.registerExperience;var s=r(n(1011));t.resetGuestState=s.resetGuestState,t.teardownExperience=s.teardownExperience;var c=s.default;t.default=c},995:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));n(71);var r=function(){var e=window.navigator;return 0===e.vendor.indexOf("Apple")&&/\sSafari\//.test(e.userAgent)},i=function(){var e=window.navigator;return r()&&/iPad|iPhone/.test(e.userAgent)},a=function(){return r()&&!i()}},996:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"b",(function(){return y}));n(25),n(47),n(30),n(39),n(17),n(20),n(48);var r=n(1),i=n.n(r),a=n(773),o=n(843);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={IDLE:"IDLE",BUFFERING_REQUESTED:"BUFFERING_REQUESTED",PREBUFFERING_COMPLETED:"PREBUFFERING_COMPLETED",BUFFERING_COMPLETED:"BUFFERING_COMPLETED"},l="SET_BUFFERING_STATUS",d=function(e,t,n){return{type:l,playerId:e,bufferingStatus:t,maximumBufferLength:n}},p="SET_TARGET_DURATION",f=function(e,t){return{type:p,targetDuration:t,playerId:e}},h=function(e,t){return{type:"UPDATE_BUFFER_LENGTH",maximumBufferLength:t,playerId:e}};t.e=function(e,t){switch(t.type){case a.b:var n,r,i=null==e||null===(n=e.features)||void 0===n?void 0:n[o.d],s=null==e||null===(r=e.features)||void 0===r?void 0:r[o.e];if(!i&&!s)return e;if(!i&&s)return c(c({},e),{},{maximumBufferLength:void 0,targetDuration:void 0});var d=void 0===e.bufferingStatus?u.IDLE:e.bufferingStatus;return c(c({},e),{},{bufferingStatus:d,maximumBufferLength:void 0,targetDuration:void 0});case l:return c(c({},e),{},{bufferingStatus:t.bufferingStatus,maximumBufferLength:void 0!==t.maximumBufferLength?t.maximumBufferLength:e.maximumBufferLength});case"UPDATE_BUFFER_LENGTH":var f;return t.maximumBufferLength===e.maximumBufferLength?e:c(c({},e),{},{bufferingStatus:null!=e&&null!==(f=e.features)&&void 0!==f&&f[o.d]?u.BUFFERING_REQUESTED:void 0,maximumBufferLength:t.maximumBufferLength});case p:return c(c({},e),{},{targetDuration:t.targetDuration});default:return e}};var y={bufferingStatus:void 0,maximumBufferLength:void 0,targetDuration:void 0}},997:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(1),i=n.n(r),a=n(756),o=n(781),s=function(e,t){return{feature:t,playerId:e,type:"GET_FEATURE_VALUE"}};t.a=function(e){return function(t){return function(n){if("GET_FEATURE_VALUE"===n.type){var r,s=n.feature,c=n.playerId,u=Object(o.a)(c);return u&&u.getValue&&(r=u.getValue(s),e.dispatch(Object(a.i)(c,i()({},s,r)))),r}return t(n)}}}}}]);